"use strict";(()=>{var SR=Object.create;var qo=Object.defineProperty;var _R=Object.getOwnPropertyDescriptor;var CR=Object.getOwnPropertyNames;var DR=Object.getPrototypeOf,RR=Object.prototype.hasOwnProperty;var Su=(e,t)=>()=>(e&&(t=e(e=0)),t);var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_u=(e,t)=>{for(var n in t)qo(e,n,{get:t[n],enumerable:!0})},Cp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of CR(t))!RR.call(e,i)&&i!==n&&qo(e,i,{get:()=>t[i],enumerable:!(r=_R(t,i))||r.enumerable});return e};var xo=(e,t,n)=>(n=e!=null?SR(DR(e)):{},Cp(t||!e||!e.__esModule?qo(n,"default",{value:e,enumerable:!0}):n,e)),tr=e=>Cp(qo({},"__esModule",{value:!0}),e);var Ei=S((HN,Dp)=>{var PR="2.0.0",wR=Number.MAX_SAFE_INTEGER||9007199254740991,TR=16,ER=250,qR=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Dp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:TR,MAX_SAFE_BUILD_LENGTH:ER,MAX_SAFE_INTEGER:wR,RELEASE_TYPES:qR,SEMVER_SPEC_VERSION:PR,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var qi=S((VN,Rp)=>{var xR=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Rp.exports=xR});var Dr=S((Dn,Pp)=>{var{MAX_SAFE_COMPONENT_LENGTH:Cu,MAX_SAFE_BUILD_LENGTH:kR,MAX_LENGTH:OR}=Ei(),MR=qi();Dn=Pp.exports={};var FR=Dn.re=[],AR=Dn.safeRe=[],X=Dn.src=[],Q=Dn.t={},IR=0,Du="[a-zA-Z0-9-]",jR=[["\\s",1],["\\d",OR],[Du,kR]],NR=e=>{for(let[t,n]of jR)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},se=(e,t,n)=>{let r=NR(t),i=IR++;MR(e,i,t),Q[e]=i,X[i]=t,FR[i]=new RegExp(t,n?"g":void 0),AR[i]=new RegExp(r,n?"g":void 0)};se("NUMERICIDENTIFIER","0|[1-9]\\d*");se("NUMERICIDENTIFIERLOOSE","\\d+");se("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Du}*`);se("MAINVERSION",`(${X[Q.NUMERICIDENTIFIER]})\\.(${X[Q.NUMERICIDENTIFIER]})\\.(${X[Q.NUMERICIDENTIFIER]})`);se("MAINVERSIONLOOSE",`(${X[Q.NUMERICIDENTIFIERLOOSE]})\\.(${X[Q.NUMERICIDENTIFIERLOOSE]})\\.(${X[Q.NUMERICIDENTIFIERLOOSE]})`);se("PRERELEASEIDENTIFIER",`(?:${X[Q.NUMERICIDENTIFIER]}|${X[Q.NONNUMERICIDENTIFIER]})`);se("PRERELEASEIDENTIFIERLOOSE",`(?:${X[Q.NUMERICIDENTIFIERLOOSE]}|${X[Q.NONNUMERICIDENTIFIER]})`);se("PRERELEASE",`(?:-(${X[Q.PRERELEASEIDENTIFIER]}(?:\\.${X[Q.PRERELEASEIDENTIFIER]})*))`);se("PRERELEASELOOSE",`(?:-?(${X[Q.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${X[Q.PRERELEASEIDENTIFIERLOOSE]})*))`);se("BUILDIDENTIFIER",`${Du}+`);se("BUILD",`(?:\\+(${X[Q.BUILDIDENTIFIER]}(?:\\.${X[Q.BUILDIDENTIFIER]})*))`);se("FULLPLAIN",`v?${X[Q.MAINVERSION]}${X[Q.PRERELEASE]}?${X[Q.BUILD]}?`);se("FULL",`^${X[Q.FULLPLAIN]}$`);se("LOOSEPLAIN",`[v=\\s]*${X[Q.MAINVERSIONLOOSE]}${X[Q.PRERELEASELOOSE]}?${X[Q.BUILD]}?`);se("LOOSE",`^${X[Q.LOOSEPLAIN]}$`);se("GTLT","((?:<|>)?=?)");se("XRANGEIDENTIFIERLOOSE",`${X[Q.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);se("XRANGEIDENTIFIER",`${X[Q.NUMERICIDENTIFIER]}|x|X|\\*`);se("XRANGEPLAIN",`[v=\\s]*(${X[Q.XRANGEIDENTIFIER]})(?:\\.(${X[Q.XRANGEIDENTIFIER]})(?:\\.(${X[Q.XRANGEIDENTIFIER]})(?:${X[Q.PRERELEASE]})?${X[Q.BUILD]}?)?)?`);se("XRANGEPLAINLOOSE",`[v=\\s]*(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:${X[Q.PRERELEASELOOSE]})?${X[Q.BUILD]}?)?)?`);se("XRANGE",`^${X[Q.GTLT]}\\s*${X[Q.XRANGEPLAIN]}$`);se("XRANGELOOSE",`^${X[Q.GTLT]}\\s*${X[Q.XRANGEPLAINLOOSE]}$`);se("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Cu}})(?:\\.(\\d{1,${Cu}}))?(?:\\.(\\d{1,${Cu}}))?`);se("COERCE",`${X[Q.COERCEPLAIN]}(?:$|[^\\d])`);se("COERCEFULL",X[Q.COERCEPLAIN]+`(?:${X[Q.PRERELEASE]})?(?:${X[Q.BUILD]})?(?:$|[^\\d])`);se("COERCERTL",X[Q.COERCE],!0);se("COERCERTLFULL",X[Q.COERCEFULL],!0);se("LONETILDE","(?:~>?)");se("TILDETRIM",`(\\s*)${X[Q.LONETILDE]}\\s+`,!0);Dn.tildeTrimReplace="$1~";se("TILDE",`^${X[Q.LONETILDE]}${X[Q.XRANGEPLAIN]}$`);se("TILDELOOSE",`^${X[Q.LONETILDE]}${X[Q.XRANGEPLAINLOOSE]}$`);se("LONECARET","(?:\\^)");se("CARETTRIM",`(\\s*)${X[Q.LONECARET]}\\s+`,!0);Dn.caretTrimReplace="$1^";se("CARET",`^${X[Q.LONECARET]}${X[Q.XRANGEPLAIN]}$`);se("CARETLOOSE",`^${X[Q.LONECARET]}${X[Q.XRANGEPLAINLOOSE]}$`);se("COMPARATORLOOSE",`^${X[Q.GTLT]}\\s*(${X[Q.LOOSEPLAIN]})$|^$`);se("COMPARATOR",`^${X[Q.GTLT]}\\s*(${X[Q.FULLPLAIN]})$|^$`);se("COMPARATORTRIM",`(\\s*)${X[Q.GTLT]}\\s*(${X[Q.LOOSEPLAIN]}|${X[Q.XRANGEPLAIN]})`,!0);Dn.comparatorTrimReplace="$1$2$3";se("HYPHENRANGE",`^\\s*(${X[Q.XRANGEPLAIN]})\\s+-\\s+(${X[Q.XRANGEPLAIN]})\\s*$`);se("HYPHENRANGELOOSE",`^\\s*(${X[Q.XRANGEPLAINLOOSE]})\\s+-\\s+(${X[Q.XRANGEPLAINLOOSE]})\\s*$`);se("STAR","(<|>)?=?\\s*\\*");se("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");se("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ko=S((BN,wp)=>{var LR=Object.freeze({loose:!0}),$R=Object.freeze({}),WR=e=>e?typeof e!="object"?LR:e:$R;wp.exports=WR});var Ru=S((zN,qp)=>{var Tp=/^[0-9]+$/,Ep=(e,t)=>{let n=Tp.test(e),r=Tp.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},UR=(e,t)=>Ep(t,e);qp.exports={compareIdentifiers:Ep,rcompareIdentifiers:UR}});var dt=S((GN,Mp)=>{var Oo=qi(),{MAX_LENGTH:xp,MAX_SAFE_INTEGER:Mo}=Ei(),{safeRe:kp,t:Op}=Dr(),HR=ko(),{compareIdentifiers:Rr}=Ru(),Pu=class e{constructor(t,n){if(n=HR(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xp)throw new TypeError(`version is longer than ${xp} characters`);Oo("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?kp[Op.LOOSE]:kp[Op.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Mo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Mo)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Oo("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Rr(this.major,t.major)||Rr(this.minor,t.minor)||Rr(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=t.prerelease[n];if(Oo("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Rr(r,i)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{let r=this.build[n],i=t.build[n];if(Oo("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Rr(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Rr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Mp.exports=Pu});var nr=S((KN,Ap)=>{var Fp=dt(),VR=(e,t,n=!1)=>{if(e instanceof Fp)return e;try{return new Fp(e,t)}catch(r){if(!n)return null;throw r}};Ap.exports=VR});var jp=S((JN,Ip)=>{var BR=nr(),zR=(e,t)=>{let n=BR(e,t);return n?n.version:null};Ip.exports=zR});var Lp=S((XN,Np)=>{var GR=nr(),KR=(e,t)=>{let n=GR(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};Np.exports=KR});var Up=S((QN,Wp)=>{var $p=dt(),JR=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new $p(e instanceof $p?e.version:e,n).inc(t,r,i).version}catch{return null}};Wp.exports=JR});var Bp=S((YN,Vp)=>{var Hp=nr(),XR=(e,t)=>{let n=Hp(e,null,!0),r=Hp(t,null,!0),i=n.compare(r);if(i===0)return null;let o=i>0,s=o?n:r,a=o?r:n,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let d=c?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};Vp.exports=XR});var Gp=S((ZN,zp)=>{var QR=dt(),YR=(e,t)=>new QR(e,t).major;zp.exports=YR});var Jp=S((eL,Kp)=>{var ZR=dt(),eP=(e,t)=>new ZR(e,t).minor;Kp.exports=eP});var Qp=S((tL,Xp)=>{var tP=dt(),nP=(e,t)=>new tP(e,t).patch;Xp.exports=nP});var Zp=S((nL,Yp)=>{var rP=nr(),iP=(e,t)=>{let n=rP(e,t);return n&&n.prerelease.length?n.prerelease:null};Yp.exports=iP});var Ft=S((rL,th)=>{var eh=dt(),oP=(e,t,n)=>new eh(e,n).compare(new eh(t,n));th.exports=oP});var rh=S((iL,nh)=>{var sP=Ft(),aP=(e,t,n)=>sP(t,e,n);nh.exports=aP});var oh=S((oL,ih)=>{var cP=Ft(),uP=(e,t)=>cP(e,t,!0);ih.exports=uP});var Fo=S((sL,ah)=>{var sh=dt(),lP=(e,t,n)=>{let r=new sh(e,n),i=new sh(t,n);return r.compare(i)||r.compareBuild(i)};ah.exports=lP});var uh=S((aL,ch)=>{var dP=Fo(),fP=(e,t)=>e.sort((n,r)=>dP(n,r,t));ch.exports=fP});var dh=S((cL,lh)=>{var gP=Fo(),pP=(e,t)=>e.sort((n,r)=>gP(r,n,t));lh.exports=pP});var xi=S((uL,fh)=>{var hP=Ft(),mP=(e,t,n)=>hP(e,t,n)>0;fh.exports=mP});var Ao=S((lL,gh)=>{var yP=Ft(),vP=(e,t,n)=>yP(e,t,n)<0;gh.exports=vP});var wu=S((dL,ph)=>{var bP=Ft(),SP=(e,t,n)=>bP(e,t,n)===0;ph.exports=SP});var Tu=S((fL,hh)=>{var _P=Ft(),CP=(e,t,n)=>_P(e,t,n)!==0;hh.exports=CP});var Io=S((gL,mh)=>{var DP=Ft(),RP=(e,t,n)=>DP(e,t,n)>=0;mh.exports=RP});var jo=S((pL,yh)=>{var PP=Ft(),wP=(e,t,n)=>PP(e,t,n)<=0;yh.exports=wP});var Eu=S((hL,vh)=>{var TP=wu(),EP=Tu(),qP=xi(),xP=Io(),kP=Ao(),OP=jo(),MP=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return TP(e,n,r);case"!=":return EP(e,n,r);case">":return qP(e,n,r);case">=":return xP(e,n,r);case"<":return kP(e,n,r);case"<=":return OP(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};vh.exports=MP});var Sh=S((mL,bh)=>{var FP=dt(),AP=nr(),{safeRe:No,t:Lo}=Dr(),IP=(e,t)=>{if(e instanceof FP)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?No[Lo.COERCEFULL]:No[Lo.COERCE]);else{let c=t.includePrerelease?No[Lo.COERCERTLFULL]:No[Lo.COERCERTL],u;for(;(u=c.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",o=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",a=t.includePrerelease&&n[6]?`+${n[6]}`:"";return AP(`${r}.${i}.${o}${s}${a}`,t)};bh.exports=IP});var Ch=S((yL,_h)=>{"use strict";_h.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Rh=S((vL,Dh)=>{"use strict";Dh.exports=ve;ve.Node=rr;ve.create=ve;function ve(e){var t=this;if(t instanceof ve||(t=new ve),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}ve.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ve.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ve.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ve.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)NP(this,arguments[e]);return this.length};ve.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)LP(this,arguments[e]);return this.length};ve.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ve.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ve.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};ve.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};ve.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};ve.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};ve.prototype.map=function(e,t){t=t||this;for(var n=new ve,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};ve.prototype.mapReverse=function(e,t){t=t||this;for(var n=new ve,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};ve.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};ve.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};ve.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};ve.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};ve.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ve;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};ve.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ve;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};ve.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=jP(this,i,n[r]);return o};ve.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function jP(e,t,n){var r=t===e.head?new rr(n,null,t,e):new rr(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function NP(e,t){e.tail=new rr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function LP(e,t){e.head=new rr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function rr(e,t,n,r){if(!(this instanceof rr))return new rr(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Ch()(ve)}catch{}});var qh=S((bL,Eh)=>{"use strict";var $P=Rh(),ir=Symbol("max"),Pn=Symbol("length"),Pr=Symbol("lengthCalculator"),Oi=Symbol("allowStale"),or=Symbol("maxAge"),Rn=Symbol("dispose"),Ph=Symbol("noDisposeOnSet"),rt=Symbol("lruList"),Jt=Symbol("cache"),Th=Symbol("updateAgeOnGet"),qu=()=>1,ku=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let n=this[ir]=t.max||1/0,r=t.length||qu;if(this[Pr]=typeof r!="function"?qu:r,this[Oi]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[or]=t.maxAge||0,this[Rn]=t.dispose,this[Ph]=t.noDisposeOnSet||!1,this[Th]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ir]=t||1/0,ki(this)}get max(){return this[ir]}set allowStale(t){this[Oi]=!!t}get allowStale(){return this[Oi]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[or]=t,ki(this)}get maxAge(){return this[or]}set lengthCalculator(t){typeof t!="function"&&(t=qu),t!==this[Pr]&&(this[Pr]=t,this[Pn]=0,this[rt].forEach(n=>{n.length=this[Pr](n.value,n.key),this[Pn]+=n.length})),ki(this)}get lengthCalculator(){return this[Pr]}get length(){return this[Pn]}get itemCount(){return this[rt].length}rforEach(t,n){n=n||this;for(let r=this[rt].tail;r!==null;){let i=r.prev;wh(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[rt].head;r!==null;){let i=r.next;wh(this,t,r,n),r=i}}keys(){return this[rt].toArray().map(t=>t.key)}values(){return this[rt].toArray().map(t=>t.value)}reset(){this[Rn]&&this[rt]&&this[rt].length&&this[rt].forEach(t=>this[Rn](t.key,t.value)),this[Jt]=new Map,this[rt]=new $P,this[Pn]=0}dump(){return this[rt].map(t=>$o(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[rt]}set(t,n,r){if(r=r||this[or],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[Pr](n,t);if(this[Jt].has(t)){if(o>this[ir])return wr(this,this[Jt].get(t)),!1;let c=this[Jt].get(t).value;return this[Rn]&&(this[Ph]||this[Rn](t,c.value)),c.now=i,c.maxAge=r,c.value=n,this[Pn]+=o-c.length,c.length=o,this.get(t),ki(this),!0}let s=new Ou(t,n,o,i,r);return s.length>this[ir]?(this[Rn]&&this[Rn](t,n),!1):(this[Pn]+=s.length,this[rt].unshift(s),this[Jt].set(t,this[rt].head),ki(this),!0)}has(t){if(!this[Jt].has(t))return!1;let n=this[Jt].get(t).value;return!$o(this,n)}get(t){return xu(this,t,!0)}peek(t){return xu(this,t,!1)}pop(){let t=this[rt].tail;return t?(wr(this,t),t.value):null}del(t){wr(this,this[Jt].get(t))}load(t){this.reset();let n=Date.now();for(let r=t.length-1;r>=0;r--){let i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Jt].forEach((t,n)=>xu(this,n,!1))}},xu=(e,t,n)=>{let r=e[Jt].get(t);if(r){let i=r.value;if($o(e,i)){if(wr(e,r),!e[Oi])return}else n&&(e[Th]&&(r.value.now=Date.now()),e[rt].unshiftNode(r));return i.value}},$o=(e,t)=>{if(!t||!t.maxAge&&!e[or])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[or]&&n>e[or]},ki=e=>{if(e[Pn]>e[ir])for(let t=e[rt].tail;e[Pn]>e[ir]&&t!==null;){let n=t.prev;wr(e,t),t=n}},wr=(e,t)=>{if(t){let n=t.value;e[Rn]&&e[Rn](n.key,n.value),e[Pn]-=n.length,e[Jt].delete(n.key),e[rt].removeNode(t)}},Ou=class{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},wh=(e,t,n,r)=>{let i=n.value;$o(e,i)&&(wr(e,n),e[Oi]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};Eh.exports=ku});var At=S((SL,Mh)=>{var Mu=class e{constructor(t,n){if(n=UP(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof Fu)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!kh(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&JP(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let r=((this.options.includePrerelease&&GP)|(this.options.loose&&KP))+":"+t,i=xh.get(r);if(i)return i;let o=this.options.loose,s=o?Dt[bt.HYPHENRANGELOOSE]:Dt[bt.HYPHENRANGE];t=t.replace(s,ow(this.options.includePrerelease)),je("hyphen replace",t),t=t.replace(Dt[bt.COMPARATORTRIM],VP),je("comparator trim",t),t=t.replace(Dt[bt.TILDETRIM],BP),je("tilde trim",t),t=t.replace(Dt[bt.CARETTRIM],zP),je("caret trim",t);let a=t.split(" ").map(l=>XP(l,this.options)).join(" ").split(/\s+/).map(l=>iw(l,this.options));o&&(a=a.filter(l=>(je("loose invalid filter",l,this.options),!!l.match(Dt[bt.COMPARATORLOOSE])))),je("range list",a);let c=new Map,u=a.map(l=>new Fu(l,this.options));for(let l of u){if(kh(l))return[l];c.set(l.value,l)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return xh.set(r,d),d}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(r=>Oh(r,n)&&t.set.some(i=>Oh(i,n)&&r.every(o=>i.every(s=>o.intersects(s,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new HP(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(sw(this.set[n],t,this.options))return!0;return!1}};Mh.exports=Mu;var WP=qh(),xh=new WP({max:1e3}),UP=ko(),Fu=Mi(),je=qi(),HP=dt(),{safeRe:Dt,t:bt,comparatorTrimReplace:VP,tildeTrimReplace:BP,caretTrimReplace:zP}=Dr(),{FLAG_INCLUDE_PRERELEASE:GP,FLAG_LOOSE:KP}=Ei(),kh=e=>e.value==="<0.0.0-0",JP=e=>e.value==="",Oh=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,t)),i=r.pop();return n},XP=(e,t)=>(je("comp",e,t),e=ZP(e,t),je("caret",e),e=QP(e,t),je("tildes",e),e=tw(e,t),je("xrange",e),e=rw(e,t),je("stars",e),e),St=e=>!e||e.toLowerCase()==="x"||e==="*",QP=(e,t)=>e.trim().split(/\s+/).map(n=>YP(n,t)).join(" "),YP=(e,t)=>{let n=t.loose?Dt[bt.TILDELOOSE]:Dt[bt.TILDE];return e.replace(n,(r,i,o,s,a)=>{je("tilde",e,r,i,o,s,a);let c;return St(i)?c="":St(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:St(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(je("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,je("tilde return",c),c})},ZP=(e,t)=>e.trim().split(/\s+/).map(n=>ew(n,t)).join(" "),ew=(e,t)=>{je("caret",e,t);let n=t.loose?Dt[bt.CARETLOOSE]:Dt[bt.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(i,o,s,a,c)=>{je("caret",e,i,o,s,a,c);let u;return St(o)?u="":St(s)?u=`>=${o}.0.0${r} <${+o+1}.0.0-0`:St(a)?o==="0"?u=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:c?(je("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(je("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),je("caret return",u),u})},tw=(e,t)=>(je("replaceXRanges",e,t),e.split(/\s+/).map(n=>nw(n,t)).join(" ")),nw=(e,t)=>{e=e.trim();let n=t.loose?Dt[bt.XRANGELOOSE]:Dt[bt.XRANGE];return e.replace(n,(r,i,o,s,a,c)=>{je("xRange",e,r,i,o,s,a,c);let u=St(o),d=u||St(s),l=d||St(a),p=l;return i==="="&&p&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&p?(d&&(s=0),a=0,i===">"?(i=">=",d?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",d?o=+o+1:s=+s+1),i==="<"&&(c="-0"),r=`${i+o}.${s}.${a}${c}`):d?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:l&&(r=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),je("xRange return",r),r})},rw=(e,t)=>(je("replaceStars",e,t),e.trim().replace(Dt[bt.STAR],"")),iw=(e,t)=>(je("replaceGTE0",e,t),e.trim().replace(Dt[t.includePrerelease?bt.GTE0PRE:bt.GTE0],"")),ow=e=>(t,n,r,i,o,s,a,c,u,d,l,p,f)=>(St(r)?n="":St(i)?n=`>=${r}.0.0${e?"-0":""}`:St(o)?n=`>=${r}.${i}.0${e?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,St(u)?c="":St(d)?c=`<${+u+1}.0.0-0`:St(l)?c=`<${u}.${+d+1}.0-0`:p?c=`<=${u}.${d}.${l}-${p}`:e?c=`<${u}.${d}.${+l+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),sw=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if(je(e[r].semver),e[r].semver!==Fu.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Mi=S((_L,Lh)=>{var Fi=Symbol("SemVer ANY"),ju=class e{static get ANY(){return Fi}constructor(t,n){if(n=Fh(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Iu("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Fi?this.value="":this.value=this.operator+this.semver.version,Iu("comp",this)}parse(t){let n=this.options.loose?Ah[Ih.COMPARATORLOOSE]:Ah[Ih.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new jh(r[2],this.options.loose):this.semver=Fi}toString(){return this.value}test(t){if(Iu("Comparator.test",t,this.options.loose),this.semver===Fi||t===Fi)return!0;if(typeof t=="string")try{t=new jh(t,this.options)}catch{return!1}return Au(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Nh(t.value,n).test(this.value):t.operator===""?t.value===""?!0:new Nh(this.value,n).test(t.semver):(n=Fh(n),n.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Au(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Au(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};Lh.exports=ju;var Fh=ko(),{safeRe:Ah,t:Ih}=Dr(),Au=Eu(),Iu=qi(),jh=dt(),Nh=At()});var Ai=S((CL,$h)=>{var aw=At(),cw=(e,t,n)=>{try{t=new aw(t,n)}catch{return!1}return t.test(e)};$h.exports=cw});var Uh=S((DL,Wh)=>{var uw=At(),lw=(e,t)=>new uw(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Wh.exports=lw});var Vh=S((RL,Hh)=>{var dw=dt(),fw=At(),gw=(e,t,n)=>{let r=null,i=null,o=null;try{o=new fw(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new dw(r,n))}),r};Hh.exports=gw});var zh=S((PL,Bh)=>{var pw=dt(),hw=At(),mw=(e,t,n)=>{let r=null,i=null,o=null;try{o=new hw(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new pw(r,n))}),r};Bh.exports=mw});var Jh=S((wL,Kh)=>{var Nu=dt(),yw=At(),Gh=xi(),vw=(e,t)=>{e=new yw(e,t);let n=new Nu("0.0.0");if(e.test(n)||(n=new Nu("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){let i=e.set[r],o=null;i.forEach(s=>{let a=new Nu(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Gh(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!n||Gh(n,o))&&(n=o)}return n&&e.test(n)?n:null};Kh.exports=vw});var Qh=S((TL,Xh)=>{var bw=At(),Sw=(e,t)=>{try{return new bw(e,t).range||"*"}catch{return null}};Xh.exports=Sw});var Wo=S((EL,tm)=>{var _w=dt(),em=Mi(),{ANY:Cw}=em,Dw=At(),Rw=Ai(),Yh=xi(),Zh=Ao(),Pw=jo(),ww=Io(),Tw=(e,t,n,r)=>{e=new _w(e,r),t=new Dw(t,r);let i,o,s,a,c;switch(n){case">":i=Yh,o=Pw,s=Zh,a=">",c=">=";break;case"<":i=Zh,o=ww,s=Yh,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Rw(e,t,r))return!1;for(let u=0;u<t.set.length;++u){let d=t.set[u],l=null,p=null;if(d.forEach(f=>{f.semver===Cw&&(f=new em(">=0.0.0")),l=l||f,p=p||f,i(f.semver,l.semver,r)?l=f:s(f.semver,p.semver,r)&&(p=f)}),l.operator===a||l.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0};tm.exports=Tw});var rm=S((qL,nm)=>{var Ew=Wo(),qw=(e,t,n)=>Ew(e,t,">",n);nm.exports=qw});var om=S((xL,im)=>{var xw=Wo(),kw=(e,t,n)=>xw(e,t,"<",n);im.exports=kw});var cm=S((kL,am)=>{var sm=At(),Ow=(e,t,n)=>(e=new sm(e,n),t=new sm(t,n),e.intersects(t,n));am.exports=Ow});var lm=S((OL,um)=>{var Mw=Ai(),Fw=Ft();um.exports=(e,t,n)=>{let r=[],i=null,o=null,s=e.sort((d,l)=>Fw(d,l,n));for(let d of s)Mw(d,t,n)?(o=d,i||(i=d)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let a=[];for(let[d,l]of r)d===l?a.push(d):!l&&d===s[0]?a.push("*"):l?d===s[0]?a.push(`<=${l}`):a.push(`${d} - ${l}`):a.push(`>=${d}`);let c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var mm=S((ML,hm)=>{var dm=At(),$u=Mi(),{ANY:Lu}=$u,Ii=Ai(),Wu=Ft(),Aw=(e,t,n={})=>{if(e===t)return!0;e=new dm(e,n),t=new dm(t,n);let r=!1;e:for(let i of e.set){for(let o of t.set){let s=jw(i,o,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Iw=[new $u(">=0.0.0-0")],fm=[new $u(">=0.0.0")],jw=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Lu){if(t.length===1&&t[0].semver===Lu)return!0;n.includePrerelease?e=Iw:e=fm}if(t.length===1&&t[0].semver===Lu){if(n.includePrerelease)return!0;t=fm}let r=new Set,i,o;for(let f of e)f.operator===">"||f.operator===">="?i=gm(i,f,n):f.operator==="<"||f.operator==="<="?o=pm(o,f,n):r.add(f.semver);if(r.size>1)return null;let s;if(i&&o){if(s=Wu(i.semver,o.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let f of r){if(i&&!Ii(f,String(i),n)||o&&!Ii(f,String(o),n))return null;for(let g of t)if(!Ii(f,String(g),n))return!1;return!0}let a,c,u,d,l=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;l&&l.prerelease.length===1&&o.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(let f of t){if(d=d||f.operator===">"||f.operator===">=",u=u||f.operator==="<"||f.operator==="<=",i){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=gm(i,f,n),a===f&&a!==i)return!1}else if(i.operator===">="&&!Ii(i.semver,String(f),n))return!1}if(o){if(l&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===l.major&&f.semver.minor===l.minor&&f.semver.patch===l.patch&&(l=!1),f.operator==="<"||f.operator==="<="){if(c=pm(o,f,n),c===f&&c!==o)return!1}else if(o.operator==="<="&&!Ii(o.semver,String(f),n))return!1}if(!f.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&d&&!i&&s!==0||p||l)},gm=(e,t,n)=>{if(!e)return t;let r=Wu(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},pm=(e,t,n)=>{if(!e)return t;let r=Wu(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};hm.exports=Aw});var Uo=S((FL,bm)=>{var Uu=Dr(),ym=Ei(),Nw=dt(),vm=Ru(),Lw=nr(),$w=jp(),Ww=Lp(),Uw=Up(),Hw=Bp(),Vw=Gp(),Bw=Jp(),zw=Qp(),Gw=Zp(),Kw=Ft(),Jw=rh(),Xw=oh(),Qw=Fo(),Yw=uh(),Zw=dh(),eT=xi(),tT=Ao(),nT=wu(),rT=Tu(),iT=Io(),oT=jo(),sT=Eu(),aT=Sh(),cT=Mi(),uT=At(),lT=Ai(),dT=Uh(),fT=Vh(),gT=zh(),pT=Jh(),hT=Qh(),mT=Wo(),yT=rm(),vT=om(),bT=cm(),ST=lm(),_T=mm();bm.exports={parse:Lw,valid:$w,clean:Ww,inc:Uw,diff:Hw,major:Vw,minor:Bw,patch:zw,prerelease:Gw,compare:Kw,rcompare:Jw,compareLoose:Xw,compareBuild:Qw,sort:Yw,rsort:Zw,gt:eT,lt:tT,eq:nT,neq:rT,gte:iT,lte:oT,cmp:sT,coerce:aT,Comparator:cT,Range:uT,satisfies:lT,toComparators:dT,maxSatisfying:fT,minSatisfying:gT,minVersion:pT,validRange:hT,outside:mT,gtr:yT,ltr:vT,intersects:bT,simplifyRange:ST,subset:_T,SemVer:Nw,re:Uu.re,src:Uu.src,tokens:Uu.t,SEMVER_SPEC_VERSION:ym.SEMVER_SPEC_VERSION,RELEASE_TYPES:ym.RELEASE_TYPES,compareIdentifiers:vm.compareIdentifiers,rcompareIdentifiers:vm.rcompareIdentifiers}});var xe=S(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.safeCall=sn.isJsonDocument=sn.isTsDocument=sn.getConfigTitle=void 0;function CT(e){return e.languageId==="javascriptreact"?"javascript":e.languageId==="typescriptreact"?"typescript":e.languageId}sn.getConfigTitle=CT;function DT(e){return e.languageId==="javascript"||e.languageId==="typescript"||e.languageId==="javascriptreact"||e.languageId==="typescriptreact"}sn.isTsDocument=DT;function RT(e){return e.languageId==="json"||e.languageId==="jsonc"}sn.isJsonDocument=RT;function PT(e){try{return e()}catch{}}sn.safeCall=PT});var _m=S(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.getDocumentRegistry=void 0;var Sm=[];function wT(e,t,n){let r=Sm.find(i=>i[0]===t&&i[1]===n)?.[2];return r||(r=e.createDocumentRegistry(t,n),Sm.push([t,n,r])),r}Ho.getDocumentRegistry=wT});var Cm=S(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.resolveRenameEditText=te.resolveRenameNewName=te.shouldReportDiagnostics=te.isSignatureHelpEnabled=te.isAutoInsertEnabled=te.isCompletionEnabled=te.isFormattingEnabled=te.isCodeActionsEnabled=te.isDiagnosticsEnabled=te.isDocumentLinkEnabled=te.isColorEnabled=te.isLinkedEditingEnabled=te.isSelectionRangesEnabled=te.isFoldingRangesEnabled=te.isSymbolsEnabled=te.isHighlightEnabled=te.isImplementationEnabled=te.isReferencesEnabled=te.isTypeDefinitionEnabled=te.isDefinitionEnabled=te.isRenameEnabled=te.isCallHierarchyEnabled=te.isSemanticTokensEnabled=te.isCodeLensEnabled=te.isInlayHintsEnabled=te.isHoverEnabled=void 0;function TT(e){return!!e.semantic}te.isHoverEnabled=TT;function ET(e){return!!e.semantic}te.isInlayHintsEnabled=ET;function qT(e){return!!e.semantic}te.isCodeLensEnabled=qT;function xT(e){return typeof e.semantic=="object"?e.semantic.shouldHighlight?.()??!0:e.semantic}te.isSemanticTokensEnabled=xT;function kT(e){return!!e.navigation}te.isCallHierarchyEnabled=kT;function OT(e){return!!e.navigation}te.isRenameEnabled=OT;function MT(e){return!!e.navigation}te.isDefinitionEnabled=MT;function FT(e){return!!e.navigation}te.isTypeDefinitionEnabled=FT;function AT(e){return!!e.navigation}te.isReferencesEnabled=AT;function IT(e){return!!e.navigation}te.isImplementationEnabled=IT;function jT(e){return!!e.navigation}te.isHighlightEnabled=jT;function NT(e){return e.structure}te.isSymbolsEnabled=NT;function LT(e){return e.structure}te.isFoldingRangesEnabled=LT;function $T(e){return e.structure}te.isSelectionRangesEnabled=$T;function WT(e){return e.structure}te.isLinkedEditingEnabled=WT;function UT(e){return e.structure}te.isColorEnabled=UT;function HT(e){return e.structure}te.isDocumentLinkEnabled=HT;function VT(e){return!!e.verification}te.isDiagnosticsEnabled=VT;function BT(e){return!!e.verification}te.isCodeActionsEnabled=BT;function zT(e){return e.format}te.isFormattingEnabled=zT;function GT(e){return!!e.completion}te.isCompletionEnabled=GT;function KT(e){return!!e.completion}te.isAutoInsertEnabled=KT;function JT(e){return!!e.completion}te.isSignatureHelpEnabled=JT;function XT(e){return typeof e.verification=="object"?e.verification.shouldReport?.()??!0:e.verification}te.shouldReportDiagnostics=XT;function QT(e,t){return typeof t.navigation=="object"?t.navigation.resolveRenameNewName?.(e)??e:e}te.resolveRenameNewName=QT;function YT(e,t){return typeof t.navigation=="object"?t.navigation.resolveRenameEditText?.(e)??e:e}te.resolveRenameEditText=YT});var Dm=S(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.binarySearch=void 0;function ZT(e,t){let n=0,r=e.length-1;for(;n<=r;){let i=Math.floor((n+r)/2),o=e[i];if(o<t)n=i+1;else if(o>t)r=i-1;else{n=i,r=i;break}}return Math.max(Math.min(n,r,e.length-1),0)}Vo.binarySearch=ZT});var Vu=S(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.getStack=It.track=It.resetOffsetStack=It.offsetStack=It.setTracking=void 0;var Rm=!0,Hu=0;function eE(e){Rm=e}It.setTracking=eE;function tE(){Hu++}It.offsetStack=tE;function nE(){Hu--}It.resetOffsetStack=nE;function rE(e,t=[]){return[new Proxy(e,{get(u,d,l){if(Rm){if(d==="push")return n;if(d==="pop")return r;if(d==="shift")return i;if(d==="unshift")return o;if(d==="splice")return s;if(d==="sort")return a;if(d==="reverse")return c}return Reflect.get(u,d,l)}}),t];function n(...u){return t.push({stack:Tr(),length:u.length}),e.push(...u)}function r(){if(t.length){let u=t[t.length-1];u.length>1?u.length--:t.pop()}return e.pop()}function i(){if(t.length){let u=t[0];u.length>1?u.length--:t.shift()}return e.shift()}function o(...u){return t.unshift({stack:Tr(),length:u.length}),e.unshift(...u)}function s(u,d,...l){d===void 0&&(d=e.length-u);let p=0,f;for(let h=0;h<t.length;h++){let b=t[h],m=p;if(p=m+b.length,u>=m){f=h+1;let v=b.length;b.length=u-m,t.splice(f,0,{stack:b.stack,length:v-b.length});break}}if(f===void 0)throw new Error("Invalid splice operation");let g=d;for(let h=f;h<t.length;h++){let b=t[h];for(;g>0&&b.length>0;)b.length--,g--;if(g===0)break}return t.splice(f,0,{stack:Tr(),length:l.length}),e.splice(u,d,...l)}function a(u){return t.splice(0,t.length,{stack:Tr(),length:e.length}),e.sort(u)}function c(){return t.splice(0,t.length,{stack:Tr(),length:e.length}),e.reverse()}}It.track=rE;function Tr(){let t=new Error().stack.split(`
`)[3+Hu].trim();return t.endsWith(")")?t=t.slice(t.lastIndexOf("(")+1,-1):t=t.slice(t.lastIndexOf(" ")+1),t}It.getStack=Tr});var wm=S(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0})});var Mm=S(Ve=>{"use strict";var iE=Ve&&Ve.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Em=Ve&&Ve.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&iE(t,e,n)};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.replaceRange=Ve.replaceSourceRange=Ve.replaceAll=Ve.replace=Ve.create=Ve.toString=Ve.getLength=void 0;var Tm=Dm(),an=Vu();Em(wm(),Ve);Em(Vu(),Ve);function qm(e){let t=0;for(let n of e)t+=typeof n=="string"?n.length:n[0].length;return t}Ve.getLength=qm;function Bu(e){return e.map(t=>typeof t=="string"?t:t[0]).join("")}Ve.toString=Bu;function oE(e){return[[e,void 0,0]]}Ve.create=oE;function sE(e,t,...n){let i=Bu(e).match(t);if(i&&i.index!==void 0){let o=i.index,s=o+i[0].length;(0,an.offsetStack)(),zu(e,o,s,...n.map(a=>typeof a=="function"?a(i[0]):a)),(0,an.resetOffsetStack)()}}Ve.replace=sE;function aE(e,t,...n){let r=Bu(e),i=r.matchAll(t),o=r.length,s=0;for(let a of i)if(a.index!==void 0){let c=a.index+s,u=c+a[0].length;(0,an.offsetStack)(),zu(e,c,u,...n.map(l=>typeof l=="function"?l(a[0]):l)),(0,an.resetOffsetStack)();let d=qm(e);s+=d-o,o=d}}Ve.replaceAll=aE;function cE(e,t,n,r,...i){for(let o of e)if(typeof o!="string"&&o[1]===t){let s=o[2],a=o[2]+o[0].length;if(s<=n&&a>=r){let c=[];n>s&&c.push(km(o,n-s));for(let u of i)c.push(u);return r<a&&c.push(Om(o,r-a)),xm(c),(0,an.offsetStack)(),e.splice(e.indexOf(o),1,...c),(0,an.resetOffsetStack)(),!0}}return!1}Ve.replaceSourceRange=cE;function zu(e,t,n,...r){let i=uE(e),o=(0,Tm.binarySearch)(i,t),s=(0,Tm.binarySearch)(i,n),a=e[o],c=e[s],u=i[o],d=i[s],l=i[s]+(typeof c=="string"?c.length:c[0].length),p=[];t>u&&p.push(km(a,t-u));for(let f of r)p.push(f);n<l&&p.push(Om(c,n-d)),xm(p),(0,an.offsetStack)(),e.splice(o,s-o+1,...p),(0,an.resetOffsetStack)()}Ve.replaceRange=zu;function xm(e){for(let t=e.length-1;t>=1;t--)typeof e[t]=="string"&&typeof e[t-1]=="string"&&(e[t-1]=e[t-1]+e[t],(0,an.offsetStack)(),e.splice(t,1),(0,an.resetOffsetStack)())}function km(e,t){return typeof e=="string"?e.slice(0,t):[e[0].slice(0,t),...e.slice(1)]}function Om(e,t){return typeof e=="string"?e.slice(t):(t<0&&(t+=e[0].length),[e[0].slice(t),e[1],e[2]+t,...e.slice(3)])}function uE(e){let t=[],n=0;for(let r of e)t.push(n),n+=typeof r=="string"?r.length:r[0].length;return t}});var Fm=S(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.binarySearch=void 0;function lE(e,t){let n=0,r=e.length-1,i;for(;n<=r;){let a=Math.floor((n+r)/2),c=e[a];if(c<t)n=a+1;else if(c>t)r=a-1;else{n=a,r=a,i=a;break}}let o=Math.max(Math.min(n,r,e.length-1),0),s=Math.min(Math.max(n,r,0),e.length-1);return{low:o,high:s,match:i}}Bo.binarySearch=lE});var Gu=S(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.translateOffset=void 0;function dE(e,t,n,r){for(let i=0;i<t.length;i++){let o=t[i],s=n[i],a=r[i];if(e>=o&&e<=o+a)return s+e-o}}zo.translateOffset=dE});var Am=S(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.SourceMap=void 0;var Ku=Fm(),fE=Gu(),Ju=class{constructor(t){this.mappings=t}getSourceOffset(t){for(let n of this.findMatching(t,"generatedOffsets","sourceOffsets"))return n}getGeneratedOffset(t){for(let n of this.findMatching(t,"sourceOffsets","generatedOffsets"))return n}getSourceOffsets(t){return this.findMatching(t,"generatedOffsets","sourceOffsets")}getGeneratedOffsets(t){return this.findMatching(t,"sourceOffsets","generatedOffsets")}*findMatching(t,n,r){let i=this.getMemoBasedOnRange(n);if(i.offsets.length===0)return;let{low:o,high:s}=(0,Ku.binarySearch)(i.offsets,t),a=new Set;for(let c=o;c<=s;c++)for(let u of i.mappings[c]){if(a.has(u))continue;a.add(u);let d=(0,fE.translateOffset)(t,u[n],u[r],u.lengths);d!==void 0&&(yield[d,u])}}getMemoBasedOnRange(t){return t==="sourceOffsets"?this.sourceCodeOffsetsMemo??=this.createMemo("sourceOffsets"):this.generatedCodeOffsetsMemo??=this.createMemo("generatedOffsets")}createMemo(t){let n=new Set;for(let o of this.mappings)for(let s=0;s<o[t].length;s++)n.add(o[t][s]),n.add(o[t][s]+o.lengths[s]);let r=[...n].sort((o,s)=>o-s),i=r.map(()=>new Set);for(let o of this.mappings)for(let s=0;s<o[t].length;s++){let a=(0,Ku.binarySearch)(r,o[t][s]).match,c=(0,Ku.binarySearch)(r,o[t][s]+o.lengths[s]).match;for(let u=a;u<=c;u++)i[u].add(o)}return{offsets:r,mappings:i}}};Go.SourceMap=Ju});var Im=S(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.buildMappings=void 0;function gE(e){let t=0,n=[];for(let r of e)typeof r=="string"?t+=r.length:(n.push({source:r[1],sourceOffsets:[r[2]],generatedOffsets:[t],lengths:[r[0].length],data:r[3]}),t+=r[0].length);return n}Ko.buildMappings=gE});var jm=S(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.buildStacks=void 0;function pE(e,t){let n=0,r=0,i=[];for(let o of t){let s=n;for(let a=0;a<o.length;a++){let c=e[r+a];typeof c=="string"?n+=c.length:n+=c[0].length}r+=o.length,i.push({source:o.stack,range:[s,n]})}return i}Jo.buildStacks=pE});var Xo=S(Xt=>{"use strict";var hE=Xt&&Xt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ji=Xt&&Xt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&hE(t,e,n)};Object.defineProperty(Xt,"__esModule",{value:!0});ji(Mm(),Xt);ji(Am(),Xt);ji(Gu(),Xt);ji(Im(),Xt);ji(jm(),Xt)});var Qu=S(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.LinkedCodeMap=void 0;var mE=Xo(),Xu=class extends mE.SourceMap{*getLinkedOffsets(t){for(let n of this.getGeneratedOffsets(t))yield n[0];for(let n of this.getSourceOffsets(t))yield n[0]}};Qo.LinkedCodeMap=Xu});var Zu=S(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.FileMap=void 0;var Yu=class extends Map{constructor(t){super(),this.caseSensitive=t,this.originalFileNames=new Map}keys(){return this.originalFileNames.values()}get(t){return super.get(this.normalizeId(t))}has(t){return super.has(this.normalizeId(t))}set(t,n){return this.originalFileNames.set(this.normalizeId(t),t),super.set(this.normalizeId(t),n)}delete(t){return this.originalFileNames.delete(this.normalizeId(t)),super.delete(this.normalizeId(t))}clear(){return this.originalFileNames.clear(),super.clear()}normalizeId(t){return this.caseSensitive?t:t.toLowerCase()}};Yo.FileMap=Yu});var Lm=S(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.forEachEmbeddedCode=Mn.updateVirtualCodeMaps=Mn.createFileRegistry=void 0;var yE=Xo(),vE=Qu(),bE=Zu();function SE(e,t,n){let r=new bE.FileMap(t),i=new WeakMap,o=new WeakMap,s=new WeakMap;return{languagePlugins:e,set(a,c,u,d=e){let l=r.get(a);if(l){if(l.languageId!==c)return this.delete(a),this.set(a,c,u);if(l.snapshot!==u){if(l.snapshot=u,l.generated){l.generated.code=l.generated.languagePlugin.updateVirtualCode(a,l.generated.code,u,this);for(let f of Ni(l.generated.code))i.set(f,l)}return l}else return l}let p={id:a,languageId:c,snapshot:u};r.set(a,p);for(let f of d){let g=f.createVirtualCode(a,c,u,this);if(g){p.generated={code:g,languagePlugin:f};for(let h of Ni(g))i.set(h,p);break}}return p},delete(a){let c=r.get(a);c&&(c.generated&&c.generated.languagePlugin.disposeVirtualCode?.(a,c.generated.code,this),r.delete(a))},get(a){return n(a),r.get(a)},getByVirtualCode(a){return i.get(a)},getLinkedCodeMap(a){return s.has(a.snapshot)||s.set(a.snapshot,a.linkedCodeMappings?new vE.LinkedCodeMap(a.linkedCodeMappings):void 0),s.get(a.snapshot)},getMaps(a){return o.has(a.snapshot)||o.set(a.snapshot,new Map),Nm(a,c=>{if(c){let u=r.get(c);return[c,u.snapshot]}else{let u=i.get(a);return[u.id,u.snapshot]}},o.get(a.snapshot)),o.get(a.snapshot)},getVirtualCode(a,c){let u=this.get(a);if(u?.generated){for(let d of Ni(u.generated.code))if(d.id===c)return[d,u]}return[void 0,void 0]}}}Mn.createFileRegistry=SE;function Nm(e,t,n=new Map){let r=new Set;for(let i of e.mappings){if(r.has(i.source))continue;r.add(i.source);let o=t(i.source);o&&(!n.has(o[0])||n.get(o[0])[0]!==o[1])&&n.set(o[0],[o[1],new yE.SourceMap(e.mappings.filter(s=>s.source===i.source))])}return n}Mn.updateVirtualCodeMaps=Nm;function*Ni(e){if(yield e,e.embeddedCodes)for(let t of e.embeddedCodes)yield*Ni(t)}Mn.forEachEmbeddedCode=Ni});var el=S($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0})});var fe=S(Rt=>{"use strict";var _E=Rt&&Rt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Er=Rt&&Rt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&_E(t,e,n)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.resolveCommonLanguageId=void 0;Er(Cm(),Rt);Er(Lm(),Rt);Er(Qu(),Rt);Er(el(),Rt);Er(Zu(),Rt);Er(Xo(),Rt);function CE(e){let t=e.split(".").pop();switch(t){case"js":return"javascript";case"cjs":return"javascript";case"mjs":return"javascript";case"ts":return"typescript";case"cts":return"typescript";case"mts":return"typescript";case"jsx":return"javascriptreact";case"tsx":return"typescriptreact";case"pug":return"jade";case"md":return"markdown"}return t}Rt.resolveCommonLanguageId=CE});var Um=S(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.dedupeDocumentSpans=qr.dedupeReferencedSymbols=void 0;function DE(e){return Wm(e,t=>[t.definition.fileName,t.definition.textSpan.start,t.definition.textSpan.length].join(":"))}qr.dedupeReferencedSymbols=DE;function RE(e){return Wm(e,t=>[t.fileName,t.textSpan.start,t.textSpan.length].join(":"))}qr.dedupeDocumentSpans=RE;function Wm(e,t){let n=new Map;for(let r of e.reverse())n.set(t(r),r);return[...n.values()]}});var Zo=S(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.getVirtualFileAndMap=xr.notEmpty=void 0;function PE(e){return e!=null}xr.notEmpty=PE;function wE(e,t){let n=e.get(t);if(n?.generated){let r=n.generated.languagePlugin.typescript?.getScript(n.generated.code);if(r){for(let i of e.getMaps(r.code))if(i[1][0]===n.snapshot)return[r,n,i[1][1]]}}return[void 0,void 0,void 0]}xr.getVirtualFileAndMap=wE});var tl=S(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.transformSpan=jt.transformDocumentSpan=jt.transformFileTextChanges=jt.transformDiagnostic=jt.transformCallHierarchyItem=void 0;var TE=fe(),Or=Zo(),kr=new WeakMap;function EE(e,t,n){let r=Fn(e,t.file,t.span,n),i=Fn(e,t.file,t.selectionSpan,n);return{...t,span:r?.textSpan??{start:0,length:0},selectionSpan:i?.textSpan??{start:0,length:0}}}jt.transformCallHierarchyItem=EE;function Hm(e,t){if(!kr.has(t)){kr.set(t,void 0);let{relatedInformation:n}=t;if(n&&(t.relatedInformation=n.map(r=>Hm(e,r)).filter(Or.notEmpty)),t.file!==void 0&&t.start!==void 0&&t.length!==void 0){let[r,i,o]=(0,Or.getVirtualFileAndMap)(e,t.file.fileName);if(r){let s=Vm(i,o,t.start,t.start+t.length,TE.shouldReportDiagnostics);s&&kr.set(t,{...t,start:s[0],length:s[1]-s[0]})}else kr.set(t,t)}else kr.set(t,t)}return kr.get(t)}jt.transformDiagnostic=Hm;function qE(e,t,n){let[r,i]=(0,Or.getVirtualFileAndMap)(e,t.fileName);return i?{...t,textChanges:t.textChanges.map(o=>{let s=Fn(e,t.fileName,o.span,n);if(s)return{...o,span:s.textSpan}}).filter(Or.notEmpty)}:t}jt.transformFileTextChanges=qE;function xE(e,t,n,r){let i=Fn(e,t.fileName,t.textSpan,n);if(!i&&r){let[c]=(0,Or.getVirtualFileAndMap)(e,t.fileName);c&&(i={fileName:t.fileName,textSpan:{start:0,length:0}})}if(!i)return;let o=Fn(e,t.fileName,t.contextSpan,n),s=Fn(e,t.originalFileName,t.originalTextSpan,n),a=Fn(e,t.originalFileName,t.originalContextSpan,n);return{...t,fileName:i.fileName,textSpan:i.textSpan,contextSpan:o?.textSpan,originalFileName:s?.fileName,originalTextSpan:s?.textSpan,originalContextSpan:a?.textSpan}}jt.transformDocumentSpan=xE;function Fn(e,t,n,r){if(!t||!n)return;let[i,o,s]=(0,Or.getVirtualFileAndMap)(e,t);if(i){let a=Vm(o,s,n.start,n.start+n.length,r);if(a)return{fileName:t,textSpan:{start:a[0],length:a[1]-a[0]}}}else return{fileName:t,textSpan:n}}jt.transformSpan=Fn;function Vm(e,t,n,r,i){for(let o of t.getSourceOffsets(n-e.snapshot.getLength()))if(i(o[1].data)){for(let s of t.getSourceOffsets(r-e.snapshot.getLength()))if(s[0]>=o[0]&&i(s[1].data))return[o[0],s[0]]}}});var Bm=S(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.decorateLanguageService=void 0;var re=fe(),An=Um(),le=Zo(),we=tl();function kE(e,t){let{getNavigationTree:n,getOutliningSpans:r}=t;t.getNavigationTree=x=>{let[A]=(0,le.getVirtualFileAndMap)(e,x);if(A){let j=n(x);return j.childItems=void 0,j}else return n(x)},t.getOutliningSpans=x=>{let[A]=(0,le.getVirtualFileAndMap)(e,x);return A?[]:r(x)};let{findReferences:i,findRenameLocations:o,getCompletionEntryDetails:s,getCompletionsAtPosition:a,getDefinitionAndBoundSpan:c,getDefinitionAtPosition:u,getFileReferences:d,getImplementationAtPosition:l,getQuickInfoAtPosition:p,getReferencesAtPosition:f,getSemanticDiagnostics:g,getSyntacticDiagnostics:h,getSuggestionDiagnostics:b,getTypeDefinitionAtPosition:m,getEncodedSemanticClassifications:y,getDocumentHighlights:v,getApplicableRefactors:R,getEditsForRefactor:P,getRenameInfo:_,getCodeFixesAtPosition:D,prepareCallHierarchy:E,provideCallHierarchyIncomingCalls:k,provideCallHierarchyOutgoingCalls:T,provideInlayHints:q,organizeImports:N}=t;t.prepareCallHierarchy=(x,A)=>{let[j,B,U]=(0,le.getVirtualFileAndMap)(e,x);if(j){for(let[$,W]of U.getGeneratedOffsets(A))if((0,re.isCallHierarchyEnabled)(W.data)){let z=E(x,$+B.snapshot.getLength());if(Array.isArray(z))return z.map(ne=>(0,we.transformCallHierarchyItem)(e,ne,re.isCallHierarchyEnabled));if(z)return(0,we.transformCallHierarchyItem)(e,z,re.isCallHierarchyEnabled)}}else return E(x,A)},t.provideCallHierarchyIncomingCalls=(x,A)=>{let j=[],[B,U,$]=(0,le.getVirtualFileAndMap)(e,x);if(B)for(let[W,z]of $.getGeneratedOffsets(A))(0,re.isCallHierarchyEnabled)(z.data)&&(j=k(x,W+U.snapshot.getLength()));else j=k(x,A);return j.map(W=>{let z=(0,we.transformCallHierarchyItem)(e,W.from,re.isCallHierarchyEnabled),ne=W.fromSpans.map(pe=>(0,we.transformSpan)(e,W.from.file,pe,re.isCallHierarchyEnabled)?.textSpan).filter(le.notEmpty);return{from:z,fromSpans:ne}})},t.provideCallHierarchyOutgoingCalls=(x,A)=>{let j=[],[B,U,$]=(0,le.getVirtualFileAndMap)(e,x);if(B)for(let[W,z]of $.getGeneratedOffsets(A))(0,re.isCallHierarchyEnabled)(z.data)&&(j=T(x,W+U.snapshot.getLength()));else j=T(x,A);return j.map(W=>{let z=(0,we.transformCallHierarchyItem)(e,W.to,re.isCallHierarchyEnabled),ne=W.fromSpans.map(pe=>(0,we.transformSpan)(e,x,pe,re.isCallHierarchyEnabled)?.textSpan).filter(le.notEmpty);return{to:z,fromSpans:ne}})},t.organizeImports=(x,A,j)=>N(x,A,j).map($=>(0,we.transformFileTextChanges)(e,$,re.isCodeActionsEnabled)).filter(le.notEmpty),t.getQuickInfoAtPosition=(x,A)=>{let[j,B,U]=(0,le.getVirtualFileAndMap)(e,x);if(j){for(let[$,W]of U.getGeneratedOffsets(A))if((0,re.isHoverEnabled)(W.data)){let z=p(x,$+B.snapshot.getLength());if(z){let ne=(0,we.transformSpan)(e,x,z.textSpan,re.isHoverEnabled)?.textSpan;if(ne)return{...z,textSpan:ne}}}}else return p(x,A)},t.getDocumentHighlights=(x,A,j)=>F(x,A,re.isHighlightEnabled,$=>v(x,$,j),function*($){for(let W of $)for(let z of W.highlightSpans)yield[z.fileName??W.fileName,z.textSpan.start]}).flat().map($=>({...$,highlightSpans:$.highlightSpans.map(W=>{let z=(0,we.transformSpan)(e,W.fileName??$.fileName,W.textSpan,re.isHighlightEnabled)?.textSpan;if(z)return{...W,contextSpan:(0,we.transformSpan)(e,W.fileName??$.fileName,W.contextSpan,re.isHighlightEnabled)?.textSpan,textSpan:z}}).filter(le.notEmpty)})),t.getApplicableRefactors=(x,A,j,B,U,$)=>{let[W,z,ne]=(0,le.getVirtualFileAndMap)(e,x);if(W){for(let[pe,Z]of ne.getGeneratedOffsets(typeof A=="number"?A:A.pos))if((0,re.isCodeActionsEnabled)(Z.data)){let _e=typeof A=="number"?pe+z.snapshot.getLength():{pos:pe+z.snapshot.getLength(),end:pe+A.end-A.pos+z.snapshot.getLength()};return R(x,_e,j,B,U,$)}return[]}else return R(x,A,j,B,U,$)},t.getEditsForRefactor=(x,A,j,B,U,$)=>{let W,[z,ne,pe]=(0,le.getVirtualFileAndMap)(e,x);if(z){for(let[Z,_e]of pe.getGeneratedOffsets(typeof j=="number"?j:j.pos))if((0,re.isCodeActionsEnabled)(_e.data)){let Te=typeof j=="number"?Z+ne.snapshot.getLength():{pos:Z+ne.snapshot.getLength(),end:Z+j.end-j.pos+ne.snapshot.getLength()};W=P(x,A,Te,B,U,$)}}else W=P(x,A,j,B,U,$);if(W)return W.edits=W.edits.map(Z=>(0,we.transformFileTextChanges)(e,Z,re.isCodeActionsEnabled)).filter(le.notEmpty),W},t.getRenameInfo=(x,A,j)=>{let[B,U,$]=(0,le.getVirtualFileAndMap)(e,x);if(B){for(let[W,z]of $.getGeneratedOffsets(A))if((0,re.isRenameEnabled)(z.data)){let ne=_(x,W+U.snapshot.getLength(),j);if(ne.canRename){let pe=(0,we.transformSpan)(e,x,ne.triggerSpan,re.isRenameEnabled);if(pe)return ne.triggerSpan=pe.textSpan,ne}else return ne}return{canRename:!1,localizedErrorMessage:"Failed to get rename locations"}}else return _(x,A,j)},t.getCodeFixesAtPosition=(x,A,j,B,U,$)=>{let W=[],[z,ne,pe]=(0,le.getVirtualFileAndMap)(e,x);if(z){for(let[Z,_e]of pe.getGeneratedOffsets(A))if((0,re.isCodeActionsEnabled)(_e.data)){for(let[Te,lt]of pe.getGeneratedOffsets(j))if((0,re.isCodeActionsEnabled)(lt.data)){W=D(x,Z+ne.snapshot.getLength(),Te+ne.snapshot.getLength(),B,U,$);break}break}}else W=D(x,A,j,B,U,$);return W=W.map(Z=>(Z.changes=Z.changes.map(_e=>(0,we.transformFileTextChanges)(e,_e,re.isCodeActionsEnabled)).filter(le.notEmpty),Z)),W},t.getEncodedSemanticClassifications=(x,A,j)=>{let[B,U,$]=(0,le.getVirtualFileAndMap)(e,x);if(B){let W,z;for(let Z of $.mappings)(0,re.isSemanticTokensEnabled)(Z.data)&&Z.sourceOffsets[0]>=A.start&&Z.sourceOffsets[0]<=A.start+A.length&&(W??=Z.generatedOffsets[0],z??=Z.generatedOffsets[Z.generatedOffsets.length-1],W=Math.min(W,Z.generatedOffsets[0]),z=Math.max(z,Z.generatedOffsets[Z.generatedOffsets.length-1]));(W===void 0||z===void 0)&&(W=0,z=0),W+=U.snapshot.getLength(),z+=U.snapshot.getLength();let ne=y(x,{start:W,length:z-W},j),pe=[];for(let Z=0;Z<ne.spans.length;Z+=3)for(let[_e,Te]of $.getSourceOffsets(ne.spans[Z]-U.snapshot.getLength()))if((0,re.isSemanticTokensEnabled)(Te.data)){for(let[lt,Ee]of $.getSourceOffsets(ne.spans[Z]+ne.spans[Z+1]-U.snapshot.getLength()))if((0,re.isSemanticTokensEnabled)(Ee.data)){pe.push(_e,lt-_e,ne.spans[Z+2]);break}break}return ne.spans=pe,ne}else return y(x,A,j)},t.getSyntacticDiagnostics=x=>h(x).map(A=>(0,we.transformDiagnostic)(e,A)).filter(le.notEmpty),t.getSemanticDiagnostics=x=>g(x).map(A=>(0,we.transformDiagnostic)(e,A)).filter(le.notEmpty),t.getSuggestionDiagnostics=x=>b(x).map(A=>(0,we.transformDiagnostic)(e,A)).filter(le.notEmpty),t.getDefinitionAndBoundSpan=(x,A)=>{let j=F(x,A,re.isDefinitionEnabled,$=>c(x,$),function*($){for(let W of $.definitions??[])yield[W.fileName,W.textSpan.start]}),B=j.map($=>(0,we.transformSpan)(e,x,$.textSpan,re.isDefinitionEnabled)?.textSpan).filter(le.notEmpty)[0];if(!B)return;let U=j.map($=>$.definitions?.map(W=>(0,we.transformDocumentSpan)(e,W,re.isDefinitionEnabled,W.fileName!==x)).filter(le.notEmpty)).filter(le.notEmpty).flat();return{textSpan:B,definitions:(0,An.dedupeDocumentSpans)(U)}},t.findReferences=(x,A)=>{let B=F(x,A,re.isReferencesEnabled,U=>i(x,U),function*(U){for(let $ of U)for(let W of $.references)yield[W.fileName,W.textSpan.start]}).flat().map(U=>{let $=(0,we.transformDocumentSpan)(e,U.definition,re.isDefinitionEnabled);if($)return{definition:$,references:U.references.map(W=>(0,we.transformDocumentSpan)(e,W,re.isReferencesEnabled)).filter(le.notEmpty)}}).filter(le.notEmpty);return(0,An.dedupeReferencedSymbols)(B)},t.getDefinitionAtPosition=(x,A)=>{let B=F(x,A,re.isDefinitionEnabled,U=>u(x,U),function*(U){for(let $ of U)yield[$.fileName,$.textSpan.start]}).flat().map(U=>(0,we.transformDocumentSpan)(e,U,re.isDefinitionEnabled,U.fileName!==x)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(B)},t.getTypeDefinitionAtPosition=(x,A)=>{let B=F(x,A,re.isTypeDefinitionEnabled,U=>m(x,U),function*(U){for(let $ of U)yield[$.fileName,$.textSpan.start]}).flat().map(U=>(0,we.transformDocumentSpan)(e,U,re.isTypeDefinitionEnabled)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(B)},t.getImplementationAtPosition=(x,A)=>{let B=F(x,A,re.isImplementationEnabled,U=>l(x,U),function*(U){for(let $ of U)yield[$.fileName,$.textSpan.start]}).flat().map(U=>(0,we.transformDocumentSpan)(e,U,re.isImplementationEnabled)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(B)},t.findRenameLocations=(x,A,j,B,U)=>{let W=F(x,A,re.isRenameEnabled,z=>o(x,z,j,B,U),function*(z){for(let ne of z)yield[ne.fileName,ne.textSpan.start]}).flat().map(z=>(0,we.transformDocumentSpan)(e,z,re.isRenameEnabled)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(W)},t.getReferencesAtPosition=(x,A)=>{let B=F(x,A,re.isReferencesEnabled,U=>f(x,U),function*(U){for(let $ of U)yield[$.fileName,$.textSpan.start]}).flat().map(U=>(0,we.transformDocumentSpan)(e,U,re.isReferencesEnabled)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(B)},t.getCompletionsAtPosition=(x,A,j,B)=>{let[U,$,W]=(0,le.getVirtualFileAndMap)(e,x);if(U){let z,ne=[];for(let[pe,Z]of W.getGeneratedOffsets(A))if((0,re.isCompletionEnabled)(Z.data)){let _e=typeof Z.data.completion=="object"&&Z.data.completion.isAdditional;if(!_e&&z)continue;let Te=a(x,pe+$.snapshot.getLength(),j,B);if(Te){for(let lt of Te.entries)lt.replacementSpan=(0,we.transformSpan)(e,x,lt.replacementSpan,re.isCompletionEnabled)?.textSpan;Te.optionalReplacementSpan=(0,we.transformSpan)(e,x,Te.optionalReplacementSpan,re.isCompletionEnabled)?.textSpan,_e?ne.push(Te):z=Te}}if(!z&&ne.length&&(z=ne.shift()),z)return{...z,entries:[...z.entries,...ne.map(pe=>pe.entries).flat()]}}else return a(x,A,j,B)},t.getCompletionEntryDetails=(x,A,j,B,U,$,W)=>{let z,[ne,pe,Z]=(0,le.getVirtualFileAndMap)(e,x);if(ne){for(let[_e,Te]of Z.getGeneratedOffsets(A))if((0,re.isCompletionEnabled)(Te.data)){z=s(x,_e+pe.snapshot.getLength(),j,B,U,$,W);break}}else return s(x,A,j,B,U,$,W);if(z?.codeActions)for(let _e of z.codeActions)_e.changes=_e.changes.map(Te=>(0,we.transformFileTextChanges)(e,Te,re.isCompletionEnabled)).filter(le.notEmpty);return z},t.provideInlayHints=(x,A,j)=>{let[B,U,$]=(0,le.getVirtualFileAndMap)(e,x);if(B){let W,z;for(let Z of $.mappings)(0,re.isInlayHintsEnabled)(Z.data)&&Z.sourceOffsets[0]>=A.start&&Z.sourceOffsets[0]<=A.start+A.length&&(W??=Z.generatedOffsets[0],z??=Z.generatedOffsets[Z.generatedOffsets.length-1],W=Math.min(W,Z.generatedOffsets[0]),z=Math.max(z,Z.generatedOffsets[Z.generatedOffsets.length-1]));(W===void 0||z===void 0)&&(W=0,z=0),W+=U.snapshot.getLength(),z+=U.snapshot.getLength();let ne=q(x,{start:W,length:z-W},j),pe=[];for(let Z of ne)for(let[_e,Te]of $.getSourceOffsets(Z.position-U.snapshot.getLength()))if((0,re.isInlayHintsEnabled)(Te.data)){pe.push({...Z,position:_e});break}return pe}else return q(x,A,j)},t.getFileReferences=x=>{let j=d(x).map(B=>(0,we.transformDocumentSpan)(e,B,re.isReferencesEnabled)).filter(le.notEmpty);return(0,An.dedupeDocumentSpans)(j)};function F(x,A,j,B,U){let $=[],W=new Set,[z,ne,pe]=(0,le.getVirtualFileAndMap)(e,x);if(z)for(let[_e,Te]of pe.getGeneratedOffsets(A))j(Te.data)&&Z(x,_e+ne.snapshot.getLength());else Z(x,A);return $;function Z(_e,Te){if(W.has(_e+":"+Te))return;W.add(_e+":"+Te);let lt=B(Te);if(lt){$=$.concat(lt);for(let Ee of U(lt)){W.add(Ee[0]+":"+Ee[1]);let[er,Re]=(0,le.getVirtualFileAndMap)(e,Ee[0]);if(!er)continue;let nn=e.getLinkedCodeMap(er.code);if(nn)for(let M of nn.getLinkedOffsets(Ee[1]-Re.snapshot.getLength()))Z(Ee[0],M+Re.snapshot.getLength())}}}}}es.decorateLanguageService=kE});var nl=S(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.createResolveModuleName=void 0;function OE(e,t,n,r){let i=new Map,o={readFile:t.readFile.bind(t),directoryExists:t.directoryExists?.bind(t),realpath:t.realpath?.bind(t),getCurrentDirectory:t.getCurrentDirectory.bind(t),getDirectories:t.getDirectories?.bind(t),useCaseSensitiveFileNames:t.useCaseSensitiveFileNames?.bind(t),fileExists(a){for(let{typescript:c}of n)if(c){for(let{extension:u}of c.extraFileExtensions)if(a.endsWith(`.d.${u}.ts`)){let d=a.slice(0,-`.d.${u}.ts`.length)+`.${u}`;if(s(d))return i.set(a,d),!0}}return t.fileExists(a)}};return(a,c,u,d,l,p)=>{let f=e.resolveModuleName(a,c,u,o,d,l,p);if(f.resolvedModule&&i.has(f.resolvedModule.resolvedFileName)){f.resolvedModule.resolvedFileName=i.get(f.resolvedModule.resolvedFileName);let g=r(f.resolvedModule.resolvedFileName);if(g?.generated){let h=g.generated.languagePlugin.typescript?.getScript(g.generated.code);h&&(f.resolvedModule.extension=h.extension)}}return i.clear(),f};function s(a){return t.fileExists(a)?(e.sys.getFileSize?.(a)??t.readFile(a)?.length??0)<4*1024*1024:!1}}ts.createResolveModuleName=OE});var zm=S(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.searchExternalFiles=Mr.decorateLanguageServiceHost=void 0;var ME=fe(),FE=nl();function AE(e,t,n){let r=0,{languagePlugins:i}=e,o=i.map(g=>g.typescript?.extraFileExtensions.map(h=>"."+h.extension)??[]).flat(),s=new Map,a=t.readDirectory?.bind(t),c=t.resolveModuleNameLiterals?.bind(t),u=t.resolveModuleNames?.bind(t),d=t.getProjectVersion?.bind(t),l=t.getScriptSnapshot.bind(t),p=t.getScriptKind?.bind(t);if(a&&(t.readDirectory=(g,h,b,m,y)=>{if(h)for(let v of o)h.includes(v)||(h=[...h,...v]);return a(g,h,b,m,y)}),i.some(g=>g.typescript?.extraFileExtensions.length)){let g=(0,FE.createResolveModuleName)(n,t,i,h=>e.get(h));c&&(t.resolveModuleNameLiterals=(h,b,m,y,...v)=>h.every(R=>!o.some(P=>R.text.endsWith(P)))?c(h,b,m,y,...v):h.map(R=>g(R.text,b,y,void 0,m))),u&&(t.resolveModuleNames=(h,b,m,y,v,R)=>h.every(P=>!o.some(_=>P.endsWith(_)))?u(h,b,m,y,v,R):h.map(P=>g(P,b,v,void 0,y).resolvedModule))}d&&(t.getProjectVersion=()=>d()+":"+r),t.getScriptSnapshot=g=>o.some(h=>g.endsWith(h))?(f(g),s.get(g)?.snapshot):l(g),p&&(t.getScriptKind=g=>{if(o.some(h=>g.endsWith(h))){f(g);let h=s.get(g);return h?h.kind:n.ScriptKind.Deferred}return p(g)});function f(g){let h=t.getScriptVersion(g);if(h!==s.get(g)?.version){let b=".ts",m,y=n.ScriptKind.TS,v=l(g);if(v){r++;let R=e.set(g,(0,ME.resolveCommonLanguageId)(g),v);if(R.generated){let _=v.getText(0,v.getLength()).split(`
`).map(E=>" ".repeat(E.length)).join(`
`),D=R.generated.languagePlugin.typescript?.getScript(R.generated.code);D&&(b=D.extension,y=D.scriptKind,_+=D.code.snapshot.getText(0,D.code.snapshot.getLength())),m=n.ScriptSnapshot.fromString(_),R.generated.languagePlugin.typescript?.getExtraScripts&&console.warn("getExtraScripts() is not available in this use case.")}}else e.get(g)&&(r++,e.delete(g));s.set(g,{version:h,extension:b,snapshot:m,kind:y})}return s.get(g)}}Mr.decorateLanguageServiceHost=AE;function IE(e,t,n){if(t.projectKind!==e.server.ProjectKind.Configured)return[];let r=t.getProjectName(),i=e.readJsonConfigFile(r,t.readFile.bind(t)),o={useCaseSensitiveFileNames:t.useCaseSensitiveFileNames(),fileExists:t.fileExists.bind(t),readFile:t.readFile.bind(t),readDirectory:(...a)=>(a[1]=n,t.readDirectory(...a))};return e.parseJsonSourceFileConfigFileContent(i,o,t.getCurrentDirectory()).fileNames}Mr.searchExternalFiles=IE});var rl=S(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.decorateProgram=void 0;var Li=Zo(),$i=tl();function jE(e,t){let n=t.emit,r=t.getSyntacticDiagnostics,i=t.getSemanticDiagnostics,o=t.getGlobalDiagnostics,s=t.getBindAndCheckDiagnostics;t.emit=(a,c,u,d,l)=>{let p=n(a,c,u,d,l);return{emitSkipped:p.emitSkipped,emittedFiles:p.emittedFiles,diagnostics:p.diagnostics.map(f=>(0,$i.transformDiagnostic)(e,f)).filter(Li.notEmpty)}},t.getSyntacticDiagnostics=(a,c)=>r(a,c).map(u=>(0,$i.transformDiagnostic)(e,u)).filter(Li.notEmpty),t.getSemanticDiagnostics=(a,c)=>i(a,c).map(u=>(0,$i.transformDiagnostic)(e,u)).filter(Li.notEmpty),t.getGlobalDiagnostics=a=>o(a).map(c=>(0,$i.transformDiagnostic)(e,c)).filter(Li.notEmpty),t.getBindAndCheckDiagnostics=(a,c)=>s(a,c).map(u=>(0,$i.transformDiagnostic)(e,u)).filter(Li.notEmpty)}ns.decorateProgram=jE});var Km=S(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.proxyCreateProgram=void 0;var NE=rl(),Gm=fe();function LE(e,t,n,r){return new Proxy(t,{apply:(i,o,s)=>{let a=s[0];il(!!a.host,"!!options.host");let c=new WeakMap,u=(0,Gm.createFileRegistry)(r(e,a),e.sys.useCaseSensitiveFileNames,m=>{let y;il(d.has(m),`originalSourceFiles.has(${m})`);let v=d.get(m);v&&(y=c.get(v),y||(y={getChangeRange(){},getLength(){return v.text.length},getText(R,P){return v.text.substring(R,P)}},c.set(v,y))),y?u.set(m,(0,Gm.resolveCommonLanguageId)(m),y):u.delete(m)}),d=new Map,l=new WeakMap,p=n.map(m=>`.d${m}.ts`),f=a.host,g={...f,fileExists(m){for(let y=0;y<p.length;y++)if(m.endsWith(p[y]))return f.fileExists(m.slice(0,-p[y].length)+n[y]);return f.fileExists(m)}};a.host={...f},a.options.allowArbitraryExtensions=!0,a.host.getSourceFile=(m,y,v,R)=>{let P=f.getSourceFile(m,y,v,R);if(d.set(m,P),P&&n.some(_=>m.endsWith(_))){let _=l.get(P);if(!_){let D=u.get(m);il(!!D,"!!sourceFile");let E=P.text.split(`
`).map(T=>" ".repeat(T.length)).join(`
`),k=e.ScriptKind.TS;if(D.generated?.languagePlugin.typescript){let{getScript:T,getExtraScripts:q}=D.generated.languagePlugin.typescript,N=T(D.generated.code);N&&(k=N.scriptKind,E+=N.code.snapshot.getText(0,N.code.snapshot.getLength())),q&&console.warn("getExtraScripts() is not available in this use case.")}_=e.createSourceFile(m,E,99,!0,k),_.version=P.version,l.set(P,_)}return _}return P},a.host.resolveModuleNameLiterals=(m,y,v,R)=>m.map(P=>b(P.text,y,R,v)),a.host.resolveModuleNames=(m,y,v,R,P)=>m.map(_=>b(_,y,P,R).resolvedModule);let h=Reflect.apply(i,o,[a]);return(0,NE.decorateProgram)(u,h),h.__volar__={files:u},h;function b(m,y,v,R){let P=e.resolveModuleName(m,y,v,g,f.getModuleResolutionCache?.(),R);if(P.resolvedModule){for(let _=0;_<p.length;_++)if(P.resolvedModule.resolvedFileName.endsWith(p[_])){let D=P.resolvedModule.resolvedFileName.slice(0,-p[_].length)+n[_];P.resolvedModule.resolvedFileName=D,P.resolvedModule.extension=n[_]}}return P}}})}rs.proxyCreateProgram=LE;function il(e,t){if(!e)throw console.error(t),new Error(t)}});var wn=S((a$,Xm)=>{"use strict";function cn(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Jm(e,t){for(var n="",r=0,i=-1,o=0,s,a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,o=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return n}function $E(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}var Fr={resolve:function(){for(var t="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),cn(o),o.length!==0&&(t=o+"/"+t,n=o.charCodeAt(0)===47)}return t=Jm(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(cn(t),t.length===0)return".";var n=t.charCodeAt(0)===47,r=t.charCodeAt(t.length-1)===47;return t=Jm(t,!n),t.length===0&&!n&&(t="."),t.length>0&&r&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return cn(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var r=arguments[n];cn(r),r.length>0&&(t===void 0?t=r:t+="/"+r)}return t===void 0?".":Fr.normalize(t)},relative:function(t,n){if(cn(t),cn(n),t===n||(t=Fr.resolve(t),n=Fr.resolve(n),t===n))return"";for(var r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var i=t.length,o=i-r,s=1;s<n.length&&n.charCodeAt(s)===47;++s);for(var a=n.length,c=a-s,u=o<c?o:c,d=-1,l=0;l<=u;++l){if(l===u){if(c>u){if(n.charCodeAt(s+l)===47)return n.slice(s+l+1);if(l===0)return n.slice(s+l)}else o>u&&(t.charCodeAt(r+l)===47?d=l:l===0&&(d=0));break}var p=t.charCodeAt(r+l),f=n.charCodeAt(s+l);if(p!==f)break;p===47&&(d=l)}var g="";for(l=r+d+1;l<=i;++l)(l===i||t.charCodeAt(l)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+n.slice(s+d):(s+=d,n.charCodeAt(s)===47&&++s,n.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(cn(t),t.length===0)return".";for(var n=t.charCodeAt(0),r=n===47,i=-1,o=!0,s=t.length-1;s>=1;--s)if(n=t.charCodeAt(s),n===47){if(!o){i=s;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":t.slice(0,i)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');cn(t);var r=0,i=-1,o=!0,s;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var a=n.length-1,c=-1;for(s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(u===47){if(!o){r=s+1;break}}else c===-1&&(o=!1,c=s+1),a>=0&&(u===n.charCodeAt(a)?--a===-1&&(i=s):(a=-1,i=c))}return r===i?i=c:i===-1&&(i=t.length),t.slice(r,i)}else{for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!o){r=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":t.slice(r,i)}},extname:function(t){cn(t);for(var n=-1,r=0,i=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!o){r=a+1;break}continue}i===-1&&(o=!1,i=a+1),c===46?n===-1?n=a:s!==1&&(s=1):n!==-1&&(s=-1)}return n===-1||i===-1||s===0||s===1&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return $E("/",t)},parse:function(t){cn(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var r=t.charCodeAt(0),i=r===47,o;i?(n.root="/",o=1):o=0;for(var s=-1,a=0,c=-1,u=!0,d=t.length-1,l=0;d>=o;--d){if(r=t.charCodeAt(d),r===47){if(!u){a=d+1;break}continue}c===-1&&(u=!1,c=d+1),r===46?s===-1?s=d:l!==1&&(l=1):s!==-1&&(l=-1)}return s===-1||c===-1||l===0||l===1&&s===c-1&&s===a+1?c!==-1&&(a===0&&i?n.base=n.name=t.slice(1,c):n.base=n.name=t.slice(a,c)):(a===0&&i?(n.name=t.slice(1,s),n.base=t.slice(1,c)):(n.name=t.slice(a,s),n.base=t.slice(a,c)),n.ext=t.slice(s,c)),a>0?n.dir=t.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Fr.posix=Fr;Xm.exports=Fr});var Ym=S(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.createLanguage=void 0;var ol=fe(),WE=fe(),UE=wn(),HE=nl(),sl=new Map,is=new Map;function VE(e,t,n,r,i,{fileIdToFileName:o,fileNameToFileId:s}){let a=(0,ol.createFileRegistry)(n,t.useCaseSensitiveFileNames,l=>{let p=o(l),f=i.getScriptSnapshot(p);if(!f){let g=is.get(p),h=t.getModifiedTime?.(p)?.valueOf();if(!g||g[0]!==h)if(t.fileExists(p)){let b=t.readFile(p),m=b!==void 0?e.ScriptSnapshot.fromString(b):void 0;is.set(p,[h,m])}else is.set(p,[h,void 0]);f=is.get(p)?.[1]}f?a.set(l,i.getLanguageId(l),f):a.delete(l)}),{languageServiceHost:c,getExtraScript:u}=d();for(let l of n)l.typescript?.resolveLanguageServiceHost&&(c=l.typescript.resolveLanguageServiceHost(c));if(n.some(l=>l.typescript?.extraFileExtensions.length)){let l=e.createModuleResolutionCache(c.getCurrentDirectory(),c.useCaseSensitiveFileNames?g=>g:g=>g.toLowerCase(),c.getCompilationSettings()),p=(0,HE.createResolveModuleName)(e,c,n,g=>a.get(s(g))),f="version"in t?t.version:void 0;c.resolveModuleNameLiterals=(g,h,b,m,y)=>("version"in t&&f!==t.version&&(f=t.version,l.clear()),g.map(v=>p(v.text,h,m,l,b,y.impliedNodeFormat))),c.resolveModuleNames=(g,h,b,m,y)=>("version"in t&&f!==t.version&&(f=t.version,l.clear()),g.map(v=>p(v,h,y,l,m).resolvedModule))}return{files:a,typescript:{configFileName:r,sys:t,projectHost:i,languageServiceHost:c,getExtraScript:u}};function d(){let l,p=0,f=new ol.FileMap(t.useCaseSensitiveFileNames),g=new ol.FileMap(t.useCaseSensitiveFileNames),h=new Set,b=new Set;return{languageServiceHost:{...t,getCurrentDirectory:i.getCurrentDirectory,getCompilationSettings(){let _=i.getCompilationSettings();return n.some(D=>D.typescript?.extraFileExtensions.length)&&(_.allowNonTsExtensions??=!0,_.allowNonTsExtensions||console.warn("`allowNonTsExtensions` must be `true`.")),_},getLocalizedDiagnosticMessages:i.getLocalizedDiagnosticMessages,getProjectReferences:i.getProjectReferences,getDefaultLibFileName:_=>{try{return e.getDefaultLibFilePath(_)}catch{return`/node_modules/typescript/lib/${e.getDefaultLibFileName(_)}`}},useCaseSensitiveFileNames(){return t.useCaseSensitiveFileNames},getNewLine(){return t.newLine},getTypeRootsVersion:()=>"version"in t?t.version:-1,getDirectories(_){return t.getDirectories(_)},readDirectory(_,D,E,k,T){let q=new Set(D);for(let N of n)for(let F of N.typescript?.extraFileExtensions??[])q.add("."+F.extension);return D=[...q],t.readDirectory(_,D,E,k,T)},readFile(_){let D=R(_);if(D)return D.getText(0,D.getLength())},fileExists(_){return P(_)!==""},getProjectVersion(){return v(),p+("version"in t?`:${t.version}`:"")},getScriptFileNames(){return v(),[...f.keys()]},getScriptKind(_){if(v(),g.has(_))return g.get(_).scriptKind;let D=a.get(s(_));if(D?.generated){let E=D.generated.languagePlugin.typescript?.getScript(D.generated.code);if(E)return E.scriptKind}switch(UE.extname(_)){case".js":case".cjs":case".mjs":return e.ScriptKind.JS;case".jsx":return e.ScriptKind.JSX;case".ts":case".cts":case".mts":return e.ScriptKind.TS;case".tsx":return e.ScriptKind.TSX;case".json":return e.ScriptKind.JSON;default:return e.ScriptKind.Unknown}},getScriptVersion:P,getScriptSnapshot:R},getExtraScript:y};function y(_){return v(),g.get(_)}function v(){let _=i.getProjectVersion?.();if(!(_===void 0||_!==l))return;l=_,g.clear();let E=new Set,k=new Set,T=new Set;for(let q of i.getScriptFileNames()){let N=a.get(s(q));if(N?.generated){let F=N.generated.languagePlugin.typescript?.getScript(N.generated.code);F&&(E.add(F.code.snapshot),T.add(q));for(let x of N.generated.languagePlugin.typescript?.getExtraScripts?.(q,N.generated.code)??[])E.add(x.code.snapshot),T.add(x.fileName),g.set(x.fileName,x);for(let x of(0,WE.forEachEmbeddedCode)(N.generated.code))k.add(x.snapshot)}else T.add(q)}Qm(h,E)?Qm(b,k)&&p++:p++,h=E,b=k,f.clear();for(let q of T)f.set(q,!0)}function R(_){if(v(),g.has(_))return g.get(_).code.snapshot;let D=a.get(s(_));if(D?.generated){let E=D.generated.languagePlugin.typescript?.getScript(D.generated.code);if(E)return E.code.snapshot}else if(D)return D.snapshot}function P(_){v(),sl.has(_)||sl.set(_,{lastVersion:0,map:new WeakMap});let D=sl.get(_);if(g.has(_)){let T=g.get(_).code.snapshot;return D.map.has(T)||D.map.set(T,D.lastVersion++),D.map.get(T).toString()}let E=a.get(s(_));if(E?.generated){let T=E.generated.languagePlugin.typescript?.getScript(E.generated.code);if(T)return D.map.has(T.code.snapshot)||D.map.set(T.code.snapshot,D.lastVersion++),D.map.get(T.code.snapshot).toString()}if(!!i.getScriptSnapshot(_)){let T=a.get(s(_));if(T&&!T.generated)return D.map.has(T.snapshot)||D.map.set(T.snapshot,D.lastVersion++),D.map.get(T.snapshot).toString()}return t.fileExists(_)?t.getModifiedTime?.(_)?.valueOf().toString()??"0":""}}}os.createLanguage=VE;function Qm(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}});var Zm=S(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Set=Qt.Map=Qt.version=Qt.versionMajorMinor=void 0;Qt.versionMajorMinor="4.9";Qt.version=`${Qt.versionMajorMinor}.0-dev`;var ss;(function(e){let t=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:void 0;function n(){let i=t?.Map,o=typeof i<"u"&&"entries"in i.prototype&&new i([[0,0]]).size===1?i:void 0;if(!o)throw new Error("No compatible Map implementation found.");return o}e.tryGetNativeMap=n;function r(){let i=t?.Set,o=typeof i<"u"&&"entries"in i.prototype&&new i([0]).size===1?i:void 0;if(!o)throw new Error("No compatible Set implementation found.");return o}e.tryGetNativeSet=r})(ss||(ss={}));Qt.Map=ss.tryGetNativeMap();Qt.Set=ss.tryGetNativeSet()});var al=S(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.startsWith=ue.createGetCanonicalFileName=ue.stringContains=ue.endsWith=ue.getStringComparer=ue.compareStringsCaseSensitive=ue.equateStringsCaseSensitive=ue.equateStringsCaseInsensitive=ue.last=ue.lastOrUndefined=ue.sort=ue.some=ue.flatMap=ue.flatten=ue.map=ue.indexOfAnyCharCode=ue.findIndex=ue.every=void 0;Zm();var BE=[];function zE(e,t){if(e){for(let n=0;n<e.length;n++)if(!t(e[n],n))return!1}return!0}ue.every=zE;function GE(e,t,n){if(e===void 0)return-1;for(let r=n??0;r<e.length;r++)if(t(e[r],r))return r;return-1}ue.findIndex=GE;function KE(e,t,n=iy){if(e){for(let r of e)if(n(r,t))return!0}return!1}function JE(e,t,n){for(let r=n||0;r<e.length;r++)if(KE(t,e.charCodeAt(r)))return r;return-1}ue.indexOfAnyCharCode=JE;function XE(e,t){let n;if(e){n=[];for(let r=0;r<e.length;r++)n.push(t(e[r],r))}return n}ue.map=XE;function QE(e){let t=[];for(let n of e)n&&(ry(n)?ny(t,n):t.push(n));return t}ue.flatten=QE;function YE(e,t){let n;if(e)for(let r=0;r<e.length;r++){let i=t(e[r],r);i&&(ry(i)?n=ny(n,i):n=eq(n,i))}return n||BE}ue.flatMap=YE;function ZE(e,t){if(e)if(t){for(let n of e)if(t(n))return!0}else return e.length>0;return!1}ue.some=ZE;function eq(e,t){return t===void 0?e:e===void 0?[t]:(e.push(t),e)}function ey(e,t){return t<0?e.length+t:t}function ny(e,t,n,r){if(t===void 0||t.length===0)return e;if(e===void 0)return t.slice(n,r);n=n===void 0?0:ey(t,n),r=r===void 0?t.length:ey(t,r);for(let i=n;i<r&&i<t.length;i++)t[i]!==void 0&&e.push(t[i]);return e}function tq(e,t){return e.length===0?e:e.slice().sort(t)}ue.sort=tq;function nq(e){return e===void 0||e.length===0?void 0:e[e.length-1]}ue.lastOrUndefined=nq;function rq(e){return e[e.length-1]}ue.last=rq;function ry(e){return Array.isArray?Array.isArray(e):e instanceof Array}function iq(e){return e}function oq(e){return e.toLowerCase()}var ty=/[^\u0130\u0131\u00DFa-z0-9\\/:\-_\. ]+/g;function sq(e){return ty.test(e)?e.replace(ty,oq):e}function iy(e,t){return e===t}function aq(e,t){return e===t||e!==void 0&&t!==void 0&&e.toUpperCase()===t.toUpperCase()}ue.equateStringsCaseInsensitive=aq;function cq(e,t){return iy(e,t)}ue.equateStringsCaseSensitive=cq;function uq(e,t){return e===t?0:e===void 0?-1:t===void 0?1:e<t?-1:1}function lq(e,t){return e===t?0:e===void 0?-1:t===void 0?1:(e=e.toUpperCase(),t=t.toUpperCase(),e<t?-1:e>t?1:0)}function oy(e,t){return uq(e,t)}ue.compareStringsCaseSensitive=oy;function dq(e){return e?lq:oy}ue.getStringComparer=dq;function fq(e,t){let n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}ue.endsWith=fq;function gq(e,t){return e.indexOf(t)!==-1}ue.stringContains=gq;function pq(e){return e?iq:sq}ue.createGetCanonicalFileName=pq;function hq(e,t){return e.lastIndexOf(t,0)===0}ue.startsWith=hq});var cl=S(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0})});var gy=S(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.containsPath=De.removeTrailingDirectorySeparator=De.normalizePath=De.getNormalizedPathComponents=De.combinePaths=De.getDirectoryPath=De.fileExtensionIsOneOf=De.hasExtension=De.isRootedDiskPath=De.directorySeparator=void 0;var un=al();cl();De.directorySeparator="/";var mq="\\",ay="://",yq=/\\/g;function vq(e){return e===47||e===92}function bq(e){return dy(e)>0}De.isRootedDiskPath=bq;function Sq(e){return(0,un.stringContains)(fy(e),".")}De.hasExtension=Sq;function _q(e,t){return e.length>t.length&&(0,un.endsWith)(e,t)}function Cq(e,t){for(let n of t)if(_q(e,n))return!0;return!1}De.fileExtensionIsOneOf=Cq;function ul(e){return e.length>0&&vq(e.charCodeAt(e.length-1))}function cy(e){return e>=97&&e<=122||e>=65&&e<=90}function Dq(e,t){let n=e.charCodeAt(t);if(n===58)return t+1;if(n===37&&e.charCodeAt(t+1)===51){let r=e.charCodeAt(t+2);if(r===97||r===65)return t+3}return-1}function dy(e){if(!e)return 0;let t=e.charCodeAt(0);if(t===47||t===92){if(e.charCodeAt(1)!==t)return 1;let r=e.indexOf(t===47?De.directorySeparator:mq,2);return r<0?e.length:r+1}if(cy(t)&&e.charCodeAt(1)===58){let r=e.charCodeAt(2);if(r===47||r===92)return 3;if(e.length===2)return 2}let n=e.indexOf(ay);if(n!==-1){let r=n+ay.length,i=e.indexOf(De.directorySeparator,r);if(i!==-1){let o=e.slice(0,n),s=e.slice(r,i);if(o==="file"&&(s===""||s==="localhost")&&cy(e.charCodeAt(i+1))){let a=Dq(e,i+2);if(a!==-1){if(e.charCodeAt(a)===47)return~(a+1);if(a===e.length)return~a}}return~(i+1)}return~e.length}return 0}function Wi(e){let t=dy(e);return t<0?~t:t}function Rq(e){e=Ui(e);let t=Wi(e);return t===e.length?e:(e=ls(e),e.slice(0,Math.max(t,e.lastIndexOf(De.directorySeparator))))}De.getDirectoryPath=Rq;function fy(e,t,n){if(e=Ui(e),Wi(e)===e.length)return"";e=ls(e);let i=e.slice(Math.max(Wi(e),e.lastIndexOf(De.directorySeparator)+1)),o=t!==void 0&&n!==void 0?wq(i,t,n):void 0;return o?i.slice(0,i.length-o.length):i}function uy(e,t,n){if((0,un.startsWith)(t,".")||(t="."+t),e.length>=t.length&&e.charCodeAt(e.length-t.length)===46){let r=e.slice(e.length-t.length);if(n(r,t))return r}}function Pq(e,t,n){if(typeof t=="string")return uy(e,t,n)||"";for(let r of t){let i=uy(e,r,n);if(i)return i}return""}function wq(e,t,n){if(t)return Pq(ls(e),t,n?un.equateStringsCaseInsensitive:un.equateStringsCaseSensitive);let r=fy(e),i=r.lastIndexOf(".");return i>=0?r.substring(i):""}function Tq(e,t){let n=e.substring(0,t),r=e.substring(t).split(De.directorySeparator);return r.length&&!(0,un.lastOrUndefined)(r)&&r.pop(),[n,...r]}function as(e,t=""){return e=us(t,e),Tq(e,Wi(e))}function Eq(e){return e.length===0?"":(e[0]&&ll(e[0]))+e.slice(1).join(De.directorySeparator)}function Ui(e){return e.indexOf("\\")!==-1?e.replace(yq,De.directorySeparator):e}function cs(e){if(!(0,un.some)(e))return[];let t=[e[0]];for(let n=1;n<e.length;n++){let r=e[n];if(r&&r!=="."){if(r===".."){if(t.length>1){if(t[t.length-1]!==".."){t.pop();continue}}else if(t[0])continue}t.push(r)}}return t}function us(e,...t){e&&(e=Ui(e));for(let n of t)n&&(n=Ui(n),!e||Wi(n)!==0?e=n:e=ll(e)+n);return e}De.combinePaths=us;function qq(e,t){return cs(as(e,t))}De.getNormalizedPathComponents=qq;function xq(e){if(e=Ui(e),!ly.test(e))return e;let t=e.replace(/\/\.\//g,"/").replace(/^\.\//,"");if(t!==e&&(e=t,!ly.test(e)))return e;let n=Eq(cs(as(e)));return n&&ul(e)?ll(n):n}De.normalizePath=xq;function ls(e){return ul(e)?e.substr(0,e.length-1):e}De.removeTrailingDirectorySeparator=ls;function ll(e){return ul(e)?e:e+De.directorySeparator}var ly=/(?:\/\/)|(?:^|\/)\.\.?(?:$|\/)/;function kq(e,t,n,r){if(typeof n=="string"?(e=us(n,e),t=us(n,t)):typeof n=="boolean"&&(r=n),e===void 0||t===void 0)return!1;if(e===t)return!0;let i=cs(as(e)),o=cs(as(t));if(o.length<i.length)return!1;let s=r?un.equateStringsCaseInsensitive:un.equateStringsCaseSensitive;for(let a=0;a<i.length;a++)if(!(a===0?un.equateStringsCaseInsensitive:s)(i[a],o[a]))return!1;return!0}De.containsPath=kq});var by=S(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.matchFiles=void 0;var qt=al(),Be=gy();cl();var py=/[^\w\s\/]/g,Oq=[42,63],Mq=["node_modules","bower_components","jspm_packages"],gl=`(?!(${Mq.join("|")})(/|$))`,hy={singleAsteriskRegexFragment:"([^./]|(\\.(?!min\\.js$))?)*",doubleAsteriskRegexFragment:`(/${gl}[^/.][^/]*)*?`,replaceWildcardCharacter:e=>pl(e,hy.singleAsteriskRegexFragment)},my={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:`(/${gl}[^/.][^/]*)*?`,replaceWildcardCharacter:e=>pl(e,my.singleAsteriskRegexFragment)},yy={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:"(/.+?)?",replaceWildcardCharacter:e=>pl(e,yy.singleAsteriskRegexFragment)},Fq={files:hy,directories:my,exclude:yy};function dl(e,t,n){let r=vy(e,t,n);return!r||!r.length?void 0:`^(${r.map(s=>`(${s})`).join("|")})${n==="exclude"?"($|/)":"$"}`}function vy(e,t,n){if(!(e===void 0||e.length===0))return(0,qt.flatMap)(e,r=>r&&Iq(r,t,n,Fq[n]))}function Aq(e){return!/[.*?]/.test(e)}function Iq(e,t,n,{singleAsteriskRegexFragment:r,doubleAsteriskRegexFragment:i,replaceWildcardCharacter:o}){let s="",a=!1,c=(0,Be.getNormalizedPathComponents)(e,t),u=(0,qt.last)(c);if(n!=="exclude"&&u==="**")return;c[0]=(0,Be.removeTrailingDirectorySeparator)(c[0]),Aq(u)&&c.push("**","*");let d=0;for(let l of c){if(l==="**")s+=i;else if(n==="directories"&&(s+="(",d++),a&&(s+=Be.directorySeparator),n!=="exclude"){let p="";l.charCodeAt(0)===42?(p+="([^./]"+r+")?",l=l.substr(1)):l.charCodeAt(0)===63&&(p+="[^./]",l=l.substr(1)),p+=l.replace(py,o),p!==l&&(s+=gl),s+=p}else s+=l.replace(py,o);a=!0}for(;d>0;)s+=")?",d--;return s}function pl(e,t){return e==="*"?t:e==="?"?"[^/]":"\\"+e}function jq(e,t,n,r,i){e=(0,Be.normalizePath)(e),i=(0,Be.normalizePath)(i);let o=(0,Be.combinePaths)(i,e);return{includeFilePatterns:(0,qt.map)(vy(n,o,"files"),s=>`^${s}$`),includeFilePattern:dl(n,o,"files"),includeDirectoryPattern:dl(n,o,"directories"),excludePattern:dl(t,o,"exclude"),basePaths:Lq(e,n,r)}}function fl(e,t){return new RegExp(e,t?"":"i")}function Nq(e,t,n,r,i,o,s,a,c){e=(0,Be.normalizePath)(e),o=(0,Be.normalizePath)(o);let u=jq(e,n,r,i,o),d=u.includeFilePatterns&&u.includeFilePatterns.map(m=>fl(m,i)),l=u.includeDirectoryPattern&&fl(u.includeDirectoryPattern,i),p=u.excludePattern&&fl(u.excludePattern,i),f=d?d.map(()=>[]):[[]],g=new Map,h=(0,qt.createGetCanonicalFileName)(i);for(let m of u.basePaths)b(m,(0,Be.combinePaths)(o,m),s);return(0,qt.flatten)(f);function b(m,y,v){let R=h(c(y));if(g.has(R))return;g.set(R,!0);let{files:P,directories:_}=a(m);for(let D of(0,qt.sort)(P,qt.compareStringsCaseSensitive)){let E=(0,Be.combinePaths)(m,D),k=(0,Be.combinePaths)(y,D);if(!(t&&!(0,Be.fileExtensionIsOneOf)(E,t))&&!(p&&p.test(k)))if(!d)f[0].push(E);else{let T=(0,qt.findIndex)(d,q=>q.test(k));T!==-1&&f[T].push(E)}}if(!(v!==void 0&&(v--,v===0)))for(let D of(0,qt.sort)(_,qt.compareStringsCaseSensitive)){let E=(0,Be.combinePaths)(m,D),k=(0,Be.combinePaths)(y,D);(!l||l.test(k))&&(!p||!p.test(k))&&b(E,k,v)}}}ds.matchFiles=Nq;function Lq(e,t,n){let r=[e];if(t){let i=[];for(let o of t){let s=(0,Be.isRootedDiskPath)(o)?o:(0,Be.normalizePath)((0,Be.combinePaths)(e,o));i.push($q(s))}i.sort((0,qt.getStringComparer)(!n));for(let o of i)(0,qt.every)(r,s=>!(0,Be.containsPath)(s,o,e,!n))&&r.push(o)}return r}function $q(e){let t=(0,qt.indexOfAnyCharCode)(e,Oq);return t<0?(0,Be.hasExtension)(e)?(0,Be.removeTrailingDirectorySeparator)((0,Be.getDirectoryPath)(e)):e:e.substring(0,e.lastIndexOf(Be.directorySeparator,t))}});var _y=S(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.createSys=void 0;var Yt=wn(),Wq=by(),Sy="";function Uq(e,t,n){let r=0,i=e.sys,o={dirs:new Map,files:new Map,requestedRead:!1},s=new Set,a=t.onDidChangeWatchedFiles?.(({changes:_})=>{for(let D of _){let E=t.typescript.uriToFileName(D.uri),k=Yt.dirname(E),T=Yt.basename(E),q=R(k);q.files.has(T)&&(r++,D.type===1||D.type===2?q.files.set(T,{stat:{type:1,ctime:Date.now(),mtime:Date.now(),size:-1},requestedStat:!1}):D.type===3&&q.files.set(T,{stat:void 0,text:void 0,requestedStat:!0,requestedText:!0}))}});return{dispose(){a?.dispose()},args:i?.args??[],newLine:i?.newLine??`
`,useCaseSensitiveFileNames:i?.useCaseSensitiveFileNames??!1,realpath:i?.realpath,write:i?.write??(()=>{}),writeFile:i?.writeFile??(()=>{}),createDirectory:i?.createDirectory??(()=>{}),exit:i?.exit??(()=>{}),getExecutingFilePath:i?.getExecutingFilePath??(()=>n+"/__fake__.js"),getCurrentDirectory:()=>n,getModifiedTime:l,readFile:u,readDirectory:b,getDirectories:h,resolvePath:c,fileExists:p,directoryExists:d,get version(){return r},async sync(){for(;s.size;)await Promise.all(s);return r}};function c(_){if(i){if(Sy!==n&&(Sy=n,i.directoryExists(n)))try{process.chdir(n)}catch{}return i.resolvePath(_).replace(/\\/g,"/")}return Yt.resolve(_).replace(/\\/g,"/")}function u(_,D){_=c(_);let E=Yt.dirname(_),k=R(E),T=Yt.basename(_);return m(_,D,k),k.files.get(T)?.text}function d(_){_=c(_);let D=R(_);if(D.exists===void 0){D.exists=!1;let E=t.fs?.stat(t.typescript.fileNameToUri(_));if(typeof E=="object"&&"then"in E){let k=E;s.add(k),E.then(T=>{s.delete(k),D.exists=T?.type===2,D.exists&&r++})}else D.exists=E?.type===2}return D.exists}function l(_){_=c(_);let D=g(_);return D.requestedStat||(D.requestedStat=!0,f(_,D)),D.stat?new Date(D.stat.mtime):new Date(0)}function p(_){_=c(_);let D=g(_),E=()=>D.text!==void 0||D.stat?.type===1;return E()?!0:(D.requestedStat||(D.requestedStat=!0,f(_,D)),E())}function f(_,D){let E=t.fs?.stat(t.typescript.fileNameToUri(_));if(typeof E=="object"&&"then"in E){let k=E;s.add(k),E.then(T=>{s.delete(k),(D.stat?.type!==T?.type||D.stat?.mtime!==T?.mtime)&&r++,D.stat=T})}else D.stat=E}function g(_){_=c(_);let D=Yt.dirname(_),E=Yt.basename(_),k=R(D),T=k.files.get(E);return T||k.files.set(E,T={}),T}function h(_){return _=c(_),y(_),[...R(_).dirs.entries()].filter(([E,k])=>k.exists).map(([E])=>E)}function b(_,D,E,k,T){_=c(_);let q=(0,Wq.matchFiles)(_,D,E,k,i?.useCaseSensitiveFileNames??!1,n,T,N=>{N=c(N),y(N);let F=R(N);return{files:[...F.files.entries()].filter(([x,A])=>A.stat?.type===1).map(([x])=>x),directories:[...F.dirs.entries()].filter(([x,A])=>A.exists).map(([x])=>x)}},i?.realpath?N=>i.realpath(N):N=>N);return[...new Set(q)]}function m(_,D,E){let k=Yt.basename(_),T=E.files.get(k);if(T||E.files.set(k,T={}),T.requestedText)return;T.requestedText=!0;let q=t.typescript.fileNameToUri(_),N=t.fs?.readFile(q,D);if(typeof N=="object"&&"then"in N){let F=N;s.add(F),N.then(x=>{s.delete(F),x!==void 0&&(T.text=x,T.stat&&T.stat.mtime++,r++)})}else N!==void 0&&(T.text=N)}function y(_){let D=R(_);if(D.requestedRead)return;D.requestedRead=!0;let E=t.fs?.readDirectory(t.typescript.fileNameToUri(_||"."));if(typeof E=="object"&&"then"in E){let k=E;s.add(k),E.then(T=>{s.delete(k),v(_,D,T)&&r++})}else v(_,D,E??[])}function v(_,D,E){E=E.filter(([T])=>T!=="."&&T!=="..");let k=!1;for(let[T,q]of E){let N=q;if(N===64){let F=t.fs?.stat(t.typescript.fileNameToUri(_+"/"+T));if(typeof F=="object"&&"then"in F){let x=F;s.add(x),F.then(A=>{if(s.delete(x),A?.type===1){let j=D.files.get(T);j||D.files.set(T,j={}),(A.type!==j.stat?.type||A.mtime!==j.stat?.mtime)&&r++,j.stat=A,j.requestedStat=!0}else if(A?.type===2){let j=P(D,T);j.exists||(j.exists=!0,r++)}})}else F&&(N=F.type)}if(N===1){let F=D.files.get(T);F||D.files.set(T,F={}),F.stat||(F.stat={type:1,mtime:0,ctime:0,size:0},k=!0)}else if(N===2){let F=P(D,T);F.exists||(F.exists=!0,k=!0)}}return k}function R(_){let D=[],E=_,k=Yt.basename(E),T;for(;T!==E;)T=E,D.push(k),E=Yt.dirname(E),k=Yt.basename(E);let q=o;for(let N=D.length-1;N>=0;N--){let F=D[N];q=P(q,F)}return q}function P(_,D){let E=_.dirs.get(D);return E||_.dirs.set(D,E={dirs:new Map,files:new Map}),E}}fs.createSys=Uq});var gs=S(xt=>{"use strict";var Hq=xt&&xt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),sr=xt&&xt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Hq(t,e,n)};Object.defineProperty(xt,"__esModule",{value:!0});sr(_m(),xt);sr(Bm(),xt);sr(zm(),xt);sr(rl(),xt);sr(Km(),xt);sr(Ym(),xt);sr(_y(),xt)});var Cy=S(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});function Vq(e,t,n){var r,i;let o=(i=(r=e.Completions)===null||r===void 0?void 0:r.createImportSuggestionsForFileCache)===null||i===void 0?void 0:i.call(r);t.getImportSuggestionsCache=()=>o}hl.default=Vq});var Dy=S(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.createModuleSpecifierCache=void 0;function Bq(){let e,t,n={get(s,a,c){if(!(!e||t!==i(s,c)))return e.get(a)},set(s,a,c,u,d){if(r(s,c).set(a,o(u,d,!0)),d)for(let l of u)l.isInNodeModules},setModulePaths(s,a,c,u){let d=r(s,c),l=d.get(a);l?l.modulePaths=u:d.set(a,o(u,void 0,void 0))},setIsAutoImportable(s,a,c,u){let d=r(s,c),l=d.get(a);l?l.isAutoImportable=u:d.set(a,o(void 0,void 0,u))},clear(){e?.clear(),t=void 0},count(){return e?e.size:0}};return n;function r(s,a){let c=i(s,a);return e&&t!==c&&n.clear(),t=c,e||(e=new Map)}function i(s,a){return`${s},${a.importModuleSpecifierEnding},${a.importModuleSpecifierPreference}`}function o(s,a,c){return{modulePaths:s,moduleSpecifiers:a,isAutoImportable:c}}}ps.createModuleSpecifierCache=Bq});var Ry=S(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createPackageJsonCache=Ar.canCreatePackageJsonCache=void 0;function zq(e){return"createPackageJsonInfo"in e&&"getDirectoryPath"in e&&"combinePaths"in e&&"tryFileExists"in e&&"forEachAncestorDirectory"in e}Ar.canCreatePackageJsonCache=zq;function Gq(e,t){let{createPackageJsonInfo:n,getDirectoryPath:r,combinePaths:i,tryFileExists:o,forEachAncestorDirectory:s}=e,a=new Map,c=new Map;return{addOrUpdate:u,forEach:a.forEach.bind(a),get:a.get.bind(a),delete:l=>{a.delete(l),c.set(r(l),!0)},getInDirectory:l=>a.get(i(l,"package.json"))||void 0,directoryHasPackageJson:d,searchDirectoryAndAncestors:l=>{s(l,p=>{if(d(p)!==3)return!0;let f=t.toPath(i(p,"package.json"));o(t,f)?u(f):c.set(p,!0)})}};function u(l){let p=n(l,t.host);a.set(l,p),c.delete(r(l))}function d(l){return a.has(i(l,"package.json"))?-1:c.has(l)?0:3}}Ar.createPackageJsonCache=Gq});var wy=S(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var Kq=Dy(),Py=Ry();function Jq(e,t,n){let r=e.createCacheableExportInfoMap,i=e.combinePaths,o=e.forEachAncestorDirectory,s=e.getDirectoryPath,a=e.toPath,c=e.createGetCanonicalFileName;if(!r||!i||!o||!s||!a||!c||!(0,Py.canCreatePackageJsonCache)(e))return;let u=(0,Kq.createModuleSpecifierCache)(),d=r({getCurrentProgram(){return n.getProgram()},getPackageJsonAutoImportProvider(){return n.getProgram()}}),l=(0,Py.createPackageJsonCache)(e,Object.assign(Object.assign({},t),{host:Object.assign({},t),toPath:p}));t.getCachedExportInfoMap=()=>d,t.getModuleSpecifierCache=()=>u,t.getPackageJsonsVisibleToFile=(f,g)=>{let h=g&&p(g),b=p(f),m=[],y=v=>{switch(l.directoryHasPackageJson(v)){case 3:return l.searchDirectoryAndAncestors(v),y(v);case-1:let R=l.getInDirectory(v);R&&m.push(R)}if(h&&h===v)return!0};return o(s(b),y),m};function p(f){var g;return a(f,t.getCurrentDirectory(),c((g=t.useCaseSensitiveFileNames)===null||g===void 0?void 0:g.call(t)))}}ml.default=Jq});var Ty=S(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.createModuleSpecifierCache=Ir.nodeModulesPathPart=void 0;Ir.nodeModulesPathPart="/node_modules/";function Xq(){let e,t,n,r={get(a,c,u,d){if(!(!t||n!==o(a,u,d)))return t.get(c)},set(a,c,u,d,l,p){if(i(a,u,d).set(c,s(l,p,!1)),p)for(let f of l)f.isInNodeModules},setModulePaths(a,c,u,d,l){let p=i(a,u,d),f=p.get(c);f?f.modulePaths=l:p.set(c,s(l,void 0,void 0))},setBlockedByPackageJsonDependencies(a,c,u,d,l){let p=i(a,u,d),f=p.get(c);f?f.isBlockedByPackageJsonDependencies=l:p.set(c,s(void 0,void 0,l))},clear(){e?.forEach(a=>a.close()),t?.clear(),e?.clear(),n=void 0},count(){return t?t.size:0}};return r;function i(a,c,u){let d=o(a,c,u);return t&&n!==d&&r.clear(),n=d,t||(t=new Map)}function o(a,c,u){return`${a},${c.importModuleSpecifierEnding},${c.importModuleSpecifierPreference},${u.overrideImportMode}`}function s(a,c,u){return{modulePaths:a,moduleSpecifiers:c,isBlockedByPackageJsonDependencies:u}}}Ir.createModuleSpecifierCache=Xq});var Ey=S(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.createPackageJsonCache=void 0;function Qq(e,t){let{createPackageJsonInfo:n,getDirectoryPath:r,combinePaths:i,tryFileExists:o,forEachAncestorDirectory:s}=e,a=new Map,c=new Map;return{addOrUpdate:u,forEach:a.forEach.bind(a),get:a.get.bind(a),delete:l=>{a.delete(l),c.set(r(l),!0)},getInDirectory:l=>a.get(i(l,"package.json"))||void 0,directoryHasPackageJson:d,searchDirectoryAndAncestors:l=>{s(l,p=>{if(d(p)!==3)return!0;let f=t.toPath(i(p,"package.json"));o(t,f)?u(f):c.set(p,!0)})}};function u(l){let p=n(l,t.host);a.set(l,p),c.delete(r(l))}function d(l){return a.has(i(l,"package.json"))?-1:c.has(l)?0:3}}hs.createPackageJsonCache=Qq});var qy=S(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var Yq=Ty(),Zq=Ey();function e1(e,t,n){let r=e.createCacheableExportInfoMap,i=e.combinePaths,o=e.forEachAncestorDirectory,s=e.getDirectoryPath,a=e.toPath,c=e.createGetCanonicalFileName;if(!r||!i||!o||!s||!a||!c)return;let u=(0,Yq.createModuleSpecifierCache)(),d=r({getCurrentProgram(){return n.getProgram()},getPackageJsonAutoImportProvider(){return n.getProgram()},getGlobalTypingsCacheLocation(){}}),l=(0,Zq.createPackageJsonCache)(e,Object.assign(Object.assign({},t),{host:Object.assign({},t),toPath:p}));t.getCachedExportInfoMap=()=>d,t.getModuleSpecifierCache=()=>u,t.getPackageJsonsVisibleToFile=(f,g)=>{let h=g&&p(g),b=p(f),m=[],y=v=>{switch(l.directoryHasPackageJson(v)){case 3:return l.searchDirectoryAndAncestors(v),y(v);case-1:let R=l.getInDirectory(v);R&&m.push(R)}if(h&&h===v)return!0};return o(s(b),y),m};function p(f){var g;return a(f,t.getCurrentDirectory(),c((g=t.useCaseSensitiveFileNames)===null||g===void 0?void 0:g.call(t)))}}yl.default=e1});var xy=S(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.createPackageJsonCache=void 0;function t1(e,t){let{createPackageJsonInfo:n,getDirectoryPath:r,combinePaths:i,tryFileExists:o,forEachAncestorDirectory:s}=e,a=new Map,c=new Map;return{addOrUpdate:u,forEach:a.forEach.bind(a),get:a.get.bind(a),delete:l=>{a.delete(l),c.set(r(l),!0)},getInDirectory:l=>a.get(i(l,"package.json"))||void 0,directoryHasPackageJson:d,searchDirectoryAndAncestors:l=>{s(l,p=>{if(d(p)!==3)return!0;let f=t.toPath(i(p,"package.json"));o(t,f)?u(f):c.set(p,!0)})}};function u(l){let p=n(l,t.host);a.set(l,p),c.delete(r(l))}function d(l){return a.has(i(l,"package.json"))?-1:c.has(l)?0:3}}ms.createPackageJsonCache=t1});var ky=S(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.createProjectService=void 0;var n1=xy();function r1(e,t,n,r,i){let{toPath:o,getNormalizedAbsolutePath:s,normalizePath:a,createGetCanonicalFileName:c,forEachAncestorDirectory:u,getDirectoryPath:d}=e,l={serverMode:i,host:t,currentDirectory:a(n),toCanonicalFileName:c(t.useCaseSensitiveFileNames),toPath(p){return o(p,this.currentDirectory,this.toCanonicalFileName)},getExecutingFilePath(){return this.getNormalizedAbsolutePath(this.host.getExecutingFilePath())},getNormalizedAbsolutePath(p){return s(p,this.host.getCurrentDirectory())},packageJsonCache:void 0,getPackageJsonsVisibleToFile(p,f){let g=this.packageJsonCache,h=f&&this.toPath(f),b=this.toPath(p),m=[],y=v=>{switch(g.directoryHasPackageJson(v)){case 3:return g.searchDirectoryAndAncestors(v),y(v);case-1:let R=g.getInDirectory(v);R&&m.push(R)}if(h&&h===v)return!0};return u(d(b),y),m},includePackageJsonAutoImports(){switch(r.preferences.includePackageJsonAutoImports){case"on":return 1;case"off":return 0;default:return 2}},fileExists(p){return this.host.fileExists(p)}};return l.packageJsonCache=(0,n1.createPackageJsonCache)(e,l),l}ys.createProjectService=r1});var Oy=S(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.createModuleSpecifierCache=jr.nodeModulesPathPart=void 0;jr.nodeModulesPathPart="/node_modules/";function i1(){let e,t,n,r={get(a,c,u,d){if(!(!t||n!==o(a,u,d)))return t.get(c)},set(a,c,u,d,l,p){if(i(a,u,d).set(c,s(l,p,!1)),p)for(let f of l)f.isInNodeModules},setModulePaths(a,c,u,d,l){let p=i(a,u,d),f=p.get(c);f?f.modulePaths=l:p.set(c,s(l,void 0,void 0))},setBlockedByPackageJsonDependencies(a,c,u,d,l){let p=i(a,u,d),f=p.get(c);f?f.isBlockedByPackageJsonDependencies=l:p.set(c,s(void 0,void 0,l))},clear(){e?.forEach(a=>a.close()),t?.clear(),e?.clear(),n=void 0},count(){return t?t.size:0}};return r;function i(a,c,u){let d=o(a,c,u);return t&&n!==d&&r.clear(),n=d,t||(t=new Map)}function o(a,c,u){return`${a},${c.importModuleSpecifierEnding},${c.importModuleSpecifierPreference},${u.overrideImportMode}`}function s(a,c,u){return{modulePaths:a,moduleSpecifiers:c,isBlockedByPackageJsonDependencies:u}}}jr.createModuleSpecifierCache=i1});var Fy=S(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.createAutoImportProviderProjectStatic=void 0;var My=bs();function o1(e,t,n){let r=e,{combinePaths:i,inferredTypesContainingFile:o,arrayFrom:s,resolvePackageNameToPackageJson:a,concatenate:c,forEach:u,startsWith:d,getEntrypointsFromPackageJsonInfo:l,mapDefined:p,timestamp:f}=r;return{maxDependencies:10,compilerOptionsOverrides:{diagnostics:!1,skipLibCheck:!0,sourceMap:!1,types:r.emptyArray,lib:r.emptyArray,noLib:!0},getRootFileNames(g,h,b,m){var y,v;if(!g)return r.emptyArray;let R=h.getCurrentProgram();if(!R)return r.emptyArray;let P=f(),_,D,E=i(h.currentDirectory,o),k=h.getPackageJsonsForAutoImport(i(h.currentDirectory,E));for(let F of k)(y=F.dependencies)===null||y===void 0||y.forEach((x,A)=>q(A)),(v=F.peerDependencies)===null||v===void 0||v.forEach((x,A)=>q(A));let T=0;if(_){let F=h.getSymlinkCache();for(let x of s(_.keys())){if(g===2&&T>this.maxDependencies)return h.log(`AutoImportProviderProject: attempted to add more than ${this.maxDependencies} dependencies. Aborting.`),r.emptyArray;let A=a(x,h.currentDirectory,m,b,R.getModuleResolutionCache());if(A){let B=N(A,R,F);if(B){D=c(D,B),T+=B.length?1:0;continue}}if(!u([h.currentDirectory,h.getGlobalTypingsCacheLocation()],B=>{if(B){let U=a(`@types/${x}`,B,m,b,R.getModuleResolutionCache());if(U){let $=N(U,R,F);return D=c(D,$),T+=$?.length?1:0,!0}}})&&A&&m.allowJs&&m.maxNodeModuleJsDepth){let B=N(A,R,F,!0);D=c(D,B),T+=B?.length?1:0}}}return D?.length&&h.log(`AutoImportProviderProject: found ${D.length} root files in ${T} dependencies in ${f()-P} ms`),D||r.emptyArray;function q(F){d(F,"@types/")||(_||(_=new Set)).add(F)}function N(F,x,A,j){var B;let U=l(F,m,b,x.getModuleResolutionCache(),j);if(U){let $=(B=b.realpath)===null||B===void 0?void 0:B.call(b,F.packageDirectory),W=$&&$!==F.packageDirectory;return W&&A.setSymlinkedDirectory(F.packageDirectory,{real:$,realPath:h.toPath($)}),p(U,z=>{let ne=W?z.replace(F.packageDirectory,$):z;if(!x.getSourceFile(ne)&&!(W&&x.getSourceFile(z)))return ne})}}},create(g,h,b){if(g===0)return;let m=Object.assign(Object.assign({},h.getCompilerOptions()),this.compilerOptionsOverrides),y=this.getRootFileNames(g,h,b,m);if(y.length)return s1(e,t,n,{self:this,hostProject:h,rootNames:y,compilerOptions:m})}}}vs.createAutoImportProviderProjectStatic=o1;function s1(e,t,n,r){let{self:i,rootNames:o,compilerOptions:s,hostProject:a}=r,c=e,{some:u}=c,d=Object.assign(Object.assign({},(0,My.createProject)(e,t,n,{projectService:a.projectService,currentDirectory:a.currentDirectory,compilerOptions:s})),{projectVersion:0,getProjectVersion(){return this.projectVersion.toString()},rootFileNames:o,hostProject:a,isEmpty(){return!u(this.rootFileNames)},isOrphan(){return!0},updateGraph(){var l;let p=this.rootFileNames;p||(p=i.getRootFileNames(this.hostProject.includePackageJsonAutoImports(),this.hostProject,this.hostProject.getModuleResolutionHostForAutoImportProvider(),this.getCompilationSettings())),this.rootFileNames=p;let f=this.getCurrentProgram();this.program=(l=this.languageService)===null||l===void 0?void 0:l.getProgram(),this.dirty=!1,f&&f!==this.getCurrentProgram()&&this.hostProject.clearCachedExportInfoMap()},scheduleInvalidateResolutionsOfFailedLookupLocations(){},hasRoots(){var l;return!!(!((l=this.rootFileNames)===null||l===void 0)&&l.length)},markAsDirty(){this.dirty||(this.rootFileNames=void 0,this.projectVersion++,this.dirty=!0)},getScriptFileNames(){return this.rootFileNames||c.emptyArray},getLanguageService(){throw new Error("AutoImportProviderProject language service should never be used. To get the program, use `project.getCurrentProgram()`.")},onAutoImportProviderSettingsChanged(){throw new Error("AutoImportProviderProject is an auto import provider; use `markAsDirty()` instead.")},onPackageJsonChange(){throw new Error("package.json changes should be notified on an AutoImportProvider's host project")},getModuleResolutionHostForAutoImportProvider(){throw new Error("AutoImportProviderProject cannot provide its own host; use `hostProject.getModuleResolutionHostForAutomImportProvider()` instead.")},includePackageJsonAutoImports(){return 0},getTypeAcquisition(){return{enable:!1}},getSymlinkCache(){return this.hostProject.getSymlinkCache()},getModuleResolutionCache(){var l,p;return(p=(l=this.hostProject.languageService)===null||l===void 0?void 0:l.getProgram())===null||p===void 0?void 0:p.getModuleResolutionCache()}});return(0,My.initProject)(d,new Proxy(t,{get(l,p){return p in d?d[p]:l[p]},set(l,p,f){return d[p]=f,!0}}),n)}});var bs=S(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.initProject=Nr.createProject=void 0;var a1=Oy(),c1=Fy();function u1(e,t,n,r){let{combinePaths:i,inferredTypesContainingFile:o,createSymlinkCache:s,toPath:a,createCacheableExportInfoMap:c,timestamp:u,isInsideNodeModules:d,LanguageServiceMode:l}=e,p=(0,c1.createAutoImportProviderProjectStatic)(e,t,n),{projectService:f,compilerOptions:g,currentDirectory:h}=r;function b(m){return m.dirty&&m.updateGraph()}return{dirty:!1,hostProject:void 0,languageServiceEnabled:!0,languageService:void 0,projectService:f,getCanonicalFileName:f.toCanonicalFileName,exportMapCache:void 0,getCachedExportInfoMap(){return this.exportMapCache||(this.exportMapCache=c(this))},clearCachedExportInfoMap(){var m;(m=this.exportMapCache)===null||m===void 0||m.clear()},moduleSpecifierCache:(0,a1.createModuleSpecifierCache)(),getModuleSpecifierCache(){return this.moduleSpecifierCache},compilerOptions:g,getCompilationSettings(){return this.compilerOptions},getCompilerOptions(){return this.compilerOptions},program:void 0,getCurrentProgram(){return this.program},currentDirectory:f.getNormalizedAbsolutePath(h||""),getCurrentDirectory(){return this.currentDirectory},symlinks:void 0,getSymlinkCache(){return this.symlinks||(this.symlinks=s(this.getCurrentDirectory(),this.getCanonicalFileName)),this.program&&!this.symlinks.hasProcessedResolutions()&&this.symlinks.setSymlinksFromResolutions(this.program.getSourceFiles(),this.program.getAutomaticTypeDirectiveResolutions()),this.symlinks},packageJsonsForAutoImport:void 0,getPackageJsonsForAutoImport(m){let y=this.getPackageJsonsVisibleToFile(i(this.currentDirectory,o),m);return this.packageJsonsForAutoImport=new Set(y.map(v=>v.fileName)),y},getPackageJsonsVisibleToFile(m,y){return this.projectService.getPackageJsonsVisibleToFile(m,y)},getModuleResolutionHostForAutoImportProvider(){var m;return this.program?{fileExists:this.program.fileExists,directoryExists:this.program.directoryExists,realpath:this.program.realpath||((m=this.projectService.host.realpath)===null||m===void 0?void 0:m.bind(this.projectService.host)),getCurrentDirectory:this.getCurrentDirectory.bind(this),readFile:this.projectService.host.readFile.bind(this.projectService.host),getDirectories:this.projectService.host.getDirectories.bind(this.projectService.host),trace:()=>{},useCaseSensitiveFileNames:this.program.useCaseSensitiveFileNames()}:this.projectService.host},autoImportProviderHost:void 0,getPackageJsonAutoImportProvider(){if(this.autoImportProviderHost===!1)return;if(this.projectService.serverMode!==l.Semantic){this.autoImportProviderHost=!1;return}if(this.autoImportProviderHost){if(b(this.autoImportProviderHost),this.autoImportProviderHost.isEmpty()){this.autoImportProviderHost.close(),this.autoImportProviderHost=void 0;return}return this.autoImportProviderHost.getCurrentProgram()}let m=f.includePackageJsonAutoImports();if(m){let y=u();if(this.autoImportProviderHost=p.create(m,this,this.getModuleResolutionHostForAutoImportProvider()),this.autoImportProviderHost)return b(this.autoImportProviderHost),this.sendPerformanceEvent("CreatePackageJsonAutoImportProvider",u()-y),this.autoImportProviderHost.getCurrentProgram()}},includePackageJsonAutoImports(){return this.projectService.includePackageJsonAutoImports()===0||!this.languageServiceEnabled||d(this.currentDirectory)?0:this.projectService.includePackageJsonAutoImports()},close(){},log(m){},sendPerformanceEvent(m,y){},toPath(m){return a(m,this.currentDirectory,this.projectService.toCanonicalFileName)},getGlobalTypingsCacheLocation(){},useSourceOfProjectReferenceRedirect(){return!this.getCompilerOptions().disableSourceOfProjectReferenceRedirect},onAutoImportProviderSettingsChanged(){var m;this.autoImportProviderHost===!1?this.autoImportProviderHost=void 0:(m=this.autoImportProviderHost)===null||m===void 0||m.markAsDirty()}}}Nr.createProject=u1;function l1(e,t,n){let r=n(t);return e.languageService=r,e.program=r.getProgram(),e}Nr.initProject=l1});var Sl=S(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var d1=ky(),Ay=bs(),vl,Iy=new Set;function f1(e,t,n,r,i=Ay.createProject){let o={preferences:{includePackageJsonAutoImports:"auto"}};vl||(vl=(0,d1.createProjectService)(e,t,n.getCurrentDirectory(),o,e.LanguageServiceMode.Semantic));let s=i(e,n,r,{projectService:vl,currentDirectory:n.getCurrentDirectory(),compilerOptions:n.getCompilationSettings()});return["getCachedExportInfoMap","getModuleSpecifierCache","getGlobalTypingsCacheLocation","getSymlinkCache","getPackageJsonsVisibleToFile","getPackageJsonAutoImportProvider","includePackageJsonAutoImports","useSourceOfProjectReferenceRedirect"].forEach(c=>n[c]=s[c].bind(s)),(0,Ay.initProject)(s,n,r),Iy.add(s),{languageService:s.languageService,setPreferences(c){let u=c.includePackageJsonAutoImports!==o.preferences.includePackageJsonAutoImports;o.preferences=c,u&&s.onAutoImportProviderSettingsChanged()},projectUpdated(c){Iy.forEach(u=>{var d,l,p;if(s===u||!u.autoImportProviderHost)return;[...(p=(l=(d=u.symlinks)===null||d===void 0?void 0:d.getSymlinkedDirectoriesByRealpath())===null||l===void 0?void 0:l.keys())!==null&&p!==void 0?p:[]].map(g=>u.projectService.getNormalizedAbsolutePath(g)).includes(u.projectService.toCanonicalFileName(c))&&u.autoImportProviderHost.markAsDirty()})}}}bl.default=f1});var jy=S(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.createProject=void 0;var g1=bs();function p1(e,t,n,r){let{createSymlinkCache:i,ensureTrailingDirectorySeparator:o}=e,s=(0,g1.createProject)(e,t,n,r);return s.getSymlinkCache=()=>{if(!s.symlinks){s.symlinks=i(s.getCurrentDirectory(),s.getCanonicalFileName);let a=s.symlinks.setSymlinkedDirectory;s.symlinks.setSymlinkedDirectory=(c,u)=>{typeof u=="object"&&(u.real=o(u.real),u.realPath=o(u.realPath)),a(c,u)}}return s.program&&!s.symlinks.hasProcessedResolutions()&&s.symlinks.setSymlinksFromResolutions(s.program.forEachResolvedModule,s.program.forEachResolvedTypeReferenceDirective,s.program.getAutomaticTypeDirectiveResolutions()),s.symlinks},s}Ss.createProject=p1});var Ny=S(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var h1=Sl(),m1=jy();function y1(e,t,n,r){return(0,h1.default)(e,t,n,r,m1.createProject)}_l.default=y1});var Ly=S(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.createLanguageService=void 0;var Hi=Uo(),v1=Cy(),b1=wy(),S1=qy(),_1=Sl(),C1=Ny();function D1(e,t,n,r){if(Hi.gte(e.version,"5.3.0"))return(0,C1.default)(e,t,n,r);if(Hi.gte(e.version,"5.0.0"))return(0,_1.default)(e,t,n,r);if(Hi.gte(e.version,"4.7.0")){let i=r(n);return(0,S1.default)(e,n,i),{languageService:i}}else if(Hi.gte(e.version,"4.4.0")){let i=r(n);return(0,b1.default)(e,n,i),{languageService:i}}else if(Hi.gte(e.version,"4.0.0")){let i=r(n);return(0,v1.default)(e,n,i),{languageService:i}}return{languageService:r(n)}}_s.createLanguageService=D1});var ar=S(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.EventName=Nt.DisplayPartKind=Nt.KindModifiers=Nt.DiagnosticCategory=Nt.Kind=void 0;var me=class{};Nt.Kind=me;me.alias="alias";me.callSignature="call";me.class="class";me.const="const";me.constructorImplementation="constructor";me.constructSignature="construct";me.directory="directory";me.enum="enum";me.enumMember="enum member";me.externalModuleName="external module name";me.function="function";me.indexSignature="index";me.interface="interface";me.keyword="keyword";me.let="let";me.localFunction="local function";me.localVariable="local var";me.method="method";me.memberGetAccessor="getter";me.memberSetAccessor="setter";me.memberVariable="property";me.module="module";me.primitiveType="primitive type";me.script="script";me.type="type";me.variable="var";me.warning="warning";me.string="string";me.parameter="parameter";me.typeParameter="type parameter";var Lr=class{};Nt.DiagnosticCategory=Lr;Lr.error="error";Lr.warning="warning";Lr.suggestion="suggestion";var nt=class{};Nt.KindModifiers=nt;nt.optional="optional";nt.deprecated="deprecated";nt.color="color";nt.dtsFile=".d.ts";nt.tsFile=".ts";nt.tsxFile=".tsx";nt.jsFile=".js";nt.jsxFile=".jsx";nt.jsonFile=".json";nt.fileExtensionKindModifiers=[nt.dtsFile,nt.tsFile,nt.tsxFile,nt.jsFile,nt.jsxFile,nt.jsonFile];var Tn=class{};Nt.DisplayPartKind=Tn;Tn.functionName="functionName";Tn.methodName="methodName";Tn.parameterName="parameterName";Tn.propertyName="propertyName";Tn.punctuation="punctuation";Tn.text="text";var $y;(function(e){e.syntaxDiag="syntaxDiag",e.semanticDiag="semanticDiag",e.suggestionDiag="suggestionDiag",e.configFileDiag="configFileDiag",e.telemetry="telemetry",e.projectLanguageServiceState="projectLanguageServiceState",e.projectsUpdatedInBackground="projectsUpdatedInBackground",e.beginInstallTypes="beginInstallTypes",e.endInstallTypes="endInstallTypes",e.typesInstallerInitializationFailed="typesInstallerInitializationFailed",e.surveyReady="surveyReady",e.projectLoadingStart="projectLoadingStart",e.projectLoadingFinish="projectLoadingFinish"})($y||(Nt.EventName=$y={}))});var Vi=S(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.parseKindModifier=void 0;function R1(e){return new Set(e.split(/,|\s+/g))}Cs.parseKindModifier=R1});var Uy=S(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.SymbolKind=void 0;var ze=ar(),Wy;(function(e){function t(n){switch(n){case ze.Kind.module:return 2;case ze.Kind.class:return 5;case ze.Kind.enum:return 10;case ze.Kind.enumMember:return 22;case ze.Kind.interface:return 11;case ze.Kind.indexSignature:return 6;case ze.Kind.callSignature:return 6;case ze.Kind.method:return 6;case ze.Kind.memberVariable:return 7;case ze.Kind.memberGetAccessor:return 7;case ze.Kind.memberSetAccessor:return 7;case ze.Kind.variable:return 13;case ze.Kind.let:return 13;case ze.Kind.const:return 13;case ze.Kind.localVariable:return 13;case ze.Kind.alias:return 13;case ze.Kind.function:return 12;case ze.Kind.localFunction:return 12;case ze.Kind.constructSignature:return 9;case ze.Kind.constructorImplementation:return 9;case ze.Kind.typeParameter:return 26;case ze.Kind.string:return 15;default:return 13}}e.fromProtocolScriptElementKind=t})(Wy||(Ds.SymbolKind=Wy={}))});var Hy=S(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.register=void 0;var Cl=wn(),Dl=ar(),Rl=xe(),P1=Vi(),w1=Uy();function T1(e){function t(c,u){let d=e.getTextDocument(c);if(!d)return[];let l=e.uriToFileName(d.uri),p=d.offsetAt(u),f=(0,Rl.safeCall)(()=>e.languageService.prepareCallHierarchy(l,p));return f?(Array.isArray(f)?f:[f]).map(h=>o(h)):[]}function n(c){let u=e.getTextDocument(c.uri);if(!u)return[];let d=e.uriToFileName(c.uri),l=u.offsetAt(c.selectionRange.start),p=(0,Rl.safeCall)(()=>e.languageService.provideCallHierarchyIncomingCalls(d,l));return p?(Array.isArray(p)?p:[p]).map(g=>s(g)):[]}function r(c){let u=e.getTextDocument(c.uri);if(!u)return[];let d=e.uriToFileName(c.uri),l=u.offsetAt(c.selectionRange.start),p=(0,Rl.safeCall)(()=>e.languageService.provideCallHierarchyOutgoingCalls(d,l));return p?(Array.isArray(p)?p:[p]).map(g=>a(g,u)):[]}return{doPrepare:t,getIncomingCalls:n,getOutgoingCalls:r};function i(c){return c.kind===Dl.Kind.script||c.kind===Dl.Kind.module&&c.selectionSpan.start===0}function o(c){let u=e.languageService.getProgram()?.getCompilerOptions().rootDir??"",d=e.getTextDocument(e.fileNameToUri(c.file)),l=i(c),p=l?Cl.basename(c.file):c.name,f=l?Cl.relative(u,Cl.dirname(c.file)):c.containerName??"",g={kind:w1.SymbolKind.fromProtocolScriptElementKind(c.kind),name:p,detail:f,uri:e.fileNameToUri(c.file),range:{start:d.positionAt(c.span.start),end:d.positionAt(c.span.start+c.span.length)},selectionRange:{start:d.positionAt(c.selectionSpan.start),end:d.positionAt(c.selectionSpan.start+c.selectionSpan.length)}};return(c.kindModifiers?(0,P1.parseKindModifier)(c.kindModifiers):void 0)?.has(Dl.KindModifiers.deprecated)&&(g.tags=[1]),g}function s(c){let u=e.getTextDocument(e.fileNameToUri(c.from.file));return{from:o(c.from),fromRanges:c.fromSpans.map(d=>({start:u.positionAt(d.start),end:u.positionAt(d.start+d.length)}))}}function a(c,u){return{to:o(c.to),fromRanges:c.fromSpans.map(d=>({start:u.positionAt(d.start),end:u.positionAt(d.start+d.length)}))}}}Rs.register=T1});var cr=S(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.getFormatCodeSettings=void 0;var E1=xe();async function q1(e,t,n){let r=await e.env.getConfiguration?.((0,E1.getConfigTitle)(t)+".format")??{};return{convertTabsToSpaces:n?.insertSpaces,tabSize:n?.tabSize,indentSize:n?.tabSize,indentStyle:2,newLineCharacter:`
`,insertSpaceAfterCommaDelimiter:r.insertSpaceAfterCommaDelimiter??!0,insertSpaceAfterConstructor:r.insertSpaceAfterConstructor??!1,insertSpaceAfterSemicolonInForStatements:r.insertSpaceAfterSemicolonInForStatements??!0,insertSpaceBeforeAndAfterBinaryOperators:r.insertSpaceBeforeAndAfterBinaryOperators??!0,insertSpaceAfterKeywordsInControlFlowStatements:r.insertSpaceAfterKeywordsInControlFlowStatements??!0,insertSpaceAfterFunctionKeywordForAnonymousFunctions:r.insertSpaceAfterFunctionKeywordForAnonymousFunctions??!0,insertSpaceBeforeFunctionParenthesis:r.insertSpaceBeforeFunctionParenthesis??!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:r.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis??!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets??!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces??!0,insertSpaceAfterOpeningAndBeforeClosingEmptyBraces:r.insertSpaceAfterOpeningAndBeforeClosingEmptyBraces??!0,insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:r.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces??!1,insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces:r.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces??!1,insertSpaceAfterTypeAssertion:r.insertSpaceAfterTypeAssertion??!1,placeOpenBraceOnNewLineForFunctions:r.placeOpenBraceOnNewLineForFunctions??!1,placeOpenBraceOnNewLineForControlBlocks:r.placeOpenBraceOnNewLineForControlBlocks??!1,semicolons:r.semicolons??"ignore"}}Ps.getFormatCodeSettings=q1});var In=S(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.getUserPreferences=void 0;var Vy=wn(),x1=xe();async function k1(e,t){let n=await e.env.getConfiguration?.((0,x1.getConfigTitle)(t))??{},r=n?.preferences??{};return{...n.unstable??{},quotePreference:O1(r),importModuleSpecifierPreference:F1(r),importModuleSpecifierEnding:A1(r),jsxAttributeCompletionStyle:I1(r),allowTextChangesInNewFiles:t.uri.startsWith("file://"),providePrefixAndSuffixTextForRename:(r.renameShorthandProperties??!0)===!1?!1:r.useAliasesForRenames??!0,allowRenameOfImportPath:!0,includeAutomaticOptionalChainCompletions:n.suggest?.includeAutomaticOptionalChainCompletions??!0,provideRefactorNotApplicableReason:!0,generateReturnInDocTemplate:n.suggest?.jsdoc?.generateReturns??!0,includeCompletionsForImportStatements:n.suggest?.includeCompletionsForImportStatements??!0,includeCompletionsWithSnippetText:n.suggest?.includeCompletionsWithSnippetText??!0,includeCompletionsWithClassMemberSnippets:n.suggest?.classMemberSnippets?.enabled??!0,includeCompletionsWithObjectLiteralMethodSnippets:n.suggest?.objectLiteralMethodSnippets?.enabled??!0,autoImportFileExcludePatterns:M1(r,e.languageServiceHost.getCurrentDirectory()),useLabelDetailsInCompletionEntries:!0,allowIncompleteCompletions:!0,displayPartsForJSDoc:!0,includeInlayParameterNameHints:j1(n),includeInlayParameterNameHintsWhenArgumentMatchesName:!(n.inlayHints?.parameterNames?.suppressWhenArgumentMatchesName??!0),includeInlayFunctionParameterTypeHints:n.inlayHints?.parameterTypes?.enabled??!1,includeInlayVariableTypeHints:n.inlayHints?.variableTypes?.enabled??!1,includeInlayVariableTypeHintsWhenTypeMatchesName:!(n.inlayHints?.variableTypes?.suppressWhenTypeMatchesName??!0),includeInlayPropertyDeclarationTypeHints:n.inlayHints?.propertyDeclarationTypes?.enabled??!1,includeInlayFunctionLikeReturnTypeHints:n.inlayHints?.functionLikeReturnTypes?.enabled??!1,includeInlayEnumMemberValueHints:n.inlayHints?.enumMemberValues?.enabled??!1,includeCompletionsForModuleExports:n.suggest?.autoImports??!0,includeCompletionsWithInsertText:!0,includePackageJsonAutoImports:r.includePackageJsonAutoImports??"auto"}}ws.getUserPreferences=k1;function O1(e){switch(e.quoteStyle){case"single":return"single";case"double":return"double";default:return"auto"}}function M1(e,t){return t&&e.autoImportFileExcludePatterns?.map(n=>{let r=n.replace(/\\/g,"/"),i=/^\.\.?($|\/)/.test(r);return Vy.isAbsolute(n)?n:n.startsWith("*")?"/"+r:i?Vy.join(t,n):"/**/"+r})}function F1(e){switch(e.importModuleSpecifier){case"project-relative":return"project-relative";case"relative":return"relative";case"non-relative":return"non-relative";default:return}}function A1(e){switch(e.importModuleSpecifierEnding){case"minimal":return"minimal";case"index":return"index";case"js":return"js";default:return"minimal"}}function I1(e){switch(e.jsxAttributeCompletionStyle){case"braces":return"braces";case"none":return"none";default:return"auto"}}function j1(e){switch(e.inlayHints?.parameterNames?.enabled){case"none":return"none";case"literals":return"literals";case"all":return"all";default:return}}});var By=S(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.addMissingOverride=ke.addMissingAwait=ke.fixImport=ke.spelling=ke.forgottenThisPropertyAccess=ke.unusedIdentifier=ke.unreachableCode=ke.classDoesntImplementInheritedAbstractMember=ke.classIncorrectlyImplementsInterface=ke.awaitInSyncFunction=ke.extendsInterfaceBecomesImplements=ke.constructorForDerivedNeedSuperCall=ke.annotateWithTypeFromJSDoc=void 0;ke.annotateWithTypeFromJSDoc="annotateWithTypeFromJSDoc";ke.constructorForDerivedNeedSuperCall="constructorForDerivedNeedSuperCall";ke.extendsInterfaceBecomesImplements="extendsInterfaceBecomesImplements";ke.awaitInSyncFunction="fixAwaitInSyncFunction";ke.classIncorrectlyImplementsInterface="fixClassIncorrectlyImplementsInterface";ke.classDoesntImplementInheritedAbstractMember="fixClassDoesntImplementInheritedAbstractMember";ke.unreachableCode="fixUnreachableCode";ke.unusedIdentifier="unusedIdentifier";ke.forgottenThisPropertyAccess="forgottenThisPropertyAccess";ke.spelling="spelling";ke.fixImport="import";ke.addMissingAwait="addMissingAwait";ke.addMissingOverride="fixOverrideModifier"});var Pl=S(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.register=ur.renameInfoOptions=void 0;var N1=xe();ur.renameInfoOptions={allowRenameOfImportPath:!0};function L1(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return;let i=e.uriToFileName(r.uri),o=r.offsetAt(n),s=(0,N1.safeCall)(()=>e.languageService.getRenameInfo(i,o,ur.renameInfoOptions));if(s)return s.canRename?{start:r.positionAt(s.triggerSpan.start),end:r.positionAt(s.triggerSpan.start+s.triggerSpan.length)}:{message:s.localizedErrorMessage}}}ur.register=L1});var Bi=S($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.fileTextChangesToWorkspaceEdit=$r.register=void 0;var Ts=wn(),$1=cr(),zy=In(),W1=xe(),U1=Pl();function H1(e){return async(n,r,i)=>{let o=e.getTextDocument(n);if(!o)return;let s=e.uriToFileName(o.uri),a=o.offsetAt(r),c=(0,W1.safeCall)(()=>e.languageService.getRenameInfo(s,a,U1.renameInfoOptions));if(!c?.canRename)return;if(c.fileToRename){let[p,f]=await Promise.all([(0,$1.getFormatCodeSettings)(e,o),(0,zy.getUserPreferences)(e,o)]);return t(c.fileToRename,i,p,f)}let{providePrefixAndSuffixTextForRename:u}=await(0,zy.getUserPreferences)(e,o),d=e.languageService.findRenameLocations(s,a,!1,!1,u);return d?V1(i,d,e):void 0};function t(n,r,i,o){Ts.extname(r)||(r+=Ts.extname(n));let s=Ts.dirname(n),a=Ts.join(s,r),c=e.languageService.getEditsForFileRename(n,a,i,o),u=Gy(c,e);return u.documentChanges||(u.documentChanges=[]),u.documentChanges.push({kind:"rename",oldUri:e.fileNameToUri(n),newUri:e.fileNameToUri(a)}),u}}$r.register=H1;function Gy(e,t){let n={};for(let r of e){n.documentChanges||(n.documentChanges=[]);let i=t.fileNameToUri(r.fileName),o=t.getTextDocument(i);if(r.isNewFile&&n.documentChanges.push({kind:"create",uri:i}),!o&&!r.isNewFile)continue;let s={textDocument:{uri:i,version:null},edits:[]};for(let a of r.textChanges)s.edits.push({newText:a.newText,range:{start:o?.positionAt(a.span.start)??{line:0,character:0},end:o?.positionAt(a.span.start+a.span.length)??{line:0,character:0}}});n.documentChanges.push(s)}return n}$r.fileTextChangesToWorkspaceEdit=Gy;function V1(e,t,n){let r={};for(let i of t){r.changes||(r.changes={});let o=n.fileNameToUri(i.fileName),s=n.getTextDocument(o);if(!s)continue;r.changes[o]||(r.changes[o]=[]);let a=e;i.prefixText&&(a=i.prefixText+a),i.suffixText&&(a=a+i.suffixText),r.changes[o].push({newText:a,range:{start:s.positionAt(i.textSpan.start),end:s.positionAt(i.textSpan.start+i.textSpan.length)}})}return r}});var El=S(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.resolveOrganizeImportsCodeAction=ln.resolveRefactorCodeAction=ln.resolveFixAllCodeAction=ln.register=void 0;var B1=cr(),z1=In(),wl=xe(),Tl=Bi();function G1(e){return async t=>{let n=t.data,r=e.getTextDocument(n.uri),[i,o]=r?await Promise.all([(0,B1.getFormatCodeSettings)(e,r),(0,z1.getUserPreferences)(e,r)]):[{},{}];return n?.type==="fixAll"?Ky(e,t,n,i,o):n?.type==="refactor"&&r?Jy(e,t,n,r,i,o):n?.type==="organizeImports"&&Xy(e,t,n,i,o),t}}ln.register=G1;function Ky(e,t,n,r,i){let s=n.fixIds.map(a=>(0,wl.safeCall)(()=>e.languageService.getCombinedCodeFix({type:"file",fileName:n.fileName},a,r,i))).map(a=>a?.changes??[]).flat();t.edit=(0,Tl.fileTextChangesToWorkspaceEdit)(s,e)}ln.resolveFixAllCodeAction=Ky;function Jy(e,t,n,r,i,o){let s=(0,wl.safeCall)(()=>e.languageService.getEditsForRefactor(n.fileName,i,n.range,n.refactorName,n.actionName,o));s&&(t.edit=(0,Tl.fileTextChangesToWorkspaceEdit)(s.edits,e),s.renameLocation!==void 0&&s.renameFilename!==void 0&&(t.command=e.commands.rename.create(r.uri,r.positionAt(s.renameLocation))))}ln.resolveRefactorCodeAction=Jy;function Xy(e,t,n,r,i){let o=(0,wl.safeCall)(()=>e.languageService.organizeImports({type:"file",fileName:n.fileName},r,i));t.edit=(0,Tl.fileTextChangesToWorkspaceEdit)(o??[],e)}ln.resolveOrganizeImportsCodeAction=Xy});var Qy=S(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.register=void 0;var K1=cr(),J1=In(),ql=xe(),zi=By(),Wr=El(),X1=Bi();function Q1(e){let t=e.env.clientCapabilities?.textDocument?.codeAction?.resolveSupport?.properties?.includes("command"),n=e.env.clientCapabilities?.textDocument?.codeAction?.resolveSupport?.properties?.includes("edit");return e.env.clientCapabilities||(t=!0,n=!0),async(r,i,o)=>{let s=e.getTextDocument(r);if(!s)return;let[a,c]=await Promise.all([(0,K1.getFormatCodeSettings)(e,s),(0,J1.getUserPreferences)(e,s)]),u=e.uriToFileName(s.uri),d=s.offsetAt(i.start),l=s.offsetAt(i.end),p=[],f=y("quickfix.ts");if(!o.only||f)for(let P of o.diagnostics){let _=(0,ql.safeCall)(()=>e.languageService.getCodeFixesAtPosition(u,s.offsetAt(P.range.start),s.offsetAt(P.range.end),[Number(P.code)],a,c))??[];for(let D of _)p=p.concat(v(D,[P],f??""))}if(o.only){for(let P of o.only)if(P.split(".")[0]==="refactor"){let _=(0,ql.safeCall)(()=>e.languageService.getApplicableRefactors(u,{pos:d,end:l},c,void 0,P))??[];for(let D of _)p=p.concat(R(D))}}else{let P=(0,ql.safeCall)(()=>e.languageService.getApplicableRefactors(u,{pos:d,end:l},c,void 0,void 0))??[];for(let _ of P)p=p.concat(R(_))}let g=y("source.organizeImports.ts");if(g){let P={title:"Organize Imports",kind:g},_={type:"organizeImports",uri:r,fileName:u};n?P.data=_:(0,Wr.resolveOrganizeImportsCodeAction)(e,P,_,a,c),p.push(P)}let h=y("source.fixAll.ts");if(h){let P={title:"Fix All",kind:h},_={uri:r,type:"fixAll",fileName:u,fixIds:[zi.classIncorrectlyImplementsInterface,zi.awaitInSyncFunction,zi.unreachableCode]};n?P.data=_:(0,Wr.resolveFixAllCodeAction)(e,P,_,a,c),p.push(P)}let b=y("source.removeUnused.ts");if(b){let P={title:"Remove all unused code",kind:b},_={uri:r,type:"fixAll",fileName:u,fixIds:[zi.unusedIdentifier,"unusedIdentifier_prefix","unusedIdentifier_deleteImports","unusedIdentifier_delete","unusedIdentifier_infer"]};n?P.data=_:(0,Wr.resolveFixAllCodeAction)(e,P,_,a,c),p.push(P)}let m=y("source.addMissingImports.ts");if(m){let P={title:"Add all missing imports",kind:m},_={uri:r,type:"fixAll",fileName:u,fixIds:[zi.fixImport,"fixMissingImport"]};n?P.data=_:(0,Wr.resolveFixAllCodeAction)(e,P,_,a,c),p.push(P)}for(let P of p)P.diagnostics===void 0&&(P.diagnostics=o.diagnostics);return p;function y(P){if(o.only)for(let _ of o.only){let D=_.split("."),E=P.split(".");if(D.length<=E.length){let k=0;for(let T=0;T<D.length;T++)D[T]==E[T]&&k++;if(k===D.length)return _}}}function v(P,_,D){let E=(0,X1.fileTextChangesToWorkspaceEdit)(P.changes,e),k=[],T={title:P.description,kind:D,edit:E};if(T.diagnostics=_,k.push(T),P.fixAllDescription&&P.fixId){let q={title:P.fixAllDescription,kind:D},N={uri:r,type:"fixAll",fileName:u,fixIds:[P.fixId]};n?q.data=N:(0,Wr.resolveFixAllCodeAction)(e,q,N,a,c),q.diagnostics=_,k.push(q)}return k}function R(P){let _=[];for(let D of P.actions){let E={title:D.description,kind:D.kind};D.notApplicableReason&&(E.disabled={reason:D.notApplicableReason}),P.inlineable&&(E.isPreferred=!0);let k={uri:r,type:"refactor",fileName:u,range:{pos:d,end:l},refactorName:P.name,actionName:D.name};t&&n?E.data=k:!E.disabled&&s&&(0,Wr.resolveRefactorCodeAction)(e,E,k,s,a,c),_.push(E)}return _}}}Es.register=Q1});var xl=S(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.handleKindModifiers=Ur.register=void 0;var Yy=Uo(),Y1=In(),ge=ar(),Z1=xe(),ex=Vi();function tx(e){let{ts:t}=e,n=Yy.lt(t.version,"3.2.0"),r=Yy.gte(t.version,"3.0.0");return async(i,o,s)=>{let a=e.getTextDocument(i);if(!a)return;let c=await(0,Y1.getUserPreferences)(e,a),u=e.uriToFileName(a.uri),d=a.offsetAt(o),l=(0,Z1.safeCall)(()=>e.languageService.getCompletionsAtPosition(u,d,{...c,...s}));if(l===void 0)return;let p=l.optionalReplacementSpan?{start:a.positionAt(l.optionalReplacementSpan.start),end:a.positionAt(l.optionalReplacementSpan.start+l.optionalReplacementSpan.length)}:void 0,f=a.getText({start:{line:o.line,character:0},end:{line:o.line+1,character:0}});f.endsWith(`
`)&&(f=f.substring(0,f.length-1));let g=m(a),h=l.entries.map(D=>b(D,a));return{isIncomplete:!!l.isIncomplete,items:h};function b(D,E){let k={label:D.name};k.kind=R(D.kind),D.source&&D.hasAction?k.sortText="\uFFFF"+D.sortText:k.sortText=D.sortText;let{sourceDisplay:T,isSnippet:q,labelDetails:N}=D;T&&(k.labelDetails??={},k.labelDetails.description=t.displayPartsToString(T)),N&&(k.labelDetails??={},Object.assign(k.labelDetails,N)),k.preselect=D.isRecommended;let F=y(D,E);if(k.commitCharacters=P(D,{isNewIdentifierLocation:l.isNewIdentifierLocation,isInValidCommitCharacterContext:_(E,o),enableCallCompletions:!0}),k.insertText=D.insertText,k.insertTextFormat=q?2:1,k.filterText=v(D,p,f,D.insertText),l?.isMemberCompletion&&g&&!q&&(k.filterText=g.text+(k.insertText||k.label),!F)){let x=p;x?F={inserting:g.range,replacing:nx(g.range,x)}:F=g.range,k.insertText=k.filterText}return Zy(k,D),!F&&p&&(F={inserting:{start:p.start,end:o},replacing:p}),F&&("start"in F?k.textEdit={range:F,newText:k.insertText||k.label}:k.textEdit={insert:F.inserting,replace:F.replacing,newText:k.insertText||k.label}),{...k,data:{uri:i,fileName:u,offset:d,originalItem:{name:D.name,source:D.source,data:D.data,labelDetails:D.labelDetails}}}}function m(D){let E;if(r){if(!l)return;if(l.isMemberCompletion){let T=f.slice(0,o.character).match(/\??\.\s*$/)||void 0;if(T){let q={start:{line:o.line,character:o.character-T[0].length},end:o},N=D.getText(q);E={range:q,text:N}}}}return E}function y(D,E){if(!D.replacementSpan)return;let k={start:E.positionAt(D.replacementSpan.start),end:E.positionAt(D.replacementSpan.start+D.replacementSpan.length)};return k.start.line!==k.end.line&&(k={start:{line:k.start.line,character:k.start.character},end:{line:k.start.line,character:E.positionAt(E.offsetAt({line:k.start.line+1,character:0})-1).character}}),{inserting:k,replacing:k}}function v(D,E,k,T){if(D.name.startsWith("#")){let q=E?k.charAt(E.start.character):void 0;return T?T.startsWith("this.#")?q==="#"?T:T.replace(/^this\.#/,""):T:q==="#"?void 0:D.name.replace(/^#/,"")}if(!T?.startsWith("this."))return T?.startsWith("[")?T.replace(/^\[['"](.+)[['"]\]$/,".$1"):T}function R(D){switch(D){case ge.Kind.primitiveType:case ge.Kind.keyword:return 14;case ge.Kind.const:case ge.Kind.let:case ge.Kind.variable:case ge.Kind.localVariable:case ge.Kind.alias:case ge.Kind.parameter:return 6;case ge.Kind.memberVariable:case ge.Kind.memberGetAccessor:case ge.Kind.memberSetAccessor:return 5;case ge.Kind.function:case ge.Kind.localFunction:return 3;case ge.Kind.method:case ge.Kind.constructSignature:case ge.Kind.callSignature:case ge.Kind.indexSignature:return 2;case ge.Kind.enum:return 13;case ge.Kind.enumMember:return 20;case ge.Kind.module:case ge.Kind.externalModuleName:return 9;case ge.Kind.class:case ge.Kind.type:return 7;case ge.Kind.interface:return 8;case ge.Kind.warning:return 1;case ge.Kind.script:return 17;case ge.Kind.directory:return 19;case ge.Kind.string:return 21;default:return 10}}function P(D,E){if(D.kind===ge.Kind.warning||E.isNewIdentifierLocation||!E.isInValidCommitCharacterContext)return;let k=[".",",",";"];return E.enableCallCompletions&&k.push("("),k}function _(D,E){return n&&E.character>1?D.getText({start:{line:E.line,character:0},end:E}).match(/(\s|^)\.$/ig)===null:!0}}}Ur.register=tx;function Zy(e,t){if(t.kindModifiers){let n=(0,ex.parseKindModifier)(t.kindModifiers);if(n.has(ge.KindModifiers.optional)&&(e.insertText||(e.insertText=e.label),e.filterText||(e.filterText=e.label),e.label+="?"),n.has(ge.KindModifiers.deprecated)&&(e.tags=[1]),n.has(ge.KindModifiers.color)&&(e.kind=16),t.kind===ge.Kind.script){for(let r of ge.KindModifiers.fileExtensionKindModifiers)if(n.has(r)){t.name.toLowerCase().endsWith(r)?e.detail=t.name:e.detail=t.name+r;break}}}}Ur.handleKindModifiers=Zy;function nx(e,t){let n=e.start.line<t.start.line||e.start.line===t.start.line&&e.start.character<t.start.character?e.start:t.start,r=e.end.line>t.end.line||e.end.line===t.end.line&&e.end.character>t.end.character?e.end:t.end;return{start:n,end:r}}});var Fl=S(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});var kl;function Ol(){if(kl===void 0)throw new Error("No runtime abstraction layer installed");return kl}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");kl=n}e.install=t})(Ol||(Ol={}));Ml.default=Ol});var Il=S(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.config=Le.loadMessageBundle=Le.localize=Le.format=Le.setPseudo=Le.isPseudo=Le.isDefined=Le.BundleFormat=Le.MessageFormat=void 0;var tv=Fl(),rx;(function(e){e.file="file",e.bundle="bundle",e.both="both"})(rx=Le.MessageFormat||(Le.MessageFormat={}));var ix;(function(e){e.standalone="standalone",e.languagePack="languagePack"})(ix=Le.BundleFormat||(Le.BundleFormat={}));var ev;(function(e){function t(n){var r=n;return r&&Al(r.key)&&Al(r.comment)}e.is=t})(ev||(ev={}));function Al(e){return typeof e<"u"}Le.isDefined=Al;Le.isPseudo=!1;function ox(e){Le.isPseudo=e}Le.setPseudo=ox;function nv(e,t){var n;return Le.isPseudo&&(e="\uFF3B"+e.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t.length===0?n=e:n=e.replace(/\{(\d+)\}/g,function(r,i){var o=i[0],s=t[o],a=r;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),n}Le.format=nv;function sx(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return nv(t,n)}Le.localize=sx;function ax(e){return(0,tv.default)().loadMessageBundle(e)}Le.loadMessageBundle=ax;function cx(e){return(0,tv.default)().config(e)}Le.config=cx});var Nl=S(Lt=>{"use strict";var ux=Lt&&Lt.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.config=Lt.loadMessageBundle=Lt.BundleFormat=Lt.MessageFormat=void 0;var lx=Fl(),rv=Il(),iv=Il();Object.defineProperty(Lt,"MessageFormat",{enumerable:!0,get:function(){return iv.MessageFormat}});Object.defineProperty(Lt,"BundleFormat",{enumerable:!0,get:function(){return iv.BundleFormat}});function jl(e){return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(typeof t=="number")throw new Error("Browser implementation does currently not support externalized strings.");return rv.localize.apply(void 0,ux([t,n],r,!1))}}Lt.loadMessageBundle=jl;function ov(e){var t;return(0,rv.setPseudo)(((t=e?.locale)===null||t===void 0?void 0:t.toLowerCase())==="pseudo"),jl}Lt.config=ov;lx.default.install(Object.freeze({loadMessageBundle:jl,config:ov}))});var sv=S(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.register=void 0;var dx=Nl(),qs=dx.loadMessageBundle(),fx=[{value:"@ts-check",description:qs("ts-check","Enables semantic checking in a JavaScript file. Must be at the top of a file.")},{value:"@ts-nocheck",description:qs("ts-nocheck","Disables semantic checking in a JavaScript file. Must be at the top of a file.")},{value:"@ts-ignore",description:qs("ts-ignore","Suppresses @ts-check errors on the next line of a file.")},{value:"@ts-expect-error",description:qs("ts-expect-error","Suppresses @ts-check errors on the next line of a file, expecting at least one to exist.")}];function gx(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return;let o=r.getText({start:{line:n.line,character:0},end:n}).match(/^\s*\/\/+\s?(@[a-zA-Z\-]*)?$/);return o?fx.map(s=>{let a={label:s.value};a.insertTextFormat=2,a.detail=s.description;let c={start:{line:n.line,character:Math.max(0,n.character-(o[1]?o[1].length:0))},end:n};return a.textEdit={range:c,newText:s.value},a}):[]}}xs.register=gx});var $l=S(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.addMarkdownDocumentation=dn.markdownDocumentation=dn.tagsMarkdownPreview=dn.plainWithLinks=void 0;function px(e){return e.replace(/\{@(link|linkplain|linkcode) (https?:\/\/[^ |}]+?)(?:[| ]([^{}\n]+?))?\}/gi,(t,n,r,i)=>{switch(n){case"linkcode":return`[\`${i?i.trim():r}\`](${r})`;default:return`[${i?i.trim():r}](${r})`}})}function Gi(e){return px(e)}function hx(e,t,n){if(!e.text)return;function r(o){return o.match(/^\s*[~`]{3}/g)?o:"```\n"+o+"\n```"}let i=Ll(e.text,t,n);switch(e.name){case"example":let o=i.match(/<caption>(.*?)<\/caption>\s*(\r\n|\n)/);return o&&o.index===0?o[1]+`

`+r(i.slice(o[0].length)):r(i);case"author":let s=i.match(/(.+)\s<([-.\w]+@[-.\w]+)>/);return s===null?i:`${s[1]} ${s[2]}`;case"default":return r(i)}return Gi(i)}function mx(e,t,n){switch(e.name){case"augments":case"extends":case"param":case"template":let o=Ll(e.text,t,n).split(/^(\S+)\s*-?\s*/);if(o?.length===3){let s=o[1],a=o[2],c=`*@${e.name}* \`${s}\``;return a?c+(a.match(/\r\n|\n/g)?`  
`+Gi(a):` \u2014 ${Gi(a)}`):c}}let r=`*@${e.name}*`,i=hx(e,t,n);return i?r+(i.match(/\r\n|\n/g)?`  
`+i:` \u2014 ${i}`):r}function av(e,t,n){return Gi(Ll(e,t,n))}dn.plainWithLinks=av;function Ll(e,t,n){if(!e)return"";if(typeof e=="string")return e;let r=[],i;for(let o of e)switch(o.kind){case"link":if(i){let s=i.text??i.name,a=i.target;if(typeof i.target=="object"&&"fileName"in i.target){let c=i.target,u=n.getTextDocument(n.uriToFileName(c.fileName));if(u){let d=u.positionAt(c.textSpan.start),l=u.positionAt(c.textSpan.start+c.textSpan.length);a={file:c.fileName,start:{line:d.line+1,offset:d.character+1},end:{line:l.line+1,offset:l.character+1}}}else a=void 0}if(a){let c=t.toResource(a.file)+`#L${a.start.line},${a.start.offset}`;r.push(`[${s}](${c})`)}else s&&r.push(s);i=void 0}else i={};break;case"linkName":i&&(i.name=o.text,i.target=o.target);break;case"linkText":i&&(i.text=o.text);break;default:r.push(o.text);break}return Gi(r.join(""))}function cv(e,t,n){return e.map(r=>mx(r,t,n)).join(`  

`)}dn.tagsMarkdownPreview=cv;function yx(e,t,n,r){return uv("",e,t,n,r)}dn.markdownDocumentation=yx;function uv(e,t,n,r,i){if(t&&(e+=av(t,r,i)),n){let o=cv(n,r,i);o&&(e+=`

`+o)}return e}dn.addMarkdownDocumentation=uv});var lv=S(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.snippetForFunctionCall=void 0;var Hr=ar();function vx(e,t){if(e.insertText&&typeof e.insertText!="string")return{snippet:e.insertText,parameterCount:0};let n=1,r=bx(t),i="";return i+=`${e.insertText||e.label}(`,i=o(i,r.parts,", "),r.hasOptionalParameters&&(i+="$"+n++),i+=")",i+="$"+n++,{snippet:i,parameterCount:r.parts.length+(r.hasOptionalParameters?1:0)};function o(s,a,c){for(let u=0;u<a.length;++u){let d=a[u];s+="${"+n+++":"+d.text+"}",u!==a.length-1&&(s+=c)}return s}}ks.snippetForFunctionCall=vx;function bx(e){let t=[],n=!1,r=!1,i=0,o=0;e:for(let s=0;s<e.length;++s){let a=e[s];switch(a.kind){case Hr.DisplayPartKind.methodName:case Hr.DisplayPartKind.functionName:case Hr.DisplayPartKind.text:case Hr.DisplayPartKind.propertyName:i===0&&o===0&&(n=!0);break;case Hr.DisplayPartKind.parameterName:if(i===1&&o===0&&n){let c=e[s+1],u=c&&c.text==="?",d=a.text==="this";!u&&!d&&t.push(a),r=r||u}break;case Hr.DisplayPartKind.punctuation:if(a.text==="(")++i;else if(a.text===")"){if(--i,i<=0&&n)break e}else if(a.text==="..."&&i===1){r=!0;break e}else a.text==="{"?++o:a.text==="}"&&--o;break}}return{hasOptionalParameters:r,parts:t}}});var lr=S(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.boundSpanToLocationLinks=fn.entriesToLocationLinks=fn.entryToLocation=fn.entriesToLocations=void 0;function Sx(e,t){return e.map(n=>dv(n,t)).filter(n=>!!n)}fn.entriesToLocations=Sx;function dv(e,t){let n=t.fileNameToUri(e.fileName),r=t.getTextDocument(n);if(!r)return;let i={start:r.positionAt(e.textSpan.start),end:r.positionAt(e.textSpan.start+e.textSpan.length)};return{uri:n,range:i}}fn.entryToLocation=dv;function _x(e,t){let n=[];for(let r of e){let i=t.fileNameToUri(r.fileName),o=t.getTextDocument(i);if(!o)continue;let s={start:o.positionAt(r.textSpan.start),end:o.positionAt(r.textSpan.start+r.textSpan.length)},a=r.contextSpan?{start:o.positionAt(r.contextSpan.start),end:o.positionAt(r.contextSpan.start+r.contextSpan.length)}:s,c=r.originalTextSpan?{start:o.positionAt(r.originalTextSpan.start),end:o.positionAt(r.originalTextSpan.start+r.originalTextSpan.length)}:void 0,u={targetUri:i,targetRange:a,targetSelectionRange:s,originSelectionRange:c};n.push(u)}return n}fn.entriesToLocationLinks=_x;function Cx(e,t,n){let r=[];if(!e.definitions)return r;let i={start:t.positionAt(e.textSpan.start),end:t.positionAt(e.textSpan.start+e.textSpan.length)};for(let o of e.definitions){let s=n.fileNameToUri(o.fileName),a=n.getTextDocument(s);if(!a)continue;let c={start:a.positionAt(o.textSpan.start),end:a.positionAt(o.textSpan.start+o.textSpan.length)},u=o.contextSpan?{start:a.positionAt(o.contextSpan.start),end:a.positionAt(o.contextSpan.start+o.contextSpan.length)}:c,d={targetUri:s,targetRange:u,targetSelectionRange:c,originSelectionRange:i};r.push(d)}return r}fn.boundSpanToLocationLinks=Cx});var Wl=S(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.getLineText=Vr.register=void 0;var Dx=cr(),Rx=In(),Px=xe(),fv=$l(),wx=lv(),Tx=lr(),Ex=xl();function qx(e){let{ts:t}=e;return async(n,r)=>{let i=n.data;if(!i)return n;let o=i.fileName,s=i.offset,a=e.getTextDocument(i.uri);r&&a&&(s=a.offsetAt(r));let[c,u]=a?await Promise.all([(0,Dx.getFormatCodeSettings)(e,a),(0,Rx.getUserPreferences)(e,a)]):[{},{}],d;try{d=e.languageService.getCompletionEntryDetails(o,s,i.originalItem.name,c,i.originalItem.source,u,i.originalItem.data)}catch(g){n.detail=`[TS Error]
${g}
${JSON.stringify(g,void 0,2)}`}if(!d)return n;i.originalItem.labelDetails&&(n.labelDetails??={},Object.assign(n.labelDetails,i.originalItem.labelDetails));let{sourceDisplay:l}=d;l&&(n.labelDetails??={},n.labelDetails.description=t.displayPartsToString(l));let p=[];if(d.codeActions){n.additionalTextEdits||(n.additionalTextEdits=[]);for(let g of d.codeActions){p.push(g.description);for(let h of g.changes){let b=h.textChanges.map(y=>({fileName:o,textSpan:y.span}));(0,Tx.entriesToLocations)(b,e).forEach((y,v)=>{n.additionalTextEdits?.push({range:y.range,newText:h.textChanges[v].newText})})}}}if(d.displayParts&&p.push(fv.plainWithLinks(d.displayParts,{toResource:f},e)),p.length&&(n.detail=p.join(`
`)),n.documentation={kind:"markdown",value:fv.markdownDocumentation(d.documentation,d.tags,{toResource:f},e)},d&&(0,Ex.handleKindModifiers)(n,d),a&&(await e.env.getConfiguration?.((0,Px.getConfigTitle)(a)+".suggest.completeFunctionCalls")??!1)&&(n.kind===3||n.kind===2)&&xx(e.languageService,o,s,a)){let{snippet:m,parameterCount:y}=(0,wx.snippetForFunctionCall)({insertText:n.insertText??n.textEdit?.newText,label:n.label},d.displayParts);n.textEdit&&(n.textEdit.newText=m),n.insertText&&(n.insertText=m),n.insertTextFormat=2,y>0}return n;function f(g){return e.fileNameToUri(g)}}}Vr.register=qx;function xx(e,t,n,r){try{let s=e.getQuickInfoAtPosition(t,n);if(s)switch(s.kind){case"var":case"let":case"const":case"alias":return!1}}catch{}let i=r.positionAt(n);return gv(r,i.line).slice(i.character).match(/^[a-z_$0-9]*\s*\(/gi)===null}function gv(e,t){let n=e.offsetAt({line:t+1,character:0}),r=e.positionAt(n);return e.getText({start:{line:t,character:0},end:r.line===t?r:e.positionAt(n-1)})}Vr.getLineText=gv});var hv=S(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.register=void 0;var kx=Nl(),pv=Wl(),Ox=kx.loadMessageBundle(),Mx=`/**
 * $0
 */`;function Fx(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r||!Ix(r,n))return;let i=e.uriToFileName(r.uri),o=r.offsetAt(n),s=e.languageService.getDocCommentTemplateAtPosition(i,o);if(!s)return;let a;return s.newText==="/** */"?a=Mx:a=jx(s.newText),Ax(r,n,a)}}Os.register=Fx;function Ax(e,t,n){let r={label:"/** */"};r.kind=1,r.detail=Ox("typescript.jsDocCompletionItem.documentation","JSDoc comment"),r.sortText="\0",r.insertTextFormat=2;let i=(0,pv.getLineText)(e,t.line),o=i.slice(0,t.character).match(/\/\**\s*$/),s=i.slice(t.character).match(/^\s*\**\//),a={line:t.line,character:t.character+(o?-o[0].length:0)},c={line:t.line,character:t.character+(s?s[0].length:0)},u={start:a,end:c};return r.textEdit={range:u,newText:n},r}function Ix(e,t){let n=(0,pv.getLineText)(e,t.line),r=n.slice(0,t.character);if(!/^\s*$|\/\*\*\s*$|^\s*\/\*\*+\s*$/.test(r))return!1;let i=n.slice(t.character);return/^\s*(\*+\/)?\s*$/.test(i)}function jx(e){let t=1;return e=e.replace(/\$/g,"\\$"),e=e.replace(/^[ \t]*(?=(\/|[ ]\*))/gm,""),e=e.replace(/^(\/\*\*\s*\*[ ]*)$/m,n=>n+"$0"),e=e.replace(/\* @param([ ]\{\S+\})?\s+(\S+)[ \t]*$/gm,(n,r,i)=>{let o="* @param ";return r===" {any}"||r===" {*}"?o+=`{\${${t++}:*}} `:r&&(o+=r+" "),o+=i+` \${${t++}}`,o}),e=e.replace(/\* @returns[ \t]*$/gm,`* @returns \${${t++}}`),e}});var mv=S(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.register=void 0;var Nx=xe(),Lx=lr();function $x(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return[];let i=e.uriToFileName(r.uri),o=r.offsetAt(n),s=(0,Nx.safeCall)(()=>e.languageService.getDefinitionAndBoundSpan(i,o));return s?(0,Lx.boundSpanToLocationLinks)(s,r,e):[]}}Ms.register=$x});var vv=S(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.getEmitDeclarations=Br.register=void 0;var Wx=xe();function Ux(e){let{ts:t}=e;return(n,r)=>{let i=e.getTextDocument(n);if(!i)return[];let o=e.uriToFileName(i.uri),s=e.languageService.getProgram(),a=s?.getSourceFile(o);if(!s||!a)return[];let c={isCancellationRequested(){return e.language.typescript?.languageServiceHost.getCancellationToken?.().isCancellationRequested()??!1},throwIfCancellationRequested(){}},u=(0,Wx.safeCall)(()=>[...r.semantic?s.getSemanticDiagnostics(a,c):[],...r.syntactic?s.getSyntacticDiagnostics(a,c):[],...r.suggestion?e.languageService.getSuggestionDiagnostics(o):[]])??[];return r.declaration&&yv(s.getCompilerOptions())&&(u=u.concat(s.getDeclarationDiagnostics(a,c))),d(i,u);function d(g,h){return h.map(b=>l(b,g)).filter(b=>!!b)}function l(g,h){if(g.start===void 0||g.length===void 0)return;let b={range:{start:h.positionAt(g.start),end:h.positionAt(g.start+g.length)},severity:f(g.category),source:"ts",code:g.code,message:Ul(g)};return g.relatedInformation&&(b.relatedInformation=g.relatedInformation.map(m=>p(m)).filter(m=>!!m)),g.reportsUnnecessary&&(b.tags===void 0&&(b.tags=[]),b.tags.push(1)),g.reportsDeprecated&&(b.tags===void 0&&(b.tags=[]),b.tags.push(2)),b}function p(g){if(g.start===void 0||g.length===void 0)return;let h;return g.file&&(h=e.getTextDocument(e.fileNameToUri(g.file.fileName))),h?{location:{uri:h.uri,range:{start:h.positionAt(g.start),end:h.positionAt(g.start+g.length)}},message:Ul(g)}:void 0}function f(g){switch(g){case t.DiagnosticCategory.Warning:return 2;case t.DiagnosticCategory.Error:return 1;case t.DiagnosticCategory.Suggestion:return 4;case t.DiagnosticCategory.Message:return 3}return 1}}}Br.register=Ux;function Ul(e,t=0){let n="  ".repeat(t);if(typeof e.messageText=="string")n+=e.messageText;else if(n+=e.messageText.messageText,e.messageText.next)for(let r of e.messageText.next)n+=`
`+Ul(r,t+1);return n}function yv(e){return!!(e.declaration||e.composite)}Br.getEmitDeclarations=yv});var bv=S(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.register=void 0;var Hx=xe();function Vx(e){let{ts:t}=e;return(n,r)=>{let i=e.getTextDocument(n);if(!i)return[];let o=e.uriToFileName(i.uri),s=i.offsetAt(r),a=(0,Hx.safeCall)(()=>e.languageService.getDocumentHighlights(o,s,[o]));if(!a)return[];let c=[];for(let u of a)for(let d of u.highlightSpans)c.push({kind:d.kind===t.HighlightSpanKind.writtenReference?3:2,range:{start:i.positionAt(d.textSpan.start),end:i.positionAt(d.textSpan.start+d.textSpan.length)}});return c}}Fs.register=Vx});var Sv=S(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.register=void 0;var ot=ar(),Bx=xe(),zx=Vi(),Gx=e=>{switch(e){case ot.Kind.module:return 2;case ot.Kind.class:return 5;case ot.Kind.enum:return 10;case ot.Kind.interface:return 11;case ot.Kind.method:return 6;case ot.Kind.memberVariable:return 7;case ot.Kind.memberGetAccessor:return 7;case ot.Kind.memberSetAccessor:return 7;case ot.Kind.variable:return 13;case ot.Kind.const:return 13;case ot.Kind.localVariable:return 13;case ot.Kind.function:return 12;case ot.Kind.localFunction:return 12;case ot.Kind.constructSignature:return 9;case ot.Kind.constructorImplementation:return 9}return 13};function Kx(e){return t=>{let n=e.getTextDocument(t);if(!n)return[];let r=e.uriToFileName(n.uri),i=(0,Bx.safeCall)(()=>e.languageService.getNavigationTree(r));if(!i)return[];return i.childItems?.map(function a(c){if(!s(c))return[];let u=c.childItems??[];return c.spans.map(d=>{let l=[];u=u.filter(b=>{let m=b.spans[0].start,y=b.spans[b.spans.length-1].start+b.spans[b.spans.length-1].length;return m>=d.start&&y<=d.start+d.length?(l.push(b),!1):!0});let p=c.spans.length===1?c.nameSpan??d:d,f={start:Math.min(d.start,p.start),end:Math.max(d.start+d.length,p.start+p.length)},g={name:c.text,kind:Gx(c.kind),range:{start:n.positionAt(f.start),end:n.positionAt(f.end)},selectionRange:{start:n.positionAt(p.start),end:n.positionAt(p.start+p.length)},children:l.map(a).flat()};return(0,zx.parseKindModifier)(c.kindModifiers).has(ot.KindModifiers.deprecated)&&(g.deprecated=!0,g.tags??=[],g.tags.push(1)),g})}).flat()??[];function s(a){return a.kind===ot.Kind.alias?!1:!!(a.text&&a.text!=="<function>"&&a.text!=="<class>")}}}As.register=Kx});var _v=S(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.register=void 0;var Jx=xe(),Xx=lr();function Qx(e){return t=>{let n=e.getTextDocument(t);if(!n)return[];let r=e.uriToFileName(n.uri),i=(0,Jx.safeCall)(()=>e.languageService.getFileReferences(r));return i?(0,Xx.entriesToLocations)([...i],e):[]}}Is.register=Qx});var Cv=S(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.register=void 0;var Yx=cr(),Zx=In(),ek=xe(),tk=Bi();function nk(e){return async(t,n)=>{let r=e.getTextDocument(t),[i,o]=r?await Promise.all([(0,Yx.getFormatCodeSettings)(e,r),(0,Zx.getUserPreferences)(e,r)]):[{},{}],s=e.uriToFileName(t),a=e.uriToFileName(n),c=(0,ek.safeCall)(()=>e.languageService.getEditsForFileRename(s,a,i,o));return c?.length?(0,tk.fileTextChangesToWorkspaceEdit)(c,e):void 0}}js.register=nk});var Dv=S(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.register=void 0;var rk=xe();function ik(e){let{ts:t}=e;return r=>{let i=e.getTextDocument(r);if(!i)return[];let o=e.uriToFileName(i.uri),s=(0,rk.safeCall)(()=>e.languageService.getOutliningSpans(o));if(!s)return[];let a=[];for(let c of s){let u=i.positionAt(c.textSpan.start),d=sk(u,i.positionAt(c.textSpan.start+c.textSpan.length),i),l={startLine:u.line,endLine:d.line,startCharacter:u.character,endCharacter:d.character,kind:n(c.kind)};a.push(l)}return a};function n(r){switch(r){case t.OutliningSpanKind.Comment:return"comment";case t.OutliningSpanKind.Imports:return"imports";case t.OutliningSpanKind.Region:return"region"}}}Ns.register=ik;var ok=["}","]",")","`"];function sk(e,t,n){if(t.character>0){let r=n.getText({start:{line:t.line,character:t.character-1},end:t});if(ok.includes(r)){let i=Math.max(n.offsetAt({line:t.line,character:0})-1,n.offsetAt(e));return n.positionAt(i)}}return t}});var Pv=S(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.register=void 0;var Rv=cr(),Hl=xe();function ak(e){return{onRange:async(t,n,r,i)=>{let o=e.uriToFileName(t.uri),s=await(0,Rv.getFormatCodeSettings)(e,t,r);i&&(s.baseIndentSize=i.initialIndentLevel*r.tabSize);let a=n?(0,Hl.safeCall)(()=>e.languageService.getFormattingEditsForRange(o,t.offsetAt(n.start),t.offsetAt(n.end),s)):(0,Hl.safeCall)(()=>e.languageService.getFormattingEditsForDocument(o,s));if(!a)return[];let c=[];for(let u of a)c.push({range:{start:t.positionAt(u.span.start),end:t.positionAt(u.span.start+u.span.length)},newText:u.newText});return c},onType:async(t,n,r,i,o)=>{let s=e.uriToFileName(t.uri),a=await(0,Rv.getFormatCodeSettings)(e,t,n);r&&(a.baseIndentSize=r.initialIndentLevel*n.tabSize);let c=(0,Hl.safeCall)(()=>e.languageService.getFormattingEditsAfterKeystroke(s,t.offsetAt(i),o,a));if(!c)return[];let u=[];for(let d of c)u.push({range:{start:t.positionAt(d.span.start),end:t.positionAt(d.span.start+d.span.length)},newText:d.newText});return u}}}Ls.register=ak});var wv=S($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.register=void 0;var ck=xe(),uk=$l();function lk(e){let{ts:t}=e;return(n,r,i=!1)=>{let o=e.getTextDocument(n);if(!o)return;let s=e.uriToFileName(o.uri),a=o.offsetAt(r),c=(0,ck.safeCall)(()=>e.languageService.getQuickInfoAtPosition(s,a));if(!c)return;let u=[],d=t.displayPartsToString(c.displayParts),l=uk.markdownDocumentation(c.documentation??[],c.tags,{toResource:f},e);return d&&!i&&u.push(["```typescript",d,"```"].join(`
`)),l&&u.push(l),{contents:{kind:"markdown",value:u.join(`

`)},range:{start:o.positionAt(c.textSpan.start),end:o.positionAt(c.textSpan.start+c.textSpan.length)}};function f(g){return e.fileNameToUri(g)}}}$s.register=lk});var Tv=S(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.register=void 0;var dk=xe(),fk=lr();function gk(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return[];let i=e.uriToFileName(r.uri),o=r.offsetAt(n),s=(0,dk.safeCall)(()=>e.languageService.getImplementationAtPosition(i,o));return s?(0,fk.entriesToLocationLinks)([...s],e):[]}}Ws.register=gk});var Ev=S(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.register=void 0;var pk=In(),hk=xe();function mk(e){let{ts:t}=e;return async(n,r)=>{let i=e.getTextDocument(n);if(!i)return;let o=await(0,pk.getUserPreferences)(e,i),s=e.uriToFileName(i.uri),a=i.offsetAt(r.start),c=i.offsetAt(r.end);return((0,hk.safeCall)(()=>"provideInlayHints"in e.languageService?e.languageService.provideInlayHints(s,{start:a,length:c-a},o):[])??[]).map(d=>{let l={position:i.positionAt(d.position),label:d.text,kind:d.kind===t.InlayHintKind.Type?1:d.kind===t.InlayHintKind.Parameter?2:void 0};return l.paddingLeft=d.whitespaceBefore,l.paddingRight=d.whitespaceAfter,l})}}Us.register=mk});var xv=S(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.register=void 0;var yk=xe(),qv=lr();function vk(e){return(t,n,r)=>{let i=e.getTextDocument(t);if(!i)return[];let o=e.uriToFileName(i.uri),s=i.offsetAt(n),a=(0,yk.safeCall)(()=>e.languageService.findReferences(o,s));if(!a)return[];let c=[];for(let u of a){if(r.includeDeclaration){let d=(0,qv.entryToLocation)(u.definition,e);d&&c.push(d)}for(let d of u.references){let l=(0,qv.entryToLocation)(d,e);l&&c.push(l)}}return c}}Hs.register=vk});var Ov=S(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.register=void 0;var bk=xe();function Sk(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return[];let i=[];for(let o of n){let s=e.uriToFileName(r.uri),a=r.offsetAt(o),c=(0,bk.safeCall)(()=>e.languageService.getSmartSelectionRange(s,a));c&&i.push(kv(c,r))}return i}}Vs.register=Sk;function kv(e,t){return{range:{start:t.positionAt(e.textSpan.start),end:t.positionAt(e.textSpan.start+e.textSpan.length)},parent:e.parent?kv(e.parent,t):void 0}}});var Mv=S(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.register=void 0;var _k=xe();function Ck(e){let{ts:t}=e;return(n,r,i)=>{let o=e.getTextDocument(n);if(!o)return;let s=e.uriToFileName(n),a=r?o.offsetAt(r.start):0,c=r?o.offsetAt(r.end)-a:o.getText().length;if(e.language.typescript?.languageServiceHost.getCancellationToken?.().isCancellationRequested())return;let u=(0,_k.safeCall)(()=>e.languageService.getEncodedSemanticClassifications(s,{start:a,length:c},t.SemanticClassificationFormat.TwentyTwenty));if(!u)return;let d=[];d[2]=1<<i.tokenModifiers.indexOf("async"),d[0]=1<<i.tokenModifiers.indexOf("declaration"),d[3]=1<<i.tokenModifiers.indexOf("readonly"),d[1]=1<<i.tokenModifiers.indexOf("static"),d[5]=1<<i.tokenModifiers.indexOf("local"),d[4]=1<<i.tokenModifiers.indexOf("defaultLibrary"),d=d.map(b=>Math.max(b,0));let l=u.spans,p=[],f=0;for(;f<l.length;){let b=l[f++],m=l[f++],y=l[f++],v=Rk(y);if(v===void 0)continue;let R=Pk(y),P=o.positionAt(b),_=o.positionAt(b+m),D=g(v);if(D===void 0)continue;let E=h(R);for(let k=P.line;k<=_.line;k++){let T=k===P.line?P.character:0,q=k===_.line?_.character:Dk(o,k);p.push([k,T,q-T,D,E])}}return p;function g(b){return i.tokenTypes.indexOf(kt[b])}function h(b){let m=0,y=0;for(;b;)b&1&&(m|=d[y]),b=b>>1,y++;return m}}}Bs.register=Ck;function Dk(e,t){let n=e.offsetAt({line:t,character:0});return e.offsetAt({line:t+1,character:0})-n}function Rk(e){if(e>255)return(e>>8)-1}function Pk(e){return e&255}var kt=[];kt[0]="class";kt[1]="enum";kt[2]="interface";kt[3]="namespace";kt[4]="typeParameter";kt[5]="type";kt[6]="parameter";kt[7]="variable";kt[8]="enumMember";kt[9]="property";kt[10]="function";kt[11]="method";var zr=[];zr[2]="async";zr[0]="declaration";zr[3]="readonly";zr[1]="static";zr[5]="local";zr[4]="defaultLibrary";var dr=[];dr[11]=0;dr[12]=1;dr[13]=2;dr[14]=3;dr[15]=4;dr[16]=5;dr[17]=6});var Fv=S(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.register=void 0;var wk=xe();function Tk(e){let{ts:t}=e;return(n,r,i)=>{let o=e.getTextDocument(n);if(!o)return;let s={};i?.triggerKind===1?s.triggerReason={kind:"invoked"}:i?.triggerKind===2?s.triggerReason={kind:"characterTyped",triggerCharacter:i.triggerCharacter}:i?.triggerKind===3&&(s.triggerReason={kind:"retrigger",triggerCharacter:i.triggerCharacter});let a=e.uriToFileName(o.uri),c=o.offsetAt(r),u=(0,wk.safeCall)(()=>e.languageService.getSignatureHelpItems(a,c,s));if(u)return{activeSignature:u.selectedItemIndex,activeParameter:u.argumentIndex,signatures:u.items.map(d=>{let l={label:"",documentation:void 0,parameters:[]};return l.label+=t.displayPartsToString(d.prefixDisplayParts),d.parameters.forEach((p,f,g)=>{let h=t.displayPartsToString(p.displayParts),b={label:h,documentation:t.displayPartsToString(p.documentation)};l.label+=h,l.parameters.push(b),f<g.length-1&&(l.label+=t.displayPartsToString(d.separatorDisplayParts))}),l.label+=t.displayPartsToString(d.suffixDisplayParts),l})}}}zs.register=Tk});var Av=S(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.register=void 0;var Ek=xe(),qk=lr();function xk(e){return(t,n)=>{let r=e.getTextDocument(t);if(!r)return[];let i=e.uriToFileName(r.uri),o=r.offsetAt(n),s=(0,Ek.safeCall)(()=>e.languageService.getTypeDefinitionAtPosition(i,o));return s?(0,qk.entriesToLocationLinks)([...s],e):[]}}Gs.register=xk});var Iv=S(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.register=void 0;var $t=ar(),kk=xe(),Ok=Vi();function Mk(e){switch(e.kind){case $t.Kind.method:return 6;case $t.Kind.enum:return 10;case $t.Kind.enumMember:return 22;case $t.Kind.function:return 12;case $t.Kind.class:return 5;case $t.Kind.interface:return 11;case $t.Kind.type:return 5;case $t.Kind.memberVariable:return 8;case $t.Kind.memberGetAccessor:return 8;case $t.Kind.memberSetAccessor:return 8;case $t.Kind.variable:return 13;default:return 13}}function Fk(e){return t=>{let n=(0,kk.safeCall)(()=>e.languageService.getNavigateToItems(t));if(!n)return[];return n.filter(o=>o.containerName||o.kind!=="alias").map(r).filter(o=>!!o);function r(o){let s=i(o),a=e.fileNameToUri(o.fileName),c=e.getTextDocument(a);if(c){let u={start:c.positionAt(o.textSpan.start),end:c.positionAt(o.textSpan.start+o.textSpan.length)},d={name:s,kind:Mk(o),location:{uri:a,range:u}};return(o.kindModifiers?(0,Ok.parseKindModifier)(o.kindModifiers):void 0)?.has($t.KindModifiers.deprecated)&&(d.tags=[1]),d}}function i(o){let s=o.name;return o.kind==="method"||o.kind==="function"?s+"()":s}}}Ks.register=Fk});var jv=S(En=>{"use strict";var Ak=En&&En.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ik=En&&En.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ak(t,e,n)};Object.defineProperty(En,"__esModule",{value:!0});En.create=void 0;var Js=Uo(),gn=xe(),jk=gs(),Nk=Ly(),Lk=Hy(),$k=Qy(),Wk=El(),Uk=xl(),Hk=sv(),Vk=hv(),Bk=Wl(),zk=mv(),Gk=vv(),Kk=bv(),Jk=Sv(),Xk=_v(),Qk=Cv(),Yk=Dv(),Zk=Pv(),eO=wv(),tO=Tv(),nO=Ev(),rO=Pl(),iO=xv(),oO=Bi(),sO=Ov(),aO=Mv(),cO=Fv(),uO=Av(),lO=Iv();Ik(gs(),En);function dO(e,{isFormattingEnabled:t=async(o,s)=>await s.env.getConfiguration?.((0,gn.getConfigTitle)(o)+".format.enable")??!0,isValidationEnabled:n=async(o,s)=>await s.env.getConfiguration?.((0,gn.getConfigTitle)(o)+".validate.enable")??!0,isSuggestionsEnabled:r=async(o,s)=>await s.env.getConfiguration?.((0,gn.getConfigTitle)(o)+".suggest.enabled")??!0,isAutoClosingTagsEnabled:i=async(o,s)=>await s.env.getConfiguration?.((0,gn.getConfigTitle)(o)+".autoClosingTags")??!0}={}){let o=fO(e.version),s="*",a="@";return{name:"typescript",triggerCharacters:[...o,s,a],signatureHelpTriggerCharacters:["(",",","<"],signatureHelpRetriggerCharacters:[")"],autoFormatTriggerCharacters:[";","}",`
`],create(c){let u={getProjectVersion:()=>h.projectVersion.toString(),getScriptFileNames:()=>[h.fileName],getScriptVersion:M=>M===h.fileName?h.fileVersion.toString():"",getScriptSnapshot:M=>M===h.fileName?h.snapshot:void 0,getCompilationSettings:()=>({}),getCurrentDirectory:()=>"",getDefaultLibFileName:()=>"",readFile:()=>{},fileExists:M=>M===h.fileName},d={...c,languageServiceHost:u,languageService:e.createLanguageService(u,void 0,2),ts:e,uriToFileName:M=>{if(M!==h.document?.uri)throw new Error(`uriToFileName: uri not found: ${M}`);return h.fileName},fileNameToUri:M=>{if(M!==h.fileName)throw new Error(`fileNameToUri: fileName not found: ${M}`);return h.document.uri},getTextDocument(M){if(M!==h.document?.uri)throw new Error(`getTextDocument: uri not found: ${M}`);return h.document}},l=Jk.register(d),p=Zk.register(d),f=Yk.register(d),g={provide:{"typescript/typescript":()=>e,"typescript/languageService":()=>d.languageService,"typescript/languageServiceHost":()=>d.languageServiceHost,"typescript/syntacticLanguageService":()=>d.languageService,"typescript/syntacticLanguageServiceHost":()=>d.languageServiceHost},async provideAutoInsertionEdit(M,V,J){if((M.languageId==="javascriptreact"||M.languageId==="typescriptreact")&&J.text.endsWith(">")&&await i(M,c)){let ce=nn(M),Oe=d.languageService.getJsxClosingTagAtPosition(ce.fileName,M.offsetAt(V));if(Oe)return"$0"+Oe.newText}},provideFoldingRanges(M){if((0,gn.isTsDocument)(M))return nn(M),f(M.uri)},provideDocumentSymbols(M){if((0,gn.isTsDocument)(M))return nn(M),l(M.uri)},async provideDocumentFormattingEdits(M,V,J,ce){if((0,gn.isTsDocument)(M)&&await t(M,c))return nn(M),await p.onRange(M,V,J,ce)},async provideOnTypeFormattingEdits(M,V,J,ce,Oe){if((0,gn.isTsDocument)(M)&&await t(M,c))return nn(M),p.onType(M,ce,Oe,V,J)}},h={projectVersion:-1,document:void 0,documentVersion:void 0,fileName:"",fileVersion:0,snapshot:e.ScriptSnapshot.fromString("")};if(!c.language.typescript)return g;let{sys:b,languageServiceHost:m}=c.language.typescript,y=Nk.createLanguageService(e,b,m,M=>e.createLanguageService(M,(0,jk.getDocumentRegistry)(e,b.useCaseSensitiveFileNames,m.getCurrentDirectory()))),{languageService:v}=y;if(y.setPreferences&&c.env.getConfiguration){M(),c.env.onDidChangeConfiguration?.(M);async function M(){let V=await c.env.getConfiguration?.("typescript.preferences");V&&y.setPreferences?.(V)}}if(y.projectUpdated){let J=function(){M.clear();for(let ce of m.getScriptFileNames()){let Oe=c.env.typescript.fileNameToUri(ce),qe=c.language.files.get(Oe);qe?.generated?qe.generated.languagePlugin.typescript?.getScript(qe.generated.code)&&M.add(V(ce)):qe&&M.add(V(ce))}},M=new Set,V=b.useCaseSensitiveFileNames?ce=>ce:ce=>ce.toLowerCase();J(),c.env.onDidChangeWatchedFiles?.(ce=>{ce.changes.some(qe=>qe.type!==2)&&J();for(let qe of ce.changes){let rn=c.env.typescript.uriToFileName(qe.uri);M.has(V(rn))&&y.projectUpdated?.(m.getCurrentDirectory())}})}let R={...c,languageServiceHost:m,languageService:v,ts:e,uriToFileName(M){let V=er(M);return V?V.fileName:c.env.typescript.uriToFileName(M)},fileNameToUri(M){let V=c.env.typescript.fileNameToUri(M),J=c.language.files.get(V),Oe=c.language.typescript.getExtraScript(M)?.code;if(!Oe&&J?.generated?.languagePlugin.typescript){let qe=J.generated.languagePlugin.typescript.getScript(J.generated.code);qe&&(Oe=qe.code)}if(Oe){let qe=c.language.files.getByVirtualCode(Oe);return c.documents.getVirtualCodeUri(qe.id,Oe.id)}return V},getTextDocument(M){let V=c.documents.getVirtualCodeByUri(M)[0];if(V)return c.documents.get(M,V.languageId,V.snapshot);let J=c.language.files.get(M);if(J)return c.documents.get(M,J.languageId,J.snapshot)}},P=zk.register(R),_=uO.register(R),D=iO.register(R),E=Xk.register(R),k=tO.register(R),T=rO.register(R),q=oO.register(R),N=Qk.register(R),F=$k.register(R),x=Wk.register(R),A=nO.register(R),j=Kk.register(R),B=lO.register(R),U=Uk.register(R),$=Bk.register(R),W=Hk.register(R),z=Vk.register(R),ne=eO.register(R),pe=cO.register(R),Z=sO.register(R),_e=Gk.register(R),Te=aO.register(R),lt=Lk.register(R);return{...g,provide:{...g.provide,"typescript/languageService":()=>v,"typescript/languageServiceHost":()=>m},dispose(){v.dispose()},async provideCompletionItems(M,V,J,ce){if(Ee(M)&&await r(M,c))return await Re(ce,async()=>{let Oe={isIncomplete:!1,items:[]};if(!J||J.triggerKind!==2||J.triggerCharacter&&o.includes(J.triggerCharacter)){let qe={triggerCharacter:J.triggerCharacter,triggerKind:J.triggerKind},rn=await U(M.uri,V,qe);rn&&(Oe=rn)}if(!J||J.triggerKind!==2||J.triggerCharacter===s){let qe=await z(M.uri,V);qe&&Oe.items.push(qe)}if(!J||J.triggerKind!==2||J.triggerCharacter===a){let qe=await W(M.uri,V);qe&&(Oe.items=Oe.items.concat(qe))}return Oe})},resolveCompletionItem(M,V){return Re(V,()=>$(M))},provideRenameRange(M,V,J){if(Ee(M))return Re(J,()=>T(M.uri,V))},provideRenameEdits(M,V,J,ce){if(Ee(M,!0))return Re(ce,()=>q(M.uri,V,J))},provideCodeActions(M,V,J,ce){if(Ee(M))return Re(ce,()=>F(M.uri,V,J))},resolveCodeAction(M,V){return Re(V,()=>x(M))},provideInlayHints(M,V,J){if(Ee(M))return Re(J,()=>A(M.uri,V))},provideCallHierarchyItems(M,V,J){if(Ee(M))return Re(J,()=>lt.doPrepare(M.uri,V))},provideCallHierarchyIncomingCalls(M,V){return Re(V,()=>lt.getIncomingCalls(M))},provideCallHierarchyOutgoingCalls(M,V){return Re(V,()=>lt.getOutgoingCalls(M))},provideDefinition(M,V,J){if(Ee(M))return Re(J,()=>P(M.uri,V))},provideTypeDefinition(M,V,J){if(Ee(M))return Re(J,()=>_(M.uri,V))},async provideDiagnostics(M,V){if(Ee(M)&&await n(M,c))return await Re(V,()=>_e(M.uri,{syntactic:!0,suggestion:!0}))},async provideSemanticDiagnostics(M,V){if(Ee(M)&&await n(M,c))return Re(V,()=>_e(M.uri,{semantic:!0,declaration:!0}))},provideHover(M,V,J){if(Ee(M))return Re(J,()=>ne(M.uri,V))},provideImplementation(M,V,J){if(Ee(M))return Re(J,()=>k(M.uri,V))},provideReferences(M,V,J,ce){if(Ee(M,!0))return Re(ce,()=>D(M.uri,V,J))},provideFileReferences(M,V){if(Ee(M,!0))return Re(V,()=>E(M.uri))},provideDocumentHighlights(M,V,J){if(Ee(M))return Re(J,()=>j(M.uri,V))},provideDocumentSemanticTokens(M,V,J,ce){if(Ee(M))return Re(ce,()=>Te(M.uri,V,J))},provideWorkspaceSymbols(M,V){return Re(V,()=>B(M))},provideFileRenameEdits(M,V,J){return Re(J,()=>N(M,V))},provideSelectionRanges(M,V,J){if(Ee(M))return Re(J,()=>Z(M.uri,V))},provideSignatureHelp(M,V,J,ce){if(Ee(M))return Re(ce,()=>pe(M.uri,V,J))}};function Ee(M,V=!1){return er(M.uri)||V&&(0,gn.isJsonDocument)(M)?!0:(0,gn.isTsDocument)(M)}function er(M){let[V,J]=c.documents.getVirtualCodeByUri(M);if(V&&J.generated?.languagePlugin.typescript){let{getScript:ce,getExtraScripts:Oe}=J.generated?.languagePlugin.typescript,qe=c.env.typescript.uriToFileName(J.id);if(ce(J.generated.code)?.code===V)return{fileName:qe,code:V};for(let rn of Oe?.(qe,J.generated.code)??[])if(rn.code===V)return rn}}async function Re(M,V){let J=await b.sync?.(),ce=await V(),Oe=await b.sync?.();for(;Oe!==J&&!M.isCancellationRequested;)J=Oe,ce=await V(),Oe=await b.sync?.();return ce}function nn(M){return(h.document!==M||h.documentVersion!==M.version)&&(h.document=M,h.fileName="/tmp."+M.languageId=="javascript"?"js":M.languageId==="typescriptreact"?"tsx":M.languageId==="javascriptreact"?"jsx":"ts",h.fileVersion++,h.snapshot=e.ScriptSnapshot.fromString(M.getText()),h.projectVersion++),h}}}}En.create=dO;function fO(e){let t=[".",'"',"'","`","/","<"];return(Js.lt(e,"3.1.0")||Js.gte(e,"3.2.0"))&&t.push("@"),Js.gte(e,"3.8.1")&&t.push("#"),Js.gte(e,"4.3.0")&&t.push(" "),t}});var Qs={};_u(Qs,{TextDocument:()=>Vl});function Bl(e,t){if(e.length<=1)return e;let n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);Bl(r,t),Bl(i,t);let o=0,s=0,a=0;for(;o<r.length&&s<i.length;)t(r[o],i[s])<=0?e[a++]=r[o++]:e[a++]=i[s++];for(;o<r.length;)e[a++]=r[o++];for(;s<i.length;)e[a++]=i[s++];return e}function Nv(e,t,n=0){let r=t?[n]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function Lv(e){let t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function gO(e){let t=Lv(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var Xs,Vl,Ys=Su(()=>{"use strict";Xs=class e{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(let r of t)if(e.isIncremental(r)){let i=Lv(r.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+r.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,d=Nv(r.text,!1,o);if(c-a===d.length)for(let p=0,f=d.length;p<f;p++)u[p+a+1]=d[p];else d.length<1e4?u.splice(a+1,c-a,...d):this._lineOffsets=u=u.slice(0,a+1).concat(d,u.slice(c+1));let l=r.text.length-(s-o);if(l!==0)for(let p=a+1+d.length,f=u.length;p<f;p++)u[p]=u[p]+l}else if(e.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Nv(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return{line:0,character:t};for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return{line:o,character:t-n[o]}}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}};(function(e){function t(i,o,s,a){return new Xs(i,o,s,a)}e.create=t;function n(i,o,s){if(i instanceof Xs)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(i,o){let s=i.getText(),a=Bl(o.map(gO),(d,l)=>{let p=d.range.start.line-l.range.start.line;return p===0?d.range.start.character-l.range.start.character:p}),c=0,u=[];for(let d of a){let l=i.offsetAt(d.range.start);if(l<c)throw new Error("Overlapping edit");l>c&&u.push(s.substring(c,l)),d.newText.length&&u.push(d.newText),c=i.offsetAt(d.range.end)}return u.push(s.substr(c)),u.join("")}e.applyEdits=r})(Vl||(Vl={}))});var ea=S(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.createDocumentProvider=jn.LinkedCodeMapWithDocument=jn.SourceMapWithDocuments=void 0;var $v=fe(),pO=(Ys(),tr(Qs)),Ki=class{constructor(t,n,r){this.sourceDocument=t,this.embeddedDocument=n,this.map=r}getSourceRange(t,n=()=>!0){for(let r of this.getSourceRanges(t,n))return r}getGeneratedRange(t,n=()=>!0){for(let r of this.getGeneratedRanges(t,n))return r}*getSourceRanges(t,n=()=>!0){for(let r of this.findRanges(t,n,"getSourcePositionsBase","matchSourcePosition"))yield r}*getGeneratedRanges(t,n=()=>!0){for(let r of this.findRanges(t,n,"getGeneratedPositionsBase","matchGeneratedPosition"))yield r}*findRanges(t,n,r,i){let o=[];for(let s of this[r](t.start,n)){let a=this[i](t.end,s[1]);a?yield{start:s[0],end:a}:o.push(s)}for(let s of o)for(let a of this[r](t.end,n))yield{start:s[0],end:a[0]}}getSourcePosition(t,n=()=>!0){for(let r of this.getSourcePositions(t,n))return r}getGeneratedPosition(t,n=()=>!0){for(let r of this.getGeneratedPositions(t,n))return r}*getSourcePositions(t,n=()=>!0){for(let r of this.getSourcePositionsBase(t,n))yield r[0]}*getGeneratedPositions(t,n=()=>!0){for(let r of this.getGeneratedPositionsBase(t,n))yield r[0]}*getSourcePositionsBase(t,n=()=>!0){for(let r of this.findPositions(t,n,this.embeddedDocument,this.sourceDocument,"generatedOffsets","sourceOffsets"))yield r}*getGeneratedPositionsBase(t,n=()=>!0){for(let r of this.findPositions(t,n,this.sourceDocument,this.embeddedDocument,"sourceOffsets","generatedOffsets"))yield r}*findPositions(t,n,r,i,o,s){for(let a of this.map.findMatching(r.offsetAt(t),o,s))n(a[1].data)&&(yield[i.positionAt(a[0]),a[1]])}matchSourcePosition(t,n){let r=(0,$v.translateOffset)(this.embeddedDocument.offsetAt(t),n.generatedOffsets,n.sourceOffsets,n.lengths);if(r!==void 0)return this.sourceDocument.positionAt(r)}matchGeneratedPosition(t,n){let r=(0,$v.translateOffset)(this.sourceDocument.offsetAt(t),n.sourceOffsets,n.generatedOffsets,n.lengths);if(r!==void 0)return this.embeddedDocument.positionAt(r)}};jn.SourceMapWithDocuments=Ki;var Zs=class extends Ki{constructor(t,n){super(t,t,n),this.document=t,this.linkedMap=n}*getLinkedCodePositions(t){for(let n of this.linkedMap.getLinkedOffsets(this.document.offsetAt(t)))yield this.document.positionAt(n)}};jn.LinkedCodeMapWithDocument=Zs;function hO(e){let t=0,n=new WeakMap,r=new WeakMap,i=new WeakMap;return{get:o,*getMaps(s){for(let[a,[c,u]]of e.getMaps(s))n.has(u)||n.set(u,new Ki(o(a,e.get(a).languageId,c),o(this.getVirtualCodeUri(a,s.id),s.languageId,s.snapshot),u)),yield n.get(u)},getLinkedCodeMap(s){let a=e.getLinkedCodeMap(s);if(a)return r.has(a)||r.set(a,new Zs(o(this.getVirtualCodeUri(e.getByVirtualCode(s).id,s.id),s.languageId,s.snapshot),a)),r.get(a)},getVirtualCodeByUri(s){if(s.includes("?virtualCodeId=")){let a=s.split("?virtualCodeId=")[0],c=s.split("?virtualCodeId=")[1];return e.getVirtualCode(a,c)}return[void 0,void 0]},getVirtualCodeUri(s,a){return s+`?virtualCodeId=${a}`}};function o(s,a,c){i.has(c)||i.set(c,new Map);let u=i.get(c);return u.has(s)||u.set(s,pO.TextDocument.create(s,a,t++,c.getText(0,c.getLength()))),u.get(s)}}jn.createDocumentProvider=hO});var Fe=S(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getEmbeddedFilesByLevel=Wt.eachEmbeddedDocument=Wt.safeCall=Wt.languageFeatureWorker=Wt.documentFeatureWorker=void 0;async function mO(e,t,n,r,i,o){return Wv(e,t,()=>{},function*(s){n(s)&&(yield)},r,i,o)}Wt.documentFeatureWorker=mO;async function Wv(e,t,n,r,i,o,s){let a=e.language.files.get(t);if(!a)return;let c=[];if(a.generated)for(let u of Gl(e,a.generated.code))for(let d of r(u))for(let[l,p]of Object.entries(e.services)){if(e.disabledServicePlugins.has(p[1]))continue;let f=await zl(()=>i(p,u.embeddedDocument,d,u),"service "+l+" crashed on "+u.embeddedDocument.uri);if(!f)continue;let g=o(f,u);if(g&&(c.push(g),!s))break}else{let u=e.documents.get(t,a.languageId,a.snapshot),d=n();for(let[l,p]of Object.entries(e.services)){if(e.disabledServicePlugins.has(p[1]))continue;let f=await zl(()=>i(p,u,d,void 0),"service "+l+" crashed on "+t);if(!f)continue;let g=o(f,void 0);if(g&&(c.push(g),!s))break}}if(s&&c.length>0)return s(c);if(c.length>0)return c[0]}Wt.languageFeatureWorker=Wv;async function zl(e,t){try{return await e()}catch(n){console.warn(t,n)}}Wt.safeCall=zl;function*Gl(e,t,n=t){if(t.embeddedCodes)for(let r of t.embeddedCodes)yield*Gl(e,r,n);for(let r of e.documents.getMaps(t))e.language.files.get(r.sourceDocument.uri)?.generated?.code===n&&!e.disabledVirtualFileUris.has(e.documents.getVirtualCodeUri(e.language.files.getByVirtualCode(t).id,t.id))&&(yield r)}Wt.eachEmbeddedDocument=Gl;function yO(e,t,n,r){let i=[[n]];for(;;){if(i.length>r)return i[r];let o=[];for(let s of i[i.length-1])if(s.embeddedCodes)for(let a of s.embeddedCodes)e.disabledVirtualFileUris.has(e.documents.getVirtualCodeUri(t,a.id))||o.push(a);i.push(o)}}Wt.getEmbeddedFilesByLevel=yO});var ye=S(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.NoneCancellationToken=void 0;ta.NoneCancellationToken={isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}});var Hv=S(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.register=void 0;var vO=Fe(),bO=ye(),Uv=fe();function SO(e){return(t,n,r,i=bO.NoneCancellationToken)=>(0,vO.languageFeatureWorker)(e,t,()=>({position:n,lastChange:r}),function*(o){for(let s of o.getGeneratedPositions(n,Uv.isAutoInsertEnabled)){let a=o.getGeneratedRange(r.range);a&&(yield{position:s,lastChange:{text:r.text,range:a}})}},(o,s,a)=>{if(!i.isCancellationRequested)return o[1].provideAutoInsertionEdit?.(s,a.position,a.lastChange,i)},(o,s)=>{if(!s||typeof o=="string")return o;let a=s.getSourceRange(o.range,Uv.isAutoInsertEnabled);if(a)return o.range=a,o})}na.register=SO});var Ye=S(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.notEmpty=ft.sleep=ft.stringToSnapshot=ft.isEqualRange=ft.isInsideRange=ft.getOverlapRange=ft.findOverlapCodeRange=void 0;function _O(e,t,n,r){let i,o;for(let[s,a]of n.getGeneratedOffsets(e))if(r(a.data)){i=s;break}for(let[s,a]of n.getGeneratedOffsets(t))if(r(a.data)){o=s;break}if(i===void 0||o===void 0){for(let s of n.mappings)if(r(s.data)){let a=s.sourceOffsets[0],c=s.sourceOffsets[s.sourceOffsets.length-1]+s.lengths[s.lengths.length-1],u=Vv(e,t,a,c);u&&(i===void 0?i=u.start+s.generatedOffsets[0]-a:i=Math.min(i,u.start+s.generatedOffsets[0]-a),o===void 0?o=u.end+s.generatedOffsets[0]-a:o=Math.max(o,u.end+s.generatedOffsets[0]-a))}}if(i!==void 0&&o!==void 0)return{start:i,end:o}}ft.findOverlapCodeRange=_O;function Vv(e,t,n,r){let i=Math.max(e,n),o=Math.min(t,r);if(!(i>o))return{start:i,end:o}}ft.getOverlapRange=Vv;function CO(e,t){return!(t.start.line<e.start.line||t.end.line>e.end.line||t.start.line===e.start.line&&t.start.character<e.start.character||t.end.line===e.end.line&&t.end.character>e.end.character)}ft.isInsideRange=CO;function DO(e,t){return e.start.line===t.start.line&&e.start.character===t.start.character&&e.end.line===t.end.line&&e.end.character===t.end.character}ft.isEqualRange=DO;function RO(e){return{getText:(t,n)=>e.substring(t,n),getLength:()=>e.length,getChangeRange:()=>{}}}ft.stringToSnapshot=RO;function PO(e){return new Promise(t=>setTimeout(t,e))}ft.sleep=PO;function wO(e){return e!=null}ft.notEmpty=wO});var pn=S(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.withRanges=Ge.withCallHierarchyOutgoingCalls=Ge.withCallHierarchyIncomingCalls=Ge.withLocationLinks=Ge.withLocations=Ge.withDiagnostics=Ge.withDocumentChanges=Ge.withTextEdits=Ge.withCodeAction=Ge.createLocationSet=void 0;function TO(){let e=new Set;return{add:t,has:n};function t(i){return n(i)?!1:(e.add(r(i)),!0)}function n(i){return e.has(r(i))}function r(i){return[i.uri,i.range.start.line,i.range.start.character,i.range.end.line,i.range.end.character].join(":")}}Ge.createLocationSet=TO;function EO(e){return qn(e,t=>[t.title].join(":"))}Ge.withCodeAction=EO;function qO(e){return qn(e,t=>[t.range.start.line,t.range.start.character,t.range.end.line,t.range.end.character,t.newText].join(":"))}Ge.withTextEdits=qO;function xO(e){return qn(e,t=>JSON.stringify(t))}Ge.withDocumentChanges=xO;function kO(e){return qn(e,t=>[t.range.start.line,t.range.start.character,t.range.end.line,t.range.end.character,t.source,t.code,t.severity,t.message].join(":"))}Ge.withDiagnostics=kO;function OO(e){return qn(e,t=>[t.uri,t.range.start.line,t.range.start.character,t.range.end.line,t.range.end.character].join(":"))}Ge.withLocations=OO;function MO(e){return qn(e,t=>[t.targetUri,t.targetSelectionRange.start.line,t.targetSelectionRange.start.character,t.targetSelectionRange.end.line,t.targetSelectionRange.end.character].join(":"))}Ge.withLocationLinks=MO;function FO(e){return qn(e,t=>[t.from.uri,t.from.range.start.line,t.from.range.start.character,t.from.range.end.line,t.from.range.end.character].join(":"))}Ge.withCallHierarchyIncomingCalls=FO;function AO(e){return qn(e,t=>[t.to.uri,t.to.range.start.line,t.to.range.start.character,t.to.range.end.line,t.to.range.end.character].join(":"))}Ge.withCallHierarchyOutgoingCalls=AO;function IO(e){return qn(e,t=>[t.start.line,t.start.character,t.end.line,t.end.character].join(":"))}Ge.withRanges=IO;function qn(e,t){let n=new Map;for(let r of e.reverse())n.set(t(r),r);return[...n.values()]}});var zv=S(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.register=void 0;var Bv=Ye(),Kl=pn(),jO=Fe(),NO=ye(),LO=fe();function $O(e){return{doPrepare(n,r,i=NO.NoneCancellationToken){return(0,jO.languageFeatureWorker)(e,n,()=>r,o=>o.getGeneratedPositions(r,s=>(0,LO.isCallHierarchyEnabled)(s)),async(o,s,a,c)=>{if(i.isCancellationRequested)return;let u=await o[1].provideCallHierarchyItems?.(s,a,i);return u?.forEach(d=>{d.data={uri:n,original:{data:d.data},serviceIndex:e.services.indexOf(o),virtualDocumentUri:c?.embeddedDocument.uri}}),u},(o,s)=>s?o.map(a=>t(a,[])?.[0]).filter(Bv.notEmpty):o,o=>Kl.withLocations(o.flat()))},async getIncomingCalls(n,r){let i=n.data,o=[];if(i){let s=e.services[i.serviceIndex];if(!s[1].provideCallHierarchyIncomingCalls)return o;if(Object.assign(n,i.original),i.virtualDocumentUri){let[a]=e.documents.getVirtualCodeByUri(i.virtualDocumentUri);if(a){let c=await s[1].provideCallHierarchyIncomingCalls(n,r);for(let u of c){let d=t(u.from,u.fromRanges);d&&o.push({from:d[0],fromRanges:d[1]})}}}else{let a=await s[1].provideCallHierarchyIncomingCalls(n,r);for(let c of a){let u=t(c.from,c.fromRanges);u&&o.push({from:u[0],fromRanges:u[1]})}}}return Kl.withCallHierarchyIncomingCalls(o)},async getOutgoingCalls(n,r){let i=n.data,o=[];if(i){let s=e.services[i.serviceIndex];if(!s[1].provideCallHierarchyOutgoingCalls)return o;if(Object.assign(n,i.original),i.virtualDocumentUri){let[a]=e.documents.getVirtualCodeByUri(i.virtualDocumentUri);if(a){let c=await s[1].provideCallHierarchyOutgoingCalls(n,r);for(let u of c){let d=t(u.to,u.fromRanges);d&&o.push({to:d[0],fromRanges:d[1]})}}}else{let a=await s[1].provideCallHierarchyOutgoingCalls(n,r);for(let c of a){let u=t(c.to,c.fromRanges);u&&o.push({to:u[0],fromRanges:u[1]})}}}return Kl.withCallHierarchyOutgoingCalls(o)}};function t(n,r){let[i]=e.documents.getVirtualCodeByUri(n.uri);if(!i)return[n,r];for(let o of e.documents.getMaps(i)){let s=o.getSourceRange(n.range);s||(s={start:o.sourceDocument.positionAt(0),end:o.sourceDocument.positionAt(o.sourceDocument.getText().length)});let a=o.getSourceRange(n.selectionRange);if(!a)continue;let c=r.map(d=>o.getSourceRange(d)).filter(Bv.notEmpty);return[{...n,name:n.name===o.embeddedDocument.uri.substring(o.embeddedDocument.uri.lastIndexOf("/")+1)?o.sourceDocument.uri.substring(o.sourceDocument.uri.lastIndexOf("/")+1):n.name,uri:o.sourceDocument.uri,range:{start:s.start,end:s.end},selectionRange:{start:a.start,end:a.end}},c]}}}ra.register=$O});var Nn=S((Ji,Jl)=>{(function(e,t){if(typeof Ji=="object"&&typeof Jl=="object")Jl.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var n=t();for(var r in n)(typeof Ji=="object"?Ji:e)[r]=n[r]}})(Ji,()=>(()=>{"use strict";var e={470:i=>{function o(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,u){for(var d,l="",p=0,f=-1,g=0,h=0;h<=c.length;++h){if(h<c.length)d=c.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(f===h-1||g===1))if(f!==h-1&&g===2){if(l.length<2||p!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var b=l.lastIndexOf("/");if(b!==l.length-1){b===-1?(l="",p=0):p=(l=l.slice(0,b)).length-1-l.lastIndexOf("/"),f=h,g=0;continue}}else if(l.length===2||l.length===1){l="",p=0,f=h,g=0;continue}}u&&(l.length>0?l+="/..":l="..",p=2)}else l.length>0?l+="/"+c.slice(f+1,h):l=c.slice(f+1,h),p=h-f-1;f=h,g=0}else d===46&&g!==-1?++g:g=-1}return l}var a={resolve:function(){for(var c,u="",d=!1,l=arguments.length-1;l>=-1&&!d;l--){var p;l>=0?p=arguments[l]:(c===void 0&&(c=process.cwd()),p=c),o(p),p.length!==0&&(u=p+"/"+u,d=p.charCodeAt(0)===47)}return u=s(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(o(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=s(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return o(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];o(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(o(c),o(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var l=c.length,p=l-d,f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var g=u.length-f,h=p<g?p:g,b=-1,m=0;m<=h;++m){if(m===h){if(g>h){if(u.charCodeAt(f+m)===47)return u.slice(f+m+1);if(m===0)return u.slice(f+m)}else p>h&&(c.charCodeAt(d+m)===47?b=m:m===0&&(b=0));break}var y=c.charCodeAt(d+m);if(y!==u.charCodeAt(f+m))break;y===47&&(b=m)}var v="";for(m=d+b+1;m<=l;++m)m!==l&&c.charCodeAt(m)!==47||(v.length===0?v+="..":v+="/..");return v.length>0?v+u.slice(f+b):(f+=b,u.charCodeAt(f)===47&&++f,u.slice(f))},_makeLong:function(c){return c},dirname:function(c){if(o(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,l=-1,p=!0,f=c.length-1;f>=1;--f)if((u=c.charCodeAt(f))===47){if(!p){l=f;break}}else p=!1;return l===-1?d?"/":".":d&&l===1?"//":c.slice(0,l)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');o(c);var d,l=0,p=-1,f=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var g=u.length-1,h=-1;for(d=c.length-1;d>=0;--d){var b=c.charCodeAt(d);if(b===47){if(!f){l=d+1;break}}else h===-1&&(f=!1,h=d+1),g>=0&&(b===u.charCodeAt(g)?--g==-1&&(p=d):(g=-1,p=h))}return l===p?p=h:p===-1&&(p=c.length),c.slice(l,p)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!f){l=d+1;break}}else p===-1&&(f=!1,p=d+1);return p===-1?"":c.slice(l,p)},extname:function(c){o(c);for(var u=-1,d=0,l=-1,p=!0,f=0,g=c.length-1;g>=0;--g){var h=c.charCodeAt(g);if(h!==47)l===-1&&(p=!1,l=g+1),h===46?u===-1?u=g:f!==1&&(f=1):u!==-1&&(f=-1);else if(!p){d=g+1;break}}return u===-1||l===-1||f===0||f===1&&u===l-1&&u===d+1?"":c.slice(u,l)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var l=d.dir||d.root,p=d.base||(d.name||"")+(d.ext||"");return l?l===d.root?l+p:l+"/"+p:p}(0,c)},parse:function(c){o(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,l=c.charCodeAt(0),p=l===47;p?(u.root="/",d=1):d=0;for(var f=-1,g=0,h=-1,b=!0,m=c.length-1,y=0;m>=d;--m)if((l=c.charCodeAt(m))!==47)h===-1&&(b=!1,h=m+1),l===46?f===-1?f=m:y!==1&&(y=1):f!==-1&&(y=-1);else if(!b){g=m+1;break}return f===-1||h===-1||y===0||y===1&&f===h-1&&f===g+1?h!==-1&&(u.base=u.name=g===0&&p?c.slice(1,h):c.slice(g,h)):(g===0&&p?(u.name=c.slice(1,f),u.base=c.slice(1,h)):(u.name=c.slice(g,f),u.base=c.slice(g,h)),u.ext=c.slice(f,h)),g>0?u.dir=c.slice(0,g-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a},674:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){let s=navigator.userAgent;o.isWindows=s.indexOf("Windows")>=0}},796:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;let a=s(674),c=/^\w[\w\d+.-]*$/,u=/^\//,d=/^\/\//;function l(T,q){if(!T.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${T.authority}", path: "${T.path}", query: "${T.query}", fragment: "${T.fragment}"}`);if(T.scheme&&!c.test(T.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(T.path){if(T.authority){if(!u.test(T.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(T.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let p="",f="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,N,F,x,A,j=!1){typeof q=="object"?(this.scheme=q.scheme||p,this.authority=q.authority||p,this.path=q.path||p,this.query=q.query||p,this.fragment=q.fragment||p):(this.scheme=function(B,U){return B||U?B:"file"}(q,j),this.authority=N||p,this.path=function(B,U){switch(B){case"https":case"http":case"file":U?U[0]!==f&&(U=f+U):U=f}return U}(this.scheme,F||p),this.query=x||p,this.fragment=A||p,l(this,j))}get fsPath(){return P(this,!1)}with(q){if(!q)return this;let{scheme:N,authority:F,path:x,query:A,fragment:j}=q;return N===void 0?N=this.scheme:N===null&&(N=p),F===void 0?F=this.authority:F===null&&(F=p),x===void 0?x=this.path:x===null&&(x=p),A===void 0?A=this.query:A===null&&(A=p),j===void 0?j=this.fragment:j===null&&(j=p),N===this.scheme&&F===this.authority&&x===this.path&&A===this.query&&j===this.fragment?this:new m(N,F,x,A,j)}static parse(q,N=!1){let F=g.exec(q);return F?new m(F[2]||p,k(F[4]||p),k(F[5]||p),k(F[7]||p),k(F[9]||p),N):new m(p,p,p,p,p)}static file(q){let N=p;if(a.isWindows&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let F=q.indexOf(f,2);F===-1?(N=q.substring(2),q=f):(N=q.substring(2,F),q=q.substring(F)||f)}return new m("file",N,q,p,p)}static from(q){let N=new m(q.scheme,q.authority,q.path,q.query,q.fragment);return l(N,!0),N}toString(q=!1){return _(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let N=new m(q);return N._formatted=q.external,N._fsPath=q._sep===b?q.fsPath:null,N}}return q}}o.URI=h;let b=a.isWindows?1:void 0;class m extends h{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath}toString(q=!1){return q?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=b),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(T,q,N){let F,x=-1;for(let A=0;A<T.length;A++){let j=T.charCodeAt(A);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||q&&j===47||N&&j===91||N&&j===93||N&&j===58)x!==-1&&(F+=encodeURIComponent(T.substring(x,A)),x=-1),F!==void 0&&(F+=T.charAt(A));else{F===void 0&&(F=T.substr(0,A));let B=y[j];B!==void 0?(x!==-1&&(F+=encodeURIComponent(T.substring(x,A)),x=-1),F+=B):x===-1&&(x=A)}}return x!==-1&&(F+=encodeURIComponent(T.substring(x))),F!==void 0?F:T}function R(T){let q;for(let N=0;N<T.length;N++){let F=T.charCodeAt(N);F===35||F===63?(q===void 0&&(q=T.substr(0,N)),q+=y[F]):q!==void 0&&(q+=T[N])}return q!==void 0?q:T}function P(T,q){let N;return N=T.authority&&T.path.length>1&&T.scheme==="file"?`//${T.authority}${T.path}`:T.path.charCodeAt(0)===47&&(T.path.charCodeAt(1)>=65&&T.path.charCodeAt(1)<=90||T.path.charCodeAt(1)>=97&&T.path.charCodeAt(1)<=122)&&T.path.charCodeAt(2)===58?q?T.path.substr(1):T.path[1].toLowerCase()+T.path.substr(2):T.path,a.isWindows&&(N=N.replace(/\//g,"\\")),N}function _(T,q){let N=q?R:v,F="",{scheme:x,authority:A,path:j,query:B,fragment:U}=T;if(x&&(F+=x,F+=":"),(A||x==="file")&&(F+=f,F+=f),A){let $=A.indexOf("@");if($!==-1){let W=A.substr(0,$);A=A.substr($+1),$=W.lastIndexOf(":"),$===-1?F+=N(W,!1,!1):(F+=N(W.substr(0,$),!1,!1),F+=":",F+=N(W.substr($+1),!1,!0)),F+="@"}A=A.toLowerCase(),$=A.lastIndexOf(":"),$===-1?F+=N(A,!1,!0):(F+=N(A.substr(0,$),!1,!0),F+=A.substr($))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let $=j.charCodeAt(1);$>=65&&$<=90&&(j=`/${String.fromCharCode($+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let $=j.charCodeAt(0);$>=65&&$<=90&&(j=`${String.fromCharCode($+32)}:${j.substr(2)}`)}F+=N(j,!0,!1)}return B&&(F+="?",F+=N(B,!1,!1)),U&&(F+="#",F+=q?U:v(U,!1,!1)),F}function D(T){try{return decodeURIComponent(T)}catch{return T.length>3?T.substr(0,3)+D(T.substr(3)):T}}o.uriToFsPath=P;let E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function k(T){return T.match(E)?T.replace(E,q=>D(q)):T}},679:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(g,h,b,m){m===void 0&&(m=b);var y=Object.getOwnPropertyDescriptor(h,b);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(g,m,y)}:function(g,h,b,m){m===void 0&&(m=b),g[m]=h[b]}),c=this&&this.__setModuleDefault||(Object.create?function(g,h){Object.defineProperty(g,"default",{enumerable:!0,value:h})}:function(g,h){g.default=h}),u=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var h={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&a(h,g,b);return c(h,g),h};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;let d=u(s(470)),l=d.posix||d,p="/";var f;(function(g){g.joinPath=function(h,...b){return h.with({path:l.join(h.path,...b)})},g.resolvePath=function(h,...b){let m=h.path,y=!1;m[0]!==p&&(m=p+m,y=!0);let v=l.resolve(m,...b);return y&&v[0]===p&&!h.authority&&(v=v.substring(1)),h.with({path:v})},g.dirname=function(h){if(h.path.length===0||h.path===p)return h;let b=l.dirname(h.path);return b.length===1&&b.charCodeAt(0)===46&&(b=""),h.with({path:b})},g.basename=function(h){return l.basename(h.path)},g.extname=function(h){return l.extname(h.path)}})(f||(o.Utils=f={}))}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;let o=n(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});let s=n(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return s.Utils}})})(),r})())});var st=S(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.pushEditToDocumentChanges=be.transformWorkspaceEdit=be.transformWorkspaceSymbol=be.transformTextEdit=be.transformSelectionRanges=be.transformSelectionRange=be.transformLocations=be.transformLocation=be.transformHover=be.transformFoldingRanges=be.transformDocumentSymbol=be.transformCompletionList=be.transformCompletionItem=be.transformMarkdown=be.transformDocumentLinkTarget=void 0;var Xi=fe(),WO=Nn(),ia=Ye();function Gv(e,t){let n=WO.URI.parse(e),r=n.with({fragment:""}).toString(!0),[i]=t.documents.getVirtualCodeByUri(r);if(i)for(let o of t.documents.getMaps(i)){if(!o.map.mappings.some(c=>(0,Xi.isDocumentLinkEnabled)(c.data)))continue;e=o.sourceDocument.uri;let a=n.fragment.match(/^L(\d+)(,(\d+))?(-L(\d+)(,(\d+))?)?$/);if(a){let c=Number(a[1])-1,u=Number(a[3]??1)-1;if(a[5]!==void 0){let d=Number(a[5])-1,l=Number(a[7]??1)-1,p=o.getSourceRange({start:{line:c,character:u},end:{line:d,character:l}});if(p){e+="#L"+(p.start.line+1)+","+(p.start.character+1),e+="-L"+(p.end.line+1)+","+(p.end.character+1);break}}else{let d=o.getSourcePosition({line:c,character:u});if(d){e+="#L"+(d.line+1)+","+(d.character+1);break}}}}return e}be.transformDocumentLinkTarget=Gv;function Ql(e,t){return e.replace(/(\[[^\]]+\])(\([^)]+\))/g,n=>{let r=n.match(/(\[[^\]]+\])(\([^)]+\))/);return`${r[1]}(${Gv(r[2].slice(1,-1),t)})`})}be.transformMarkdown=Ql;function Kv(e,t,n,r){return{...e,additionalTextEdits:e.additionalTextEdits?.map(i=>Yl(i,t,n)).filter(ia.notEmpty),textEdit:e.textEdit?Yl(e.textEdit,t,n):void 0,documentation:e.documentation?typeof e.documentation=="string"?Ql(e.documentation,r):e.documentation.kind==="markdown"?{kind:"markdown",value:Ql(e.documentation.value,r)}:e.documentation:void 0}}be.transformCompletionItem=Kv;function UO(e,t,n,r){return{isIncomplete:e.isIncomplete,itemDefaults:e.itemDefaults?{...e.itemDefaults,editRange:e.itemDefaults.editRange?"replace"in e.itemDefaults.editRange?{insert:t(e.itemDefaults.editRange.insert),replace:t(e.itemDefaults.editRange.replace)}:t(e.itemDefaults.editRange):void 0}:void 0,items:e.items.map(i=>Kv(i,t,n,r))}}be.transformCompletionList=UO;function Jv(e,t){let n=t(e.range);if(!n)return;let r=t(e.selectionRange);if(r)return{...e,range:n,selectionRange:r,children:e.children?.map(i=>Jv(i,t)).filter(ia.notEmpty)}}be.transformDocumentSymbol=Jv;function HO(e,t){let n=[];for(let r of e){let i=t({start:{line:r.startLine,character:r.startCharacter??0},end:{line:r.endLine,character:r.endCharacter??0}});i&&(r.startLine=i.start.line,r.endLine=i.end.line,r.startCharacter!==void 0&&(r.startCharacter=i.start.character),r.endCharacter!==void 0&&(r.endCharacter=i.end.character),n.push(r))}return n}be.transformFoldingRanges=HO;function VO(e,t){if(!e?.range)return e;let n=t(e.range);if(n)return{...e,range:n}}be.transformHover=VO;function Xv(e,t){let n=t(e.range);if(n)return{...e,range:n}}be.transformLocation=Xv;function BO(e,t){return e.map(n=>Xv(n,t)).filter(ia.notEmpty)}be.transformLocations=BO;function Zl(e,t){let n=t(e.range);if(!n)return;let r=e.parent?Zl(e.parent,t):void 0;return{range:n,parent:r}}be.transformSelectionRange=Zl;function zO(e,t){return e.map(n=>Zl(n,t)).filter(ia.notEmpty)}be.transformSelectionRanges=zO;function Yl(e,t,n){if("range"in e){let r=t(e.range);if(r)return{...e,range:r};let i=Xl(t,e.range,e.newText,n);if(i)return{...e,range:i.range,newText:i.newText}}else if("replace"in e&&"insert"in e){let r=t(e.insert),i=r?t(e.replace):void 0;if(r&&i)return{...e,insert:r,replace:i};let o=Xl(t,e.insert,e.newText,n),s=o?Xl(t,e.replace,e.newText,n):void 0;if(o&&s&&o.newText===s.newText)return{...e,insert:o.range,replace:s.range,newText:o.newText}}}be.transformTextEdit=Yl;function Xl(e,t,n,r){if(t.start.line===t.end.line&&t.end.character>t.start.character){let i=t.start.character;for(;n.length&&t.end.character>i;){let o={line:t.start.line,character:t.start.character+1};if(r.getText({start:t.start,end:o})===n[0]){n=n.slice(1),i++;let s=e({start:o,end:t.end});if(s)return{newText:n,range:s}}else break}}}function GO(e,t){if(!("range"in e.location))return e;let n=t(e.location);if(n)return{...e,location:n}}be.transformWorkspaceSymbol=GO;function KO(e,{documents:t},n,r={}){let i={},o=!1;for(let s in e.changeAnnotations){i.changeAnnotations??={};let a=e.changeAnnotations[s],[c]=t.getVirtualCodeByUri(s);if(c)for(let u of t.getMaps(c)){let d=u.sourceDocument.uri;i.changeAnnotations[d]=a}else i.changeAnnotations[s]=a}for(let s in e.changes){i.changes??={};let[a]=t.getVirtualCodeByUri(s);if(a)for(let c of t.getMaps(a)){let u=e.changes[s];for(let d of u)if(n==="rename"||n==="fileName"||n==="codeAction"){let l,p=c.getSourceRange(d.range,f=>(l=f,(0,Xi.isRenameEnabled)(f)));p&&(i.changes[c.sourceDocument.uri]??=[],i.changes[c.sourceDocument.uri].push({newText:(0,Xi.resolveRenameEditText)(d.newText,l),range:p}),o=!0)}else{let l=c.getSourceRange(d.range);l&&(i.changes[c.sourceDocument.uri]??=[],i.changes[c.sourceDocument.uri].push({newText:d.newText,range:l}),o=!0)}}else i.changes[s]=e.changes[s],o=!0}if(e.documentChanges)for(let s of e.documentChanges){i.documentChanges??=[];let a;if("textDocument"in s){let[c]=t.getVirtualCodeByUri(s.textDocument.uri);if(c)for(let u of t.getMaps(c)){a={textDocument:{uri:u.sourceDocument.uri,version:r[u.sourceDocument.uri]??null},edits:[]};for(let d of s.edits)if(n==="rename"||n==="fileName"||n==="codeAction"){let l,p=u.getSourceRange(d.range,f=>(l=f,(0,Xi.isRenameEnabled)(f)));p&&a.edits.push({annotationId:"annotationId"in d?d.annotationId:void 0,newText:(0,Xi.resolveRenameEditText)(d.newText,l),range:p})}else{let l=u.getSourceRange(d.range);l&&a.edits.push({annotationId:"annotationId"in d?d.annotationId:void 0,newText:d.newText,range:l})}a.edits.length||(a=void 0)}else a=s}else if(s.kind==="create")a=s;else if(s.kind==="rename"){let[c]=t.getVirtualCodeByUri(s.oldUri);if(c)for(let u of t.getMaps(c))a={kind:"rename",oldUri:u.sourceDocument.uri,newUri:s.newUri,options:s.options,annotationId:s.annotationId};else a=s}else if(s.kind==="delete"){let[c]=t.getVirtualCodeByUri(s.uri);if(c)for(let u of t.getMaps(c))a={kind:"delete",uri:u.sourceDocument.uri,options:s.options,annotationId:s.annotationId};else a=s}a&&(Qv(i.documentChanges,a),o=!0)}if(o)return i}be.transformWorkspaceEdit=KO;function Qv(e,t){let n=e.find(r=>"textDocument"in r&&"textDocument"in t&&r.textDocument.uri===t.textDocument.uri);n?n.edits.push(...t.edits):e.push(t)}be.pushEditToDocumentChanges=Qv});var eb=S(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.register=void 0;var JO=ye(),Yv=Ye(),XO=pn(),QO=Fe(),Zv=st(),YO=fe();function ZO(e){return async(t,n,r,i=JO.NoneCancellationToken)=>{let o=e.language.files.get(t);if(!o)return;let s=e.documents.get(t,o.languageId,o.snapshot),a={start:s.offsetAt(n.start),end:s.offsetAt(n.end)},c=new WeakSet;return await(0,QO.languageFeatureWorker)(e,t,()=>({range:n,codeActionContext:r}),function*(u){if(u.map.mappings.some(d=>(0,YO.isCodeActionsEnabled)(d.data))){let d={diagnostics:(0,Zv.transformLocations)(r.diagnostics,f=>u.getGeneratedRange(f)),only:r.only},l,p;for(let f of u.map.mappings){let g=(0,Yv.getOverlapRange)(a.start,a.end,f.sourceOffsets[0],f.sourceOffsets[f.sourceOffsets.length-1]+f.lengths[f.lengths.length-1]);if(g){let h=u.map.getGeneratedOffset(g.start)?.[0],b=u.map.getGeneratedOffset(g.end)?.[0];h!==void 0&&b!==void 0&&(l=l===void 0?h:Math.min(h,l),p=p===void 0?b:Math.max(b,p))}}l!==void 0&&p!==void 0&&(yield{range:{start:u.embeddedDocument.positionAt(l),end:u.embeddedDocument.positionAt(p)},codeActionContext:d})}},async(u,d,{range:l,codeActionContext:p})=>{if(i.isCancellationRequested)return;let f=e.services.indexOf(u),g=p.diagnostics.filter(b=>{let m=b.data;return m&&m.version!==d.version?!1:m?.serviceIndex===f}).map(b=>{let m=b.data;return{...b,...m.original}}),h=await u[1].provideCodeActions?.(d,l,{...p,diagnostics:g},i);if(h?.forEach(b=>{b.data={uri:t,version:d.version,original:{data:b.data,edit:b.edit},serviceIndex:e.services.indexOf(u)}}),h&&u[1].transformCodeAction)for(let b=0;b<h.length;b++){let m=u[1].transformCodeAction(h[b]);m&&(h[b]=m,c.add(m))}return h},u=>u.map(d=>{if(c.has(d))return d;if(d.edit){let l=(0,Zv.transformWorkspaceEdit)(d.edit,e,"codeAction");if(!l)return;d.edit=l}return d}).filter(Yv.notEmpty),u=>XO.withCodeAction(u.flat()))}}oa.register=ZO});var nb=S(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.register=void 0;var eM=ye(),tM=Ye(),nM=Fe(),tb=fe();function rM(e){return async(t,n=eM.NoneCancellationToken)=>await(0,nM.documentFeatureWorker)(e,t,r=>r.map.mappings.some(i=>(0,tb.isCodeLensEnabled)(i.data)),async(r,i)=>{if(n.isCancellationRequested)return;let o=await r[1].provideCodeLenses?.(i,n),s=e.services.indexOf(r);o?.forEach(u=>{u.data={kind:"normal",uri:t,original:{data:u.data},serviceIndex:s}});let c=(await r[1].provideReferencesCodeLensRanges?.(i,n))?.map(u=>({range:u,data:{kind:"references",sourceFileUri:t,workerFileUri:i.uri,workerFileRange:u,serviceIndex:s}}));return o=[...o??[],...c??[]],o},(r,i)=>i?r.map(o=>{let s=i.getSourceRange(o.range,tb.isCodeLensEnabled);if(s)return{...o,range:s}}).filter(tM.notEmpty):r,r=>r.flat())??[]}sa.register=rM});var rb=S(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.register=void 0;var iM=Fe(),oM=Ye(),sM=ye(),aM=fe();function cM(e){return(t,n,r,i=sM.NoneCancellationToken)=>(0,iM.languageFeatureWorker)(e,t,()=>r,function*(o){for(let s of o.getGeneratedRanges(r,aM.isColorEnabled))yield s},(o,s,a)=>{if(!i.isCancellationRequested)return o[1].provideColorPresentations?.(s,n,a,i)},(o,s)=>s?o.map(a=>{if(a.textEdit){let c=s.getSourceRange(a.textEdit.range);if(!c)return;a.textEdit.range=c}if(a.additionalTextEdits)for(let c of a.additionalTextEdits){let u=s.getSourceRange(c.range);if(!u)return;c.range=u}return a}).filter(oM.notEmpty):o)}aa.register=cM});var ob=S(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.register=void 0;var ed=fe(),uM=ye(),ib=st(),lM=Fe();function dM(e){let t;return async(n,r,i={triggerKind:1},o=uM.NoneCancellationToken)=>{let s=e.language.files.get(n);if(!s)return{isIncomplete:!1,items:[]};if(i?.triggerKind===3&&t?.uri===n)for(let u of t.results){if(!u.list?.isIncomplete)continue;let d=e.services.findIndex(l=>l[1]===u.service);if(u.virtualDocumentUri){let[l]=e.documents.getVirtualCodeByUri(u.virtualDocumentUri);if(!l)continue;for(let p of e.documents.getMaps(l))for(let f of p.getGeneratedPositions(r,g=>(0,ed.isCompletionEnabled)(g)))if(u.service.provideCompletionItems&&(u.list=await u.service.provideCompletionItems(p.embeddedDocument,f,i,o),!!u.list)){for(let g of u.list.items)g.data={uri:n,original:{additionalTextEdits:g.additionalTextEdits,textEdit:g.textEdit,data:g.data},serviceIndex:d,virtualDocumentUri:p.embeddedDocument.uri};u.list=(0,ib.transformCompletionList)(u.list,g=>p.getSourceRange(g),p.embeddedDocument,e)}}else{if(!u.service.provideCompletionItems)continue;let l=e.documents.get(n,s.languageId,s.snapshot);if(u.list=await u.service.provideCompletionItems(l,r,i,o),!u.list)continue;for(let p of u.list.items)p.data={uri:n,original:{additionalTextEdits:p.additionalTextEdits,textEdit:p.textEdit,data:p.data},serviceIndex:d,virtualDocumentUri:void 0}}}else{t={uri:n,results:[]};let u=!0,d,l=[...e.services].filter(f=>!e.disabledServicePlugins.has(f[1])).sort((f,g)=>a(f[1],g[1])),p=async(f,g,h,b)=>{for(let m of l){if(o.isCancellationRequested)break;if(!m[1].provideCompletionItems||m[1].isAdditionalCompletion&&!u||i?.triggerCharacter&&!m[0].triggerCharacters?.includes(i.triggerCharacter))continue;let y=b&&typeof b.completion=="object"&&b.completion.isAdditional||m[1].isAdditionalCompletion;if(d&&(!y||d!==f.uri)||m[1].isAdditionalCompletion&&t?.results.some(P=>P.service===m[1]))continue;let v=await m[1].provideCompletionItems(f,g,i,o);if(!v||!v.items.length)continue;typeof b?.completion=="object"&&b.completion.onlyImport&&(v.items=v.items.filter(P=>!!P.labelDetails)),y||(d=f.uri);let R=e.services.indexOf(m);for(let P of v.items)P.data={uri:n,original:{additionalTextEdits:P.additionalTextEdits,textEdit:P.textEdit,data:P.data},serviceIndex:R,virtualDocumentUri:h?f.uri:void 0};h&&(v=(0,ib.transformCompletionList)(v,P=>h.getSourceRange(P,ed.isCompletionEnabled),f,e)),t?.results.push({virtualDocumentUri:h?f.uri:void 0,service:m[1],list:v})}u=!1};if(s.generated)for(let f of(0,lM.eachEmbeddedDocument)(e,s.generated.code)){let g;for(let h of f.getGeneratedPositions(r,b=>(g=b,(0,ed.isCompletionEnabled)(b))))await p(f.embeddedDocument,h,f,g)}else{let f=e.documents.get(n,s.languageId,s.snapshot);await p(f,r)}}return c(t.results.map(u=>u.list));function a(u,d){return(d.isAdditionalCompletion?-1:1)-(u.isAdditionalCompletion?-1:1)}function c(u){return{isIncomplete:u.some(d=>d?.isIncomplete),itemDefaults:u.find(d=>d?.itemDefaults)?.itemDefaults,items:u.map(d=>d?.items??[]).flat()}}}}ca.register=dM});var ab=S(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.register=void 0;var fM=ye(),gM=Ye(),sb=pn(),pM=Fe();function hM(e,t,n){return(r,i,o=fM.NoneCancellationToken)=>(0,pM.languageFeatureWorker)(e,r,()=>i,s=>s.getGeneratedPositions(i,n),async(s,a,c)=>{if(o.isCancellationRequested)return;let u=sb.createLocationSet(),d=[];return await l(a,c,void 0),d;async function l(p,f,g){let h=s[1][t];if(!h||u.has({uri:p.uri,range:{start:f,end:f}}))return;u.add({uri:p.uri,range:{start:f,end:f}});let b=await h?.(p,f,o)??[];for(let m of b){let y=!1;u.add({uri:m.targetUri,range:{start:m.targetRange.start,end:m.targetRange.start}});let[v]=e.documents.getVirtualCodeByUri(m.targetUri),R=v?e.documents.getLinkedCodeMap(v):void 0;if(R)for(let P of R.getLinkedCodePositions(m.targetSelectionRange.start))u.has({uri:R.document.uri,range:{start:P,end:P}})||(y=!0,await l(R.document,P,g??m));y||(g?d.push({...m,originSelectionRange:g.originSelectionRange}):d.push(m))}}},(s,a)=>s.map(c=>{if(c.originSelectionRange&&a){let l=mM(a,c.originSelectionRange,i);if(!l)return;c.originSelectionRange=l}let u=!1,[d]=e.documents.getVirtualCodeByUri(c.targetUri);if(d){for(let l of e.documents.getMaps(d)){let p=l.getSourceRange(c.targetSelectionRange);if(!p)continue;u=!0;let f=l.getSourceRange(c.targetRange);c.targetUri=l.sourceDocument.uri,c.targetRange=f??p,c.targetSelectionRange=p}if(t==="provideDefinition"&&!u){for(let l of e.documents.getMaps(d))if(l&&l.sourceDocument.uri!==r)return{...c,targetUri:l.sourceDocument.uri,targetRange:{start:{line:0,character:0},end:{line:0,character:0}},targetSelectionRange:{start:{line:0,character:0},end:{line:0,character:0}}};return}}return c}).filter(gM.notEmpty),s=>sb.withLocationLinks(s.flat()))}ua.register=hM;function mM(e,t,n){let r;for(let i of e.getSourceRanges(t))if(r||(r=i),(i.start.line<n.line||i.start.line===n.line&&i.start.character<=n.character)&&(i.end.line>n.line||i.end.line===n.line&&i.end.character>=n.character))return i;return r}});var td=S(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.register=Ln.errorMarkups=Ln.updateRange=void 0;var cb=fe(),yM=ye(),vM=Ye(),bM=pn(),SM=Fe();function lb(e,t){if(ub(e.start,t,!1)&&ub(e.end,t,!0))return e.end.line===e.start.line&&e.end.character<=e.start.character&&e.end.character++,e}Ln.updateRange=lb;function ub(e,t,n){if(t.range.end.line>e.line){if(t.newEnd.line>e.line)return!0;if(t.newEnd.line===e.line)return e.character=Math.min(e.character,t.newEnd.character),!0;if(t.newEnd.line<e.line)return e.line=t.newEnd.line,e.character=t.newEnd.character,!0}else if(t.range.end.line===e.line){let r=t.newEnd.character-t.range.end.character;if(e.character>=t.range.end.character){if(t.newEnd.line!==t.range.end.line)e.line=t.newEnd.line,e.character=t.newEnd.character+e.character-t.range.end.character;else if(n?t.range.end.character<e.character:t.range.end.character<=e.character)e.character+=r;else{let i=t.range.end.character-e.character;-r>i&&(e.character+=r+i)}return!0}else{if(t.newEnd.line===t.range.end.line){let i=t.range.end.character-e.character;-r>i&&(e.character+=r+i)}else t.newEnd.line<t.range.end.line&&(e.line=t.newEnd.line,e.character=t.newEnd.character);return!0}}else if(t.range.end.line<e.line)return e.line+=t.newEnd.line-t.range.end.line,!0;return!1}Ln.errorMarkups={};function _M(e){let t=new Map,n={semantic:new Map,syntactic:new Map};return e.env.onDidChangeConfiguration?.(()=>{t.clear(),n.semantic.clear(),n.syntactic.clear()}),async(i,o=yM.NoneCancellationToken,s)=>{let a=e.language.files.get(i);if(!a)return[];let c=e.documents.get(i,a.languageId,a.snapshot),u=t.get(i)??t.set(i,{semantic:{errors:[]},syntactic:{errors:[]}}).get(i),d=!1,l=!1,p=0;for(let b of Object.values(u)){let m=b.snapshot,y=b.document,v=m?a.snapshot.getChangeRange(m):void 0;if(b.snapshot=a.snapshot,b.document=c,!d&&y&&v){let R={range:{start:y.positionAt(v.span.start),end:y.positionAt(v.span.start+v.span.length)},newEnd:c.positionAt(v.span.start+v.newLength)};for(let P of b.errors)if(!lb(P.range,R)){d=!0;break}}}return await h("provideDiagnostics",n.syntactic,u.syntactic),await f(),await h("provideSemanticDiagnostics",n.semantic,u.semantic),await g();async function f(){l&&!d&&(s?.(await g()),l=!1)}async function g(){return Object.values(u).flatMap(({errors:b})=>b)}async function h(b,m,y){let v=await(0,SM.documentFeatureWorker)(e,i,R=>R.map.mappings.some(P=>(0,cb.isDiagnosticsEnabled)(P.data)),async(R,P)=>{if(o&&(Date.now()-p>=5&&(await(0,vM.sleep)(5),p=Date.now()),o.isCancellationRequested))return;let _=e.services.indexOf(R),D=m.get(_)??m.set(_,new Map).get(_),E=D.get(P.uri);if(b!=="provideSemanticDiagnostics"&&E&&E.documentVersion===P.version)return E.errors;let k=await R[1][b]?.(P,o)||[];return k.forEach(T=>{T.data={uri:i,version:P.version,serviceIndex:_,isFormat:!1,original:{data:T.data},documentUri:P.uri}}),l=!0,D.set(P.uri,{documentVersion:P.version,errors:k}),k},(R,P)=>r(R,P,cb.shouldReportDiagnostics),R=>bM.withDiagnostics(R.flat()));v&&(y.errors=v,y.snapshot=a?.snapshot)}};function r(i,o,s){let a=[];for(let c of i){let u={...c};if(o){let d=o.getSourceRange(c.range,s);if(!d)continue;u.range=d}if(u.relatedInformation){let d=[];for(let l of u.relatedInformation){let[p]=e.documents.getVirtualCodeByUri(l.location.uri);if(p)for(let f of e.documents.getMaps(p)){let g=f.getSourceRange(l.location.range,s);g&&d.push({location:{uri:f.sourceDocument.uri,range:g},message:l.message})}else d.push(l)}u.relatedInformation=d}a.push(u)}return a}}Ln.register=_M});var fb=S(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.register=void 0;var db=fe(),CM=ye(),DM=Ye(),RM=Fe();function PM(e){return(t,n=CM.NoneCancellationToken)=>(0,RM.documentFeatureWorker)(e,t,r=>r.map.mappings.some(i=>(0,db.isColorEnabled)(i.data)),(r,i)=>{if(!n.isCancellationRequested)return r[1].provideDocumentColors?.(i,n)},(r,i)=>i?r.map(o=>{let s=i.getSourceRange(o.range,db.isColorEnabled);if(s)return{range:s,color:o.color}}).filter(DM.notEmpty):r,r=>r.flat())}la.register=PM});var gb=S(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.register=void 0;var wM=Fe(),TM=ye(),EM=st();function qM(e){return(t,n,r,i=TM.NoneCancellationToken)=>(0,wM.languageFeatureWorker)(e,t,()=>n,function*(o){for(let s of o.getGeneratedPositions(n))yield s},(o,s,a)=>{if(!i.isCancellationRequested)return o[1].provideDocumentDropEdits?.(s,a,r,i)},o=>(o.additionalEdit&&(o.additionalEdit=(0,EM.transformWorkspaceEdit)(o.additionalEdit,e,void 0)),o))}da.register=qM});var hb=S(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.register=void 0;var Qi=fe(),fa=(Ys(),tr(Qs)),xM=ea(),kM=ye(),pb=Ye(),OM=Fe();function MM(e){let t=0;return async(r,i,o,s,a=kM.NoneCancellationToken)=>{let c=e.language.files.get(r);if(!c)return;let u=e.documents.get(r,c.languageId,c.snapshot);if(o??={start:u.positionAt(0),end:u.positionAt(u.getText().length)},!c.generated)return s?(await f(u,u,void 0,0,s.position,s.ch))?.edits:(await f(u,u,void 0,0,o,void 0))?.edits;let d=new Map,l=u.offsetAt(o.start),p=u.offsetAt(o.end);for(let g of(0,Qi.forEachEmbeddedCode)(c.generated.code))for(let[h,[b,m]]of e.language.files.getMaps(g))if(h===r){let y=(0,pb.findOverlapCodeRange)(l,p,m,Qi.isFormattingEnabled);if(y){y.start===m.mappings[0].generatedOffsets[0]&&(y.start=0);let v=m.mappings[m.mappings.length-1];y.end===v.generatedOffsets[v.generatedOffsets.length-1]+v.lengths[v.lengths.length-1]&&(y.end=g.snapshot.getLength()),d.set(g.id,y)}break}try{let g=u,h=c.snapshot,b=e.language.files.set(c.id+".tmp",c.languageId,c.snapshot,[c.generated.languagePlugin]).generated?.code;if(!b)return;let m=0;for(;;){let R=(0,OM.getEmbeddedFilesByLevel)(e,c.id,b,m++);if(R.length===0)break;let P=[];for(let _ of R){if(!_.mappings.some(T=>(0,Qi.isFormattingEnabled)(T.data)))continue;let D=n(_,r,c.languageId,h);if(!D)continue;let E,k=d.get(_.id);if(s){let T=D.getGeneratedPosition(s.position);T&&(E=await f(D.sourceDocument,D.embeddedDocument,_,m,T,s.ch))}else k&&(E=await f(D.sourceDocument,D.embeddedDocument,_,m,{start:D.embeddedDocument.positionAt(k.start),end:D.embeddedDocument.positionAt(k.end)}));if(E)for(let T of E.edits){let q=D.getSourceRange(T.range);q&&P.push({newText:T.newText,range:q})}}if(P.length>0){let _=fa.TextDocument.applyEdits(u,P);if(u=fa.TextDocument.create(u.uri,u.languageId,u.version+1,_),h=(0,pb.stringToSnapshot)(_),b=e.language.files.set(c.id+".tmp",c.languageId,h,[c.generated.languagePlugin]).generated?.code,!b)break}}return u.getText()===g.getText()?void 0:[{range:{start:g.positionAt(0),end:g.positionAt(g.getText().length)},newText:u.getText()}]}finally{e.language.files.delete(c.id+".tmp")}async function f(g,h,b,m,y,v){if(e.disabledVirtualFileUris.has(h.uri))return;let R;if(y??={start:h.positionAt(0),end:h.positionAt(h.getText().length)},b){if(R={level:m-1,initialIndentLevel:0},b.mappings.length){let _=b.mappings[0].sourceOffsets[0],D=g.positionAt(_);R.initialIndentLevel=FM(g.getText(),g.offsetAt({line:D.line,character:0}),i)}for(let P of e.services)e.disabledServicePlugins.has(P[1])||(R=await P[1].resolveEmbeddedCodeFormattingOptions?.(b,R,a)??R)}for(let P of e.services){if(e.disabledServicePlugins.has(P[1]))continue;if(a.isCancellationRequested)break;let _;try{v!==void 0&&y&&"line"in y&&"character"in y?P[0].autoFormatTriggerCharacters?.includes(v)&&(_=await P[1].provideOnTypeFormattingEdits?.(h,y,v,i,R,a)):v===void 0&&y&&"start"in y&&"end"in y&&(_=await P[1].provideDocumentFormattingEdits?.(h,y,i,R,a))}catch(D){console.warn(D)}if(_)return{service:P,edits:_}}}};function n(r,i,o,s){let a=(0,Qi.updateVirtualCodeMaps)(r,c=>{if(!c)return[i,s]});if(a.has(i)&&a.get(i)[0]===s){let c=a.get(i),u=t++;return new xM.SourceMapWithDocuments(fa.TextDocument.create(i,o??(0,Qi.resolveCommonLanguageId)(i),u,s.getText(0,s.getLength())),fa.TextDocument.create(e.documents.getVirtualCodeUri(i,r.id),r.languageId,u,r.snapshot.getText(0,r.snapshot.getLength())),c[1])}}}ga.register=MM;function FM(e,t,n){let r=0,i=n.tabSize||4;for(;t<e.length;){let o=e.charAt(t);if(o===" ")r++;else if(o==="	")r+=i;else break;t++}return Math.floor(r/i)}});var yb=S(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.register=void 0;var AM=Fe(),IM=pn(),jM=Ye(),NM=ye(),mb=fe();function LM(e){return(t,n,r=NM.NoneCancellationToken)=>(0,AM.languageFeatureWorker)(e,t,()=>n,i=>i.getGeneratedPositions(n,mb.isHighlightEnabled),async(i,o,s)=>{if(r.isCancellationRequested)return;let a=IM.createLocationSet(),c=[];return await u(o,s),c;async function u(d,l){if(!i[1].provideDocumentHighlights||a.has({uri:d.uri,range:{start:l,end:l}}))return;a.add({uri:d.uri,range:{start:l,end:l}});let p=await i[1].provideDocumentHighlights(d,l,r)??[];for(let f of p){let g=!1;a.add({uri:d.uri,range:{start:f.range.start,end:f.range.start}});let[h]=e.documents.getVirtualCodeByUri(d.uri),b=h?e.documents.getLinkedCodeMap(h):void 0;if(b)for(let m of b.getLinkedCodePositions(f.range.start))a.has({uri:b.document.uri,range:{start:m,end:m}})||(g=!0,await u(b.document,m));g||c.push(f)}}},(i,o)=>i.map(s=>{if(!o)return s;let a=o.getSourceRange(s.range,mb.isHighlightEnabled);if(a)return{...s,range:a}}).filter(jM.notEmpty),i=>i.flat())}pa.register=LM});var bb=S(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.register=void 0;var $M=ye(),WM=Ye(),UM=Fe(),HM=st(),vb=fe();function VM(e){return async(t,n=$M.NoneCancellationToken)=>await(0,UM.documentFeatureWorker)(e,t,r=>r.map.mappings.some(i=>(0,vb.isDocumentLinkEnabled)(i.data)),async(r,i)=>{if(n.isCancellationRequested)return;let o=await r[1].provideDocumentLinks?.(i,n);for(let s of o??[])s.data={uri:t,original:{data:s.data},serviceIndex:e.services.indexOf(r)};return o},(r,i)=>i?r.map(o=>{let s=i.getSourceRange(o.range,vb.isDocumentLinkEnabled);if(s)return o={...o,range:s},o.target&&(o.target=(0,HM.transformDocumentLinkTarget)(o.target,e)),o}).filter(WM.notEmpty):r,r=>r.flat())??[]}ha.register=VM});var Sb=S(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.SemanticTokensBuilder=void 0;var nd=class{constructor(){this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let s=t,a=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}build(){return{resultId:this.id,data:this._data}}};ma.SemanticTokensBuilder=nd});var Db=S(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.register=void 0;var BM=Sb(),zM=ye(),_b=Ye(),GM=Fe(),Cb=fe();function KM(e){return async(t,n,r,i=zM.NoneCancellationToken,o)=>{let s=e.language.files.get(t);if(!s)return;let a=e.documents.get(t,s.languageId,s.snapshot);n||(n={start:{line:0,character:0},end:{line:a.lineCount-1,character:a.getText().length}});let c=await(0,GM.languageFeatureWorker)(e,t,()=>n,function*(u){let d=(0,_b.findOverlapCodeRange)(u.sourceDocument.offsetAt(n.start),u.sourceDocument.offsetAt(n.end),u.map,Cb.isSemanticTokensEnabled);d&&(yield{start:u.embeddedDocument.positionAt(d.start),end:u.embeddedDocument.positionAt(d.end)})},(u,d,l)=>{if(!i?.isCancellationRequested)return u[1].provideDocumentSemanticTokens?.(d,l,r,i)},(u,d)=>d?u.map(l=>{let p=d.getSourceRange({start:{line:l[0],character:l[1]},end:{line:l[0],character:l[1]+l[2]}},Cb.isSemanticTokensEnabled);if(p)return[p.start.line,p.start.character,p.end.character-p.start.character,l[3],l[4]]}).filter(_b.notEmpty):u,u=>u.flat());if(c)return JM(c)}}ya.register=KM;function JM(e){let t=new BM.SemanticTokensBuilder,n=e.sort((r,i)=>r[0]-i[0]===0?r[1]-i[1]:r[0]-i[0]);for(let r of n)t.push(...r);return t.build()}});var wb=S(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.register=void 0;var XM=Fe(),Rb=Ye(),QM=ye(),YM=st(),Pb=fe();function ZM(e){return(t,n=QM.NoneCancellationToken)=>(0,XM.documentFeatureWorker)(e,t,r=>r.map.mappings.some(i=>(0,Pb.isSymbolsEnabled)(i.data)),async(r,i)=>{if(!n.isCancellationRequested)return r[1].provideDocumentSymbols?.(i,n)},(r,i)=>i?r.map(o=>(0,YM.transformDocumentSymbol)(o,s=>i.getSourceRange(s,Pb.isSymbolsEnabled))).filter(Rb.notEmpty):r,r=>{for(let i=0;i<r.length;i++)for(let o=0;o<r.length;o++)i!==o&&(r[i]=r[i].filter(s=>{for(let a of r[o])if((0,Rb.isInsideRange)(a.range,s.range))return a.children??=[],a.children.push(s),!1;return!0}));return r.flat()})}va.register=ZM});var Tb=S(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.register=void 0;var eF=Fe(),tF=pn(),nF=Ye(),rF=ye(),iF=fe();function oF(e){return(t,n=rF.NoneCancellationToken)=>(0,eF.documentFeatureWorker)(e,t,()=>!0,async(r,i)=>{if(!n.isCancellationRequested)return await r[1].provideFileReferences?.(i,n)??[]},r=>r.map(i=>{let[o]=e.documents.getVirtualCodeByUri(i.uri);if(!o)return i;for(let s of e.documents.getMaps(o)){let a=s.getSourceRange(i.range,iF.isReferencesEnabled);if(a)return i.uri=s.sourceDocument.uri,i.range=a,i}}).filter(nF.notEmpty),r=>tF.withLocations(r.flat()))}ba.register=oF});var Eb=S(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.register=void 0;var sF=st(),aF=pn(),cF=ye();function uF(e){return async(t,n,r=cF.NoneCancellationToken)=>{for(let i of e.services){if(e.disabledServicePlugins.has(i[1]))continue;if(r.isCancellationRequested)break;if(!i[1].provideFileRenameEdits)continue;let o=await i[1].provideFileRenameEdits(t,n,r);if(o){let s=(0,sF.transformWorkspaceEdit)(o,e,"fileName");return s?.documentChanges&&(s.documentChanges=aF.withDocumentChanges(s.documentChanges)),s}}}}Sa.register=uF});var xb=S(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.register=void 0;var lF=Fe(),dF=ye(),fF=st(),qb=fe();function gF(e){return(t,n=dF.NoneCancellationToken)=>(0,lF.documentFeatureWorker)(e,t,r=>r.map.mappings.some(i=>(0,qb.isFoldingRangesEnabled)(i.data)),(r,i)=>{if(!n.isCancellationRequested)return r[1].provideFoldingRanges?.(i,n)},(r,i)=>i?(0,fF.transformFoldingRanges)(r,o=>i.getSourceRange(o,qb.isFoldingRangesEnabled)):r,r=>r.flat())}_a.register=gF});var Mb=S(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.register=void 0;var pF=Fe(),kb=Ye(),hF=td(),mF=ye(),Yi=st(),Ob=fe();function yF(e){return async(n,r,i=mF.NoneCancellationToken)=>{let o=await(0,pF.languageFeatureWorker)(e,n,()=>r,a=>a.getGeneratedPositions(r,Ob.isHoverEnabled),(a,c,u)=>{if(!i.isCancellationRequested)return a[1].provideHover?.(c,u,i)},(a,c)=>(!c||!a.range||(a.range=c.getSourceRange(a.range,Ob.isHoverEnabled)),a),a=>({contents:{kind:"markdown",value:a.map(t).flat().join(`

---

`)},range:a.find(c=>c.range&&(0,kb.isInsideRange)(c.range,{start:r,end:r}))?.range??a[0].range})),s=hF.errorMarkups[n];if(s)for(let a of s)(0,kb.isInsideRange)(a.error.range,{start:r,end:r})&&(o??={contents:{kind:"markdown",value:""}},o.range=a.error.range,(typeof o.contents!="object"||typeof o.contents!="string")&&(o.contents={kind:"markdown",value:o.contents}),o.contents.value&&(o.contents.value+=`

---

`),o.contents.value+=a.markup.value);return o};function t(n){return typeof n.contents=="string"?[(0,Yi.transformMarkdown)(n.contents,e)]:Array.isArray(n.contents)?n.contents.map(r=>typeof r=="string"?(0,Yi.transformMarkdown)(r,e):r.language==="md"?`\`\`\`${r.language}
${(0,Yi.transformMarkdown)(r.value,e)}
\`\`\``:`\`\`\`${r.language}
${r.value}
\`\`\``):"kind"in n.contents?n.contents.kind==="markdown"?[(0,Yi.transformMarkdown)(n.contents.value,e)]:[n.contents.value]:n.contents.language==="md"?[`\`\`\`${n.contents.language}
${(0,Yi.transformMarkdown)(n.contents.value,e)}
\`\`\``]:[`\`\`\`${n.contents.language}
${n.contents.value}
\`\`\``]}}Ca.register=yF});var Ab=S(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.register=void 0;var rd=Ye(),vF=Fe(),bF=ye(),SF=st(),Fb=fe();function _F(e){return async(t,n,r=bF.NoneCancellationToken)=>{let i=e.language.files.get(t);if(!i)return;let o=e.documents.get(t,i.languageId,i.snapshot),s={start:o.offsetAt(n.start),end:o.offsetAt(n.end)};return(0,vF.languageFeatureWorker)(e,t,()=>n,function*(a){if(!a.map.mappings.some(d=>(0,Fb.isInlayHintsEnabled)(d.data)))return;let c,u;for(let d of a.map.mappings){let l=(0,rd.getOverlapRange)(s.start,s.end,d.sourceOffsets[0],d.sourceOffsets[d.sourceOffsets.length-1]+d.lengths[d.lengths.length-1]);if(l){let p=a.map.getGeneratedOffset(l.start)?.[0],f=a.map.getGeneratedOffset(l.end)?.[0];p!==void 0&&f!==void 0&&(c=c===void 0?p:Math.min(p,c),u=u===void 0?f:Math.max(f,u))}}c!==void 0&&u!==void 0&&(yield{start:a.embeddedDocument.positionAt(c),end:a.embeddedDocument.positionAt(u)})},async(a,c,u)=>{if(r.isCancellationRequested)return;let d=await a[1].provideInlayHints?.(c,u,r);return d?.forEach(l=>{l.data={uri:t,original:{data:l.data},serviceIndex:e.services.indexOf(a)}}),d},(a,c)=>c?a.map(u=>{let d=c.getSourcePosition(u.position,Fb.isInlayHintsEnabled),l=u.textEdits?.map(p=>(0,SF.transformTextEdit)(p,f=>c.getSourceRange(f),c.embeddedDocument)).filter(rd.notEmpty);if(d)return{...u,position:d,textEdits:l}}).filter(rd.notEmpty):a,a=>a.flat())}}Da.register=_F});var jb=S(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.register=void 0;var CF=Fe(),DF=Ye(),RF=ye(),Ib=fe();function PF(e){return(t,n,r=RF.NoneCancellationToken)=>(0,CF.languageFeatureWorker)(e,t,()=>n,function*(i){for(let o of i.getGeneratedPositions(n,Ib.isLinkedEditingEnabled))yield o},(i,o,s)=>{if(!r.isCancellationRequested)return i[1].provideLinkedEditingRanges?.(o,s,r)},(i,o)=>o?{wordPattern:i.wordPattern,ranges:i.ranges.map(s=>o.getSourceRange(s,Ib.isLinkedEditingEnabled)).filter(DF.notEmpty)}:i)}Ra.register=PF});var id=S(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.register=void 0;var wF=Fe(),Nb=pn(),TF=ye(),Lb=fe();function EF(e){return(t,n,r,i=TF.NoneCancellationToken)=>(0,wF.languageFeatureWorker)(e,t,()=>n,o=>o.getGeneratedPositions(n,Lb.isReferencesEnabled),async(o,s,a)=>{if(i.isCancellationRequested)return;let c=Nb.createLocationSet(),u=[];return await d(s,a),u;async function d(l,p){if(!o[1].provideReferences||c.has({uri:l.uri,range:{start:p,end:p}}))return;c.add({uri:l.uri,range:{start:p,end:p}});let f=await o[1].provideReferences(l,p,r,i)??[];for(let g of f){let h=!1;c.add({uri:g.uri,range:{start:g.range.start,end:g.range.start}});let[b]=e.documents.getVirtualCodeByUri(g.uri),m=b?e.documents.getLinkedCodeMap(b):void 0;if(m)for(let y of m.getLinkedCodePositions(g.range.start))c.has({uri:m.document.uri,range:{start:y,end:y}})||(h=!0,await d(m.document,y));h||u.push(g)}}},o=>{let s=[];for(let a of o){let[c]=e.documents.getVirtualCodeByUri(a.uri);if(c)for(let u of e.documents.getMaps(c)){let d=u.getSourceRange(a.range,Lb.isReferencesEnabled);d&&s.push({uri:u.sourceDocument.uri,range:d})}else s.push(a)}return s},o=>Nb.withLocations(o.flat()))}Pa.register=EF});var od=S(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.mergeWorkspaceEdits=Gr.register=void 0;var $b=fe(),qF=ye(),Wb=pn(),xF=Fe(),Ub=st();function kF(e){return(t,n,r,i=qF.NoneCancellationToken)=>(0,xF.languageFeatureWorker)(e,t,()=>({position:n,newName:r}),function*(o){let s;for(let a of o.getGeneratedPositions(n,c=>(s=c,(0,$b.isRenameEnabled)(c))))yield{position:a,newName:(0,$b.resolveRenameNewName)(r,s)}},async(o,s,a)=>{if(i.isCancellationRequested)return;let c=Wb.createLocationSet(),u;return await d(s,a.position,a.newName),u;async function d(l,p,f){if(!o[1].provideRenameEdits||c.has({uri:l.uri,range:{start:p,end:p}}))return;c.add({uri:l.uri,range:{start:p,end:p}});let g=await o[1].provideRenameEdits(l,p,f,i);if(g){if(u||(u={}),g.changes)for(let h in g.changes){let b=g.changes[h];for(let m of b){let y=!1;c.add({uri:h,range:{start:m.range.start,end:m.range.start}});let[v]=e.documents.getVirtualCodeByUri(h),R=v?e.documents.getLinkedCodeMap(v):void 0;if(R)for(let P of R.getLinkedCodePositions(m.range.start))c.has({uri:R.document.uri,range:{start:P,end:P}})||(y=!0,await d(R.document,P,f));y||(u.changes||(u.changes={}),u.changes[h]||(u.changes[h]=[]),u.changes[h].push(m))}}if(g.changeAnnotations)for(let h in g.changeAnnotations)u.changeAnnotations||(u.changeAnnotations={}),u.changeAnnotations[h]=g.changeAnnotations[h];g.documentChanges&&(u.documentChanges||(u.documentChanges=[]),u.documentChanges=u.documentChanges.concat(g.documentChanges))}}},o=>(0,Ub.transformWorkspaceEdit)(o,e,"rename"),o=>{let s=o[0],a=o.slice(1);if(Hb(s,...a),s.changes)for(let c in s.changes)s.changes[c]=Wb.withTextEdits(s.changes[c]);return o[0]})}Gr.register=kF;function Hb(e,...t){for(let n of t){for(let r in n.changeAnnotations)e.changeAnnotations||(e.changeAnnotations={}),e.changeAnnotations[r]=n.changeAnnotations[r];for(let r in n.changes){e.changes||(e.changes={}),e.changes[r]||(e.changes[r]=[]);let i=n.changes[r];e.changes[r]=e.changes[r].concat(i)}if(n.documentChanges){e.documentChanges||(e.documentChanges=[]);for(let r of n.documentChanges)(0,Ub.pushEditToDocumentChanges)(e.documentChanges,r)}}}Gr.mergeWorkspaceEdits=Hb});var Vb=S(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.register=void 0;var OF=Fe(),MF=ye(),FF=fe();function AF(e){return(t,n,r=MF.NoneCancellationToken)=>(0,OF.languageFeatureWorker)(e,t,()=>n,i=>i.getGeneratedPositions(n,FF.isRenameEnabled),(i,o,s)=>{if(!r.isCancellationRequested)return i[1].provideRenameRange?.(o,s,r)},(i,o)=>o&&"start"in i&&"end"in i?o.getSourceRange(i):i,i=>{for(let o of i)if("start"in o&&"end"in o)return o;return i[0]})}wa.register=AF});var zb=S(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.register=void 0;var IF=ye(),Zi=Ye(),jF=Fe(),NF=st(),Bb=fe();function LF(e){return(t,n,r=IF.NoneCancellationToken)=>(0,jF.languageFeatureWorker)(e,t,()=>n,function*(i){let o=n.map(s=>i.getGeneratedPosition(s,Bb.isSelectionRangesEnabled)).filter(Zi.notEmpty);o.length&&(yield o)},(i,o,s)=>{if(!r.isCancellationRequested)return i[1].provideSelectionRanges?.(o,s,r)},(i,o)=>o?(0,NF.transformSelectionRanges)(i,s=>o.getSourceRange(s,Bb.isSelectionRangesEnabled)):i,i=>{let o=[];for(let s=0;s<n.length;s++){let a=[];for(let c of i)a.push(c[s]);a=a.sort((c,u)=>(0,Zi.isInsideRange)(c.range,u.range)?1:(0,Zi.isInsideRange)(u.range,c.range)?-1:0);for(let c=1;c<a.length;c++){let u=a[c-1],d=a[c];for(;u.parent&&(0,Zi.isInsideRange)(d.range,u.parent.range)&&!(0,Zi.isEqualRange)(d.range,u.parent.range);)u=u.parent;u&&(u.parent=d)}o.push(a[0])}return o})}Ta.register=LF});var Gb=S(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.register=void 0;var $F=Fe(),WF=ye(),UF=fe();function HF(e){return(t,n,r={triggerKind:1,isRetrigger:!1},i=WF.NoneCancellationToken)=>(0,$F.languageFeatureWorker)(e,t,()=>n,o=>o.getGeneratedPositions(n,UF.isSignatureHelpEnabled),(o,s,a)=>{if(!i.isCancellationRequested&&!(r?.triggerKind===2&&r.triggerCharacter&&!(r.isRetrigger?o[0].signatureHelpRetriggerCharacters:o[0].signatureHelpTriggerCharacters)?.includes(r.triggerCharacter)))return o[1].provideSignatureHelp?.(s,a,r,i)},o=>o)}Ea.register=HF});var Kb=S(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.register=void 0;var VF=Ye(),BF=ye(),zF=st();function GF(e){return async(t,n=BF.NoneCancellationToken)=>{let r=[];for(let i of e.services){if(e.disabledServicePlugins.has(i[1]))continue;if(n.isCancellationRequested)break;if(!i[1].provideWorkspaceSymbols)continue;let o=await i[1].provideWorkspaceSymbols(t,n);if(!o)continue;let s=o.map(a=>(0,zF.transformWorkspaceSymbol)(a,c=>{let[u]=e.documents.getVirtualCodeByUri(c.uri);if(u)for(let d of e.documents.getMaps(u)){let l=d.getSourceRange(c.range);if(l)return{uri:d.sourceDocument.uri,range:l}}else return c})).filter(VF.notEmpty);r.push(s)}return r.flat()}}qa.register=GF});var Jb=S(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.register=void 0;var KF=ye(),JF=st();function XF(e){return async(t,n=KF.NoneCancellationToken)=>{let r=t.data;if(r){let i=e.services[r.serviceIndex];if(!i[1].resolveCodeAction)return t;Object.assign(t,r.original),t=await i[1].resolveCodeAction(t,n),t=i[1].transformCodeAction?.(t)??(t.edit?{...t,edit:(0,JF.transformWorkspaceEdit)(t.edit,e,"codeAction",{[r.uri]:r.version})}:t)}return t}}xa.register=XF});var Xb=S(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.register=void 0;var QF=id(),YF=ye();function ZF(e){let t=QF.register(e);return async(n,r=YF.NoneCancellationToken)=>{let i=n.data;if(i?.kind==="normal"){let o=e.services[i.serviceIndex];if(!o[1].resolveCodeLens)return n;Object.assign(n,i.original),n=await o[1].resolveCodeLens(n,r)}if(i?.kind==="references"){let o=await t(i.sourceFileUri,n.range.start,{includeDeclaration:!1},r)??[];n.command=e.commands.showReferences.create(i.sourceFileUri,n.range.start,o)}return n}}ka.register=ZF});var Qb=S(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.register=void 0;var eA=ye(),tA=st();function nA(e){return async(t,n=eA.NoneCancellationToken)=>{let r=t.data;if(r){let i=e.services[r.serviceIndex];if(!i[1].resolveCompletionItem)return t;if(t=Object.assign(t,r.original),r.virtualDocumentUri){let[o]=e.documents.getVirtualCodeByUri(r.virtualDocumentUri);if(o)for(let s of e.documents.getMaps(o))t=await i[1].resolveCompletionItem(t,n),t=i[1].transformCompletionItem?.(t)??(0,tA.transformCompletionItem)(t,a=>s.getSourceRange(a),s.embeddedDocument,e)}else t=await i[1].resolveCompletionItem(t,n)}return t.detail!==t.detail+".ts"&&(t.detail=t.detail),t}}Oa.register=nA});var Yb=S(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.register=void 0;var rA=ye(),iA=st();function oA(e){return async(t,n=rA.NoneCancellationToken)=>{let r=t.data;if(r){let i=e.services[r.serviceIndex];if(!i[1].resolveDocumentLink)return t;Object.assign(t,r.original),t=await i[1].resolveDocumentLink(t,n),t.target&&(t.target=(0,iA.transformDocumentLinkTarget)(t.target,e))}return t}}Ma.register=oA});var Zb=S(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.register=void 0;var sA=ye();function aA(e){return async(t,n=sA.NoneCancellationToken)=>{let r=t.data;if(r){let i=e.services[r.serviceIndex];if(!i[1].resolveInlayHint)return t;Object.assign(t,r.original),t=await i[1].resolveInlayHint(t,n)}return t}}Fa.register=aA});var eS=S(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.createLanguageService=void 0;var sd=fe(),cA=ea(),uA=Hv(),lA=zv(),dA=eb(),fA=nb(),gA=rb(),pA=ob(),ad=ab(),hA=td(),mA=fb(),yA=gb(),vA=hb(),bA=yb(),SA=bb(),_A=Db(),CA=wb(),DA=Tb(),RA=Eb(),PA=xb(),wA=Mb(),TA=Ab(),EA=jb(),qA=id(),xA=od(),kA=Vb(),OA=zb(),MA=Gb(),FA=Kb(),AA=Jb(),IA=Xb(),jA=Qb(),NA=Yb(),LA=Zb();function $A(e,t,n){let r=i();return{getTriggerCharacters:()=>t.map(o=>o.triggerCharacters??[]).flat(),getAutoFormatTriggerCharacters:()=>t.map(o=>o.autoFormatTriggerCharacters??[]).flat(),getSignatureHelpTriggerCharacters:()=>t.map(o=>o.signatureHelpTriggerCharacters??[]).flat(),getSignatureHelpRetriggerCharacters:()=>t.map(o=>o.signatureHelpRetriggerCharacters??[]).flat(),format:vA.register(r),getFoldingRanges:PA.register(r),getSelectionRanges:OA.register(r),findLinkedEditingRanges:EA.register(r),findDocumentSymbols:CA.register(r),findDocumentColors:mA.register(r),getColorPresentations:gA.register(r),doValidation:hA.register(r),findReferences:qA.register(r),findFileReferences:DA.register(r),findDefinition:ad.register(r,"provideDefinition",sd.isDefinitionEnabled),findTypeDefinition:ad.register(r,"provideTypeDefinition",sd.isTypeDefinitionEnabled),findImplementations:ad.register(r,"provideImplementation",sd.isImplementationEnabled),prepareRename:kA.register(r),doRename:xA.register(r),getEditsForFileRename:RA.register(r),getSemanticTokens:_A.register(r),doHover:wA.register(r),doComplete:pA.register(r),doCodeActions:dA.register(r),doCodeActionResolve:AA.register(r),doCompletionResolve:jA.register(r),getSignatureHelp:MA.register(r),doCodeLens:fA.register(r),doCodeLensResolve:IA.register(r),findDocumentHighlights:bA.register(r),findDocumentLinks:SA.register(r),doDocumentLinkResolve:NA.register(r),findWorkspaceSymbols:FA.register(r),doAutoInsert:uA.register(r),doDocumentDrop:yA.register(r),getInlayHints:TA.register(r),doInlayHintResolve:LA.register(r),callHierarchy:lA.register(r),dispose:()=>r.services.forEach(o=>o[1].dispose?.()),context:r};function i(){let o={language:e,documents:(0,cA.createDocumentProvider)(e.files),env:n,inject:(s,...a)=>{for(let c of o.services){if(o.disabledServicePlugins.has(c[1]))continue;let u=c[1].provide?.[s];if(u)return u(...a)}throw`No service provide ${s}`},services:[],commands:{rename:{create(s,a){return{title:"",command:"editor.action.rename",arguments:[s,a]}},is(s){return s.command==="editor.action.rename"}},showReferences:{create(s,a,c){return{title:c.length===1?"1 reference":`${c.length} references`,command:"editor.action.showReferences",arguments:[s,a,c]}},is(s){return s.command==="editor.action.showReferences"}},setSelection:{create(s){return{title:"",command:"setSelection",arguments:[{selection:{selectionStartLineNumber:s.line+1,positionLineNumber:s.line+1,selectionStartColumn:s.character+1,positionColumn:s.character+1}}]}},is(s){return s.command==="setSelection"}}},disabledVirtualFileUris:new Set,disabledServicePlugins:new WeakSet};for(let s of t)o.services.push([s,s.create(o)]);return o}}Aa.createLanguageService=$A});var cd=S(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.FileType=void 0;var tS;(function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"})(tS||(Ia.FileType=tS={}))});var fr=S(_t=>{"use strict";var WA=_t&&_t.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),eo=_t&&_t.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&WA(t,e,n)};Object.defineProperty(_t,"__esModule",{value:!0});_t.standardSemanticTokensLegend=_t.mergeWorkspaceEdits=void 0;eo(fe(),_t);eo(eS(),_t);eo(ea(),_t);var UA=od();Object.defineProperty(_t,"mergeWorkspaceEdits",{enumerable:!0,get:function(){return UA.mergeWorkspaceEdits}});eo(cd(),_t);eo(st(),_t);_t.standardSemanticTokensLegend={tokenTypes:["namespace","class","enum","interface","struct","typeParameter","type","parameter","variable","property","enumMember","decorator","event","function","method","macro","label","comment","string","keyword","number","regexp","operator"],tokenModifiers:["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"]}});var Kr=S(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.stringArray=gt.array=gt.func=gt.error=gt.number=gt.string=gt.boolean=void 0;function HA(e){return e===!0||e===!1}gt.boolean=HA;function nS(e){return typeof e=="string"||e instanceof String}gt.string=nS;function VA(e){return typeof e=="number"||e instanceof Number}gt.number=VA;function BA(e){return e instanceof Error}gt.error=BA;function zA(e){return typeof e=="function"}gt.func=zA;function rS(e){return Array.isArray(e)}gt.array=rS;function GA(e){return rS(e)&&e.every(t=>nS(t))}gt.stringArray=GA});var Md=S(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Message=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType=ee.RequestType0=ee.AbstractMessageSignature=ee.ParameterStructures=ee.ResponseError=ee.ErrorCodes=void 0;var gr=Kr(),ud;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(ud||(ee.ErrorCodes=ud={}));var ld=class e extends Error{constructor(t,n,r){super(n),this.code=gr.number(t)?t:ud.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};ee.ResponseError=ld;var Pt=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};ee.ParameterStructures=Pt;Pt.auto=new Pt("auto");Pt.byPosition=new Pt("byPosition");Pt.byName=new Pt("byName");var Ne=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Pt.auto}};ee.AbstractMessageSignature=Ne;var dd=class extends Ne{constructor(t){super(t,0)}};ee.RequestType0=dd;var fd=class extends Ne{constructor(t,n=Pt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ee.RequestType=fd;var gd=class extends Ne{constructor(t,n=Pt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ee.RequestType1=gd;var pd=class extends Ne{constructor(t){super(t,2)}};ee.RequestType2=pd;var hd=class extends Ne{constructor(t){super(t,3)}};ee.RequestType3=hd;var md=class extends Ne{constructor(t){super(t,4)}};ee.RequestType4=md;var yd=class extends Ne{constructor(t){super(t,5)}};ee.RequestType5=yd;var vd=class extends Ne{constructor(t){super(t,6)}};ee.RequestType6=vd;var bd=class extends Ne{constructor(t){super(t,7)}};ee.RequestType7=bd;var Sd=class extends Ne{constructor(t){super(t,8)}};ee.RequestType8=Sd;var _d=class extends Ne{constructor(t){super(t,9)}};ee.RequestType9=_d;var Cd=class extends Ne{constructor(t,n=Pt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ee.NotificationType=Cd;var Dd=class extends Ne{constructor(t){super(t,0)}};ee.NotificationType0=Dd;var Rd=class extends Ne{constructor(t,n=Pt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ee.NotificationType1=Rd;var Pd=class extends Ne{constructor(t){super(t,2)}};ee.NotificationType2=Pd;var wd=class extends Ne{constructor(t){super(t,3)}};ee.NotificationType3=wd;var Td=class extends Ne{constructor(t){super(t,4)}};ee.NotificationType4=Td;var Ed=class extends Ne{constructor(t){super(t,5)}};ee.NotificationType5=Ed;var qd=class extends Ne{constructor(t){super(t,6)}};ee.NotificationType6=qd;var xd=class extends Ne{constructor(t){super(t,7)}};ee.NotificationType7=xd;var kd=class extends Ne{constructor(t){super(t,8)}};ee.NotificationType8=kd;var Od=class extends Ne{constructor(t){super(t,9)}};ee.NotificationType9=Od;var iS;(function(e){function t(i){let o=i;return o&&gr.string(o.method)&&(gr.string(o.id)||gr.number(o.id))}e.isRequest=t;function n(i){let o=i;return o&&gr.string(o.method)&&i.id===void 0}e.isNotification=n;function r(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(gr.string(o.id)||gr.number(o.id)||o.id===null)}e.isResponse=r})(iS||(ee.Message=iS={}))});var Ad=S($n=>{"use strict";var oS;Object.defineProperty($n,"__esModule",{value:!0});$n.LRUCache=$n.LinkedMap=$n.Touch=void 0;var pt;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(pt||($n.Touch=pt={}));var ja=class{constructor(){this[oS]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=pt.None){let r=this._map.get(t);if(r)return n!==pt.None&&this.touch(r,n),r.value}set(t,n,r=pt.None){let i=this._map.get(t);if(i)i.value=n,r!==pt.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case pt.None:this.addItemLast(i);break;case pt.First:this.addItemFirst(i);break;case pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(oS=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==pt.First&&n!==pt.Last)){if(n===pt.First){if(t===this._head)return;let r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===pt.Last){if(t===this._tail)return;let r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};$n.LinkedMap=ja;var Fd=class extends ja{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=pt.AsNew){return super.get(t,n)}peek(t){return super.get(t,pt.None)}set(t,n){return super.set(t,n,pt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};$n.LRUCache=Fd});var aS=S(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.Disposable=void 0;var sS;(function(e){function t(n){return{dispose:n}}e.create=t})(sS||(Na.Disposable=sS={}))});var Wn=S(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});var Id;function jd(){if(Id===void 0)throw new Error("No runtime abstraction layer installed");return Id}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Id=n}e.install=t})(jd||(jd={}));Nd.default=jd});var Xr=S(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Emitter=Jr.Event=void 0;var KA=Wn(),cS;(function(e){let t={dispose(){}};e.None=function(){return t}})(cS||(Jr.Event=cS={}));var Ld=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],t))}catch(a){(0,KA.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},La=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new Ld),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Jr.Emitter=La;La._noop=function(){}});var Ua=S(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CancellationTokenSource=Qr.CancellationToken=void 0;var JA=Wn(),XA=Kr(),$d=Xr(),$a;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$d.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$d.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||XA.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})($a||(Qr.CancellationToken=$a={}));var QA=Object.freeze(function(e,t){let n=(0,JA.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Wa=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?QA:(this._emitter||(this._emitter=new $d.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Wd=class{get token(){return this._token||(this._token=new Wa),this._token}cancel(){this._token?this._token.cancel():this._token=$a.Cancelled}dispose(){this._token?this._token instanceof Wa&&this._token.dispose():this._token=$a.None}};Qr.CancellationTokenSource=Wd});var uS=S(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.SharedArrayReceiverStrategy=Yr.SharedArraySenderStrategy=void 0;var YA=Ua(),to;(function(e){e.Continue=0,e.Cancelled=1})(to||(to={}));var Ud=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=to.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,to.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Yr.SharedArraySenderStrategy=Ud;var Hd=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===to.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Vd=class{constructor(t){this.token=new Hd(t)}cancel(){}dispose(){}},Bd=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new YA.CancellationTokenSource:new Vd(n)}};Yr.SharedArrayReceiverStrategy=Bd});var Gd=S(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.Semaphore=void 0;var ZA=Wn(),zd=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,ZA.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};Ha.Semaphore=zd});var dS=S(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.ReadableStreamMessageReader=Un.AbstractMessageReader=Un.MessageReader=void 0;var Jd=Wn(),Zr=Kr(),Kd=Xr(),eI=Gd(),lS;(function(e){function t(n){let r=n;return r&&Zr.func(r.listen)&&Zr.func(r.dispose)&&Zr.func(r.onError)&&Zr.func(r.onClose)&&Zr.func(r.onPartialMessage)}e.is=t})(lS||(Un.MessageReader=lS={}));var Va=class{constructor(){this.errorEmitter=new Kd.Emitter,this.closeEmitter=new Kd.Emitter,this.partialMessageEmitter=new Kd.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Zr.string(t.message)?t.message:"unknown"}`)}};Un.AbstractMessageReader=Va;var Xd;(function(e){function t(n){let r,i,o,s=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,s.set(o.name,o)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)s.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Jd.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}e.fromOptions=t})(Xd||(Xd={}));var Qd=class extends Va{constructor(t,n){super(),this.readable=t,this.options=Xd.fromOptions(n),this.buffer=(0,Jd.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new eI.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Jd.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Un.ReadableStreamMessageReader=Qd});var mS=S(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.WriteableStreamMessageWriter=Hn.AbstractMessageWriter=Hn.MessageWriter=void 0;var fS=Wn(),no=Kr(),tI=Gd(),gS=Xr(),nI="Content-Length: ",pS=`\r
`,hS;(function(e){function t(n){let r=n;return r&&no.func(r.dispose)&&no.func(r.onClose)&&no.func(r.onError)&&no.func(r.write)}e.is=t})(hS||(Hn.MessageWriter=hS={}));var Ba=class{constructor(){this.errorEmitter=new gS.Emitter,this.closeEmitter=new gS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${no.string(t.message)?t.message:"unknown"}`)}};Hn.AbstractMessageWriter=Ba;var Yd;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,fS.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,fS.default)().applicationJson.encoder}}e.fromOptions=t})(Yd||(Yd={}));var Zd=class extends Ba{constructor(t,n){super(),this.writable=t,this.options=Yd.fromOptions(n),this.errorCount=0,this.writeSemaphore=new tI.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(nI,r.byteLength.toString(),pS),i.push(pS),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};Hn.WriteableStreamMessageWriter=Zd});var yS=S(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.AbstractMessageBuffer=void 0;var rI=13,iI=10,oI=`\r
`,ef=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case rI:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case iI:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=u.byteLength,r++}if(n!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(oI);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let d=c[u],l=d.indexOf(":");if(l===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let p=d.substr(0,l),f=d.substr(l+1).trim();a.set(t?p.toLowerCase():p,f)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),r=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);n.set(s,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}};za.AbstractMessageBuffer=ef});var CS=S(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.createMessageConnection=ae.ConnectionOptions=ae.MessageStrategy=ae.CancellationStrategy=ae.CancellationSenderStrategy=ae.CancellationReceiverStrategy=ae.RequestCancellationReceiverStrategy=ae.IdCancellationReceiverStrategy=ae.ConnectionStrategy=ae.ConnectionError=ae.ConnectionErrors=ae.LogTraceNotification=ae.SetTraceNotification=ae.TraceFormat=ae.TraceValues=ae.Trace=ae.NullLogger=ae.ProgressType=ae.ProgressToken=void 0;var vS=Wn(),Ue=Kr(),ie=Md(),bS=Ad(),ro=Xr(),tf=Ua(),so;(function(e){e.type=new ie.NotificationType("$/cancelRequest")})(so||(so={}));var nf;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(nf||(ae.ProgressToken=nf={}));var io;(function(e){e.type=new ie.NotificationType("$/progress")})(io||(io={}));var rf=class{constructor(){}};ae.ProgressType=rf;var of;(function(e){function t(n){return Ue.func(n)}e.is=t})(of||(of={}));ae.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ce;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Ce||(ae.Trace=Ce={}));var SS;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(SS||(ae.TraceValues=SS={}));(function(e){function t(r){if(!Ue.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(Ce||(ae.Trace=Ce={}));var Ot;(function(e){e.Text="text",e.JSON="json"})(Ot||(ae.TraceFormat=Ot={}));(function(e){function t(n){return Ue.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(Ot||(ae.TraceFormat=Ot={}));var sf;(function(e){e.type=new ie.NotificationType("$/setTrace")})(sf||(ae.SetTraceNotification=sf={}));var Ga;(function(e){e.type=new ie.NotificationType("$/logTrace")})(Ga||(ae.LogTraceNotification=Ga={}));var oo;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(oo||(ae.ConnectionErrors=oo={}));var ei=class e extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,e.prototype)}};ae.ConnectionError=ei;var af;(function(e){function t(n){let r=n;return r&&Ue.func(r.cancelUndispatched)}e.is=t})(af||(ae.ConnectionStrategy=af={}));var Ka;(function(e){function t(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&Ue.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Ue.func(r.dispose))}e.is=t})(Ka||(ae.IdCancellationReceiverStrategy=Ka={}));var cf;(function(e){function t(n){let r=n;return r&&r.kind==="request"&&Ue.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Ue.func(r.dispose))}e.is=t})(cf||(ae.RequestCancellationReceiverStrategy=cf={}));var Ja;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new tf.CancellationTokenSource}});function t(n){return Ka.is(n)||cf.is(n)}e.is=t})(Ja||(ae.CancellationReceiverStrategy=Ja={}));var Xa;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(so.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&Ue.func(r.sendCancellation)&&Ue.func(r.cleanup)}e.is=t})(Xa||(ae.CancellationSenderStrategy=Xa={}));var Qa;(function(e){e.Message=Object.freeze({receiver:Ja.Message,sender:Xa.Message});function t(n){let r=n;return r&&Ja.is(r.receiver)&&Xa.is(r.sender)}e.is=t})(Qa||(ae.CancellationStrategy=Qa={}));var Ya;(function(e){function t(n){let r=n;return r&&Ue.func(r.handleMessage)}e.is=t})(Ya||(ae.MessageStrategy=Ya={}));var _S;(function(e){function t(n){let r=n;return r&&(Qa.is(r.cancellationStrategy)||af.is(r.connectionStrategy)||Ya.is(r.messageStrategy))}e.is=t})(_S||(ae.ConnectionOptions=_S={}));var Zt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Zt||(Zt={}));function sI(e,t,n,r){let i=n!==void 0?n:ae.NullLogger,o=0,s=0,a=0,c="2.0",u,d=new Map,l,p=new Map,f=new Map,g,h=new bS.LinkedMap,b=new Map,m=new Set,y=new Map,v=Ce.Off,R=Ot.Text,P,_=Zt.New,D=new ro.Emitter,E=new ro.Emitter,k=new ro.Emitter,T=new ro.Emitter,q=new ro.Emitter,N=r&&r.cancellationStrategy?r.cancellationStrategy:Qa.Message;function F(w){if(w===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+w.toString()}function x(w){return w===null?"res-unknown-"+(++a).toString():"res-"+w.toString()}function A(){return"not-"+(++s).toString()}function j(w,L){ie.Message.isRequest(L)?w.set(F(L.id),L):ie.Message.isResponse(L)?w.set(x(L.id),L):w.set(A(),L)}function B(w){}function U(){return _===Zt.Listening}function $(){return _===Zt.Closed}function W(){return _===Zt.Disposed}function z(){(_===Zt.New||_===Zt.Listening)&&(_=Zt.Closed,E.fire(void 0))}function ne(w){D.fire([w,void 0,void 0])}function pe(w){D.fire(w)}e.onClose(z),e.onError(ne),t.onClose(z),t.onError(pe);function Z(){g||h.size===0||(g=(0,vS.default)().timer.setImmediate(()=>{g=void 0,Te()}))}function _e(w){ie.Message.isRequest(w)?Ee(w):ie.Message.isNotification(w)?Re(w):ie.Message.isResponse(w)?er(w):nn(w)}function Te(){if(h.size===0)return;let w=h.shift();try{let L=r?.messageStrategy;Ya.is(L)?L.handleMessage(w,_e):_e(w)}finally{Z()}}let lt=w=>{try{if(ie.Message.isNotification(w)&&w.method===so.type.method){let L=w.params.id,G=F(L),Y=h.get(G);if(ie.Message.isRequest(Y)){let Me=r?.connectionStrategy,He=Me&&Me.cancelUndispatched?Me.cancelUndispatched(Y,B):void 0;if(He&&(He.error!==void 0||He.result!==void 0)){h.delete(G),y.delete(L),He.id=Y.id,ce(He,w.method,Date.now()),t.write(He).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ie=y.get(L);if(Ie!==void 0){Ie.cancel(),qe(w);return}else m.add(L)}j(h,w)}finally{Z()}};function Ee(w){if(W())return;function L(he,We,Pe){let tt={jsonrpc:c,id:w.id};he instanceof ie.ResponseError?tt.error=he.toJson():tt.result=he===void 0?null:he,ce(tt,We,Pe),t.write(tt).catch(()=>i.error("Sending response failed."))}function G(he,We,Pe){let tt={jsonrpc:c,id:w.id,error:he.toJson()};ce(tt,We,Pe),t.write(tt).catch(()=>i.error("Sending response failed."))}function Y(he,We,Pe){he===void 0&&(he=null);let tt={jsonrpc:c,id:w.id,result:he};ce(tt,We,Pe),t.write(tt).catch(()=>i.error("Sending response failed."))}Oe(w);let Ie=d.get(w.method),Me,He;Ie&&(Me=Ie.type,He=Ie.handler);let Qe=Date.now();if(He||u){let he=w.id??String(Date.now()),We=Ka.is(N.receiver)?N.receiver.createCancellationTokenSource(he):N.receiver.createCancellationTokenSource(w);w.id!==null&&m.has(w.id)&&We.cancel(),w.id!==null&&y.set(he,We);try{let Pe;if(He)if(w.params===void 0){if(Me!==void 0&&Me.numberOfParams!==0){G(new ie.ResponseError(ie.ErrorCodes.InvalidParams,`Request ${w.method} defines ${Me.numberOfParams} params but received none.`),w.method,Qe);return}Pe=He(We.token)}else if(Array.isArray(w.params)){if(Me!==void 0&&Me.parameterStructures===ie.ParameterStructures.byName){G(new ie.ResponseError(ie.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by name but received parameters by position`),w.method,Qe);return}Pe=He(...w.params,We.token)}else{if(Me!==void 0&&Me.parameterStructures===ie.ParameterStructures.byPosition){G(new ie.ResponseError(ie.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by position but received parameters by name`),w.method,Qe);return}Pe=He(w.params,We.token)}else u&&(Pe=u(w.method,w.params,We.token));let tt=Pe;Pe?tt.then?tt.then(vt=>{y.delete(he),L(vt,w.method,Qe)},vt=>{y.delete(he),vt instanceof ie.ResponseError?G(vt,w.method,Qe):vt&&Ue.string(vt.message)?G(new ie.ResponseError(ie.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${vt.message}`),w.method,Qe):G(new ie.ResponseError(ie.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,Qe)}):(y.delete(he),L(Pe,w.method,Qe)):(y.delete(he),Y(Pe,w.method,Qe))}catch(Pe){y.delete(he),Pe instanceof ie.ResponseError?L(Pe,w.method,Qe):Pe&&Ue.string(Pe.message)?G(new ie.ResponseError(ie.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${Pe.message}`),w.method,Qe):G(new ie.ResponseError(ie.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,Qe)}}else G(new ie.ResponseError(ie.ErrorCodes.MethodNotFound,`Unhandled method ${w.method}`),w.method,Qe)}function er(w){if(!W())if(w.id===null)w.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(w.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let L=w.id,G=b.get(L);if(rn(w,G),G!==void 0){b.delete(L);try{if(w.error){let Y=w.error;G.reject(new ie.ResponseError(Y.code,Y.message,Y.data))}else if(w.result!==void 0)G.resolve(w.result);else throw new Error("Should never happen.")}catch(Y){Y.message?i.error(`Response handler '${G.method}' failed with message: ${Y.message}`):i.error(`Response handler '${G.method}' failed unexpectedly.`)}}}}function Re(w){if(W())return;let L,G;if(w.method===so.type.method){let Y=w.params.id;m.delete(Y),qe(w);return}else{let Y=p.get(w.method);Y&&(G=Y.handler,L=Y.type)}if(G||l)try{if(qe(w),G)if(w.params===void 0)L!==void 0&&L.numberOfParams!==0&&L.parameterStructures!==ie.ParameterStructures.byName&&i.error(`Notification ${w.method} defines ${L.numberOfParams} params but received none.`),G();else if(Array.isArray(w.params)){let Y=w.params;w.method===io.type.method&&Y.length===2&&nf.is(Y[0])?G({token:Y[0],value:Y[1]}):(L!==void 0&&(L.parameterStructures===ie.ParameterStructures.byName&&i.error(`Notification ${w.method} defines parameters by name but received parameters by position`),L.numberOfParams!==w.params.length&&i.error(`Notification ${w.method} defines ${L.numberOfParams} params but received ${Y.length} arguments`)),G(...Y))}else L!==void 0&&L.parameterStructures===ie.ParameterStructures.byPosition&&i.error(`Notification ${w.method} defines parameters by position but received parameters by name`),G(w.params);else l&&l(w.method,w.params)}catch(Y){Y.message?i.error(`Notification handler '${w.method}' failed with message: ${Y.message}`):i.error(`Notification handler '${w.method}' failed unexpectedly.`)}else k.fire(w)}function nn(w){if(!w){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(w,null,4)}`);let L=w;if(Ue.string(L.id)||Ue.number(L.id)){let G=L.id,Y=b.get(G);Y&&Y.reject(new Error("The received response has neither a result nor an error property."))}}function M(w){if(w!=null)switch(v){case Ce.Verbose:return JSON.stringify(w,null,4);case Ce.Compact:return JSON.stringify(w);default:return}}function V(w){if(!(v===Ce.Off||!P))if(R===Ot.Text){let L;(v===Ce.Verbose||v===Ce.Compact)&&w.params&&(L=`Params: ${M(w.params)}

`),P.log(`Sending request '${w.method} - (${w.id})'.`,L)}else _r("send-request",w)}function J(w){if(!(v===Ce.Off||!P))if(R===Ot.Text){let L;(v===Ce.Verbose||v===Ce.Compact)&&(w.params?L=`Params: ${M(w.params)}

`:L=`No parameters provided.

`),P.log(`Sending notification '${w.method}'.`,L)}else _r("send-notification",w)}function ce(w,L,G){if(!(v===Ce.Off||!P))if(R===Ot.Text){let Y;(v===Ce.Verbose||v===Ce.Compact)&&(w.error&&w.error.data?Y=`Error data: ${M(w.error.data)}

`:w.result?Y=`Result: ${M(w.result)}

`:w.error===void 0&&(Y=`No result returned.

`)),P.log(`Sending response '${L} - (${w.id})'. Processing request took ${Date.now()-G}ms`,Y)}else _r("send-response",w)}function Oe(w){if(!(v===Ce.Off||!P))if(R===Ot.Text){let L;(v===Ce.Verbose||v===Ce.Compact)&&w.params&&(L=`Params: ${M(w.params)}

`),P.log(`Received request '${w.method} - (${w.id})'.`,L)}else _r("receive-request",w)}function qe(w){if(!(v===Ce.Off||!P||w.method===Ga.type.method))if(R===Ot.Text){let L;(v===Ce.Verbose||v===Ce.Compact)&&(w.params?L=`Params: ${M(w.params)}

`:L=`No parameters provided.

`),P.log(`Received notification '${w.method}'.`,L)}else _r("receive-notification",w)}function rn(w,L){if(!(v===Ce.Off||!P))if(R===Ot.Text){let G;if((v===Ce.Verbose||v===Ce.Compact)&&(w.error&&w.error.data?G=`Error data: ${M(w.error.data)}

`:w.result?G=`Result: ${M(w.result)}

`:w.error===void 0&&(G=`No result returned.

`)),L){let Y=w.error?` Request failed: ${w.error.message} (${w.error.code}).`:"";P.log(`Received response '${L.method} - (${w.id})' in ${Date.now()-L.timerStart}ms.${Y}`,G)}else P.log(`Received response ${w.id} without active response promise.`,G)}else _r("receive-response",w)}function _r(w,L){if(!P||v===Ce.Off)return;let G={isLSPMessage:!0,type:w,message:L,timestamp:Date.now()};P.log(G)}function wi(){if($())throw new ei(oo.Closed,"Connection is closed.");if(W())throw new ei(oo.Disposed,"Connection is disposed.")}function yR(){if(U())throw new ei(oo.AlreadyListening,"Connection is already listening")}function vR(){if(!U())throw new Error("Call listen() first.")}function Ti(w){return w===void 0?null:w}function bp(w){if(w!==null)return w}function Sp(w){return w!=null&&!Array.isArray(w)&&typeof w=="object"}function bu(w,L){switch(w){case ie.ParameterStructures.auto:return Sp(L)?bp(L):[Ti(L)];case ie.ParameterStructures.byName:if(!Sp(L))throw new Error("Received parameters by name but param is not an object literal.");return bp(L);case ie.ParameterStructures.byPosition:return[Ti(L)];default:throw new Error(`Unknown parameter structure ${w.toString()}`)}}function _p(w,L){let G,Y=w.numberOfParams;switch(Y){case 0:G=void 0;break;case 1:G=bu(w.parameterStructures,L[0]);break;default:G=[];for(let Ie=0;Ie<L.length&&Ie<Y;Ie++)G.push(Ti(L[Ie]));if(L.length<Y)for(let Ie=L.length;Ie<Y;Ie++)G.push(null);break}return G}let Cr={sendNotification:(w,...L)=>{wi();let G,Y;if(Ue.string(w)){G=w;let Me=L[0],He=0,Qe=ie.ParameterStructures.auto;ie.ParameterStructures.is(Me)&&(He=1,Qe=Me);let he=L.length,We=he-He;switch(We){case 0:Y=void 0;break;case 1:Y=bu(Qe,L[He]);break;default:if(Qe===ie.ParameterStructures.byName)throw new Error(`Received ${We} parameters for 'by Name' notification parameter structure.`);Y=L.slice(He,he).map(Pe=>Ti(Pe));break}}else{let Me=L;G=w.method,Y=_p(w,Me)}let Ie={jsonrpc:c,method:G,params:Y};return J(Ie),t.write(Ie).catch(Me=>{throw i.error("Sending notification failed."),Me})},onNotification:(w,L)=>{wi();let G;return Ue.func(w)?l=w:L&&(Ue.string(w)?(G=w,p.set(w,{type:void 0,handler:L})):(G=w.method,p.set(w.method,{type:w,handler:L}))),{dispose:()=>{G!==void 0?p.delete(G):l=void 0}}},onProgress:(w,L,G)=>{if(f.has(L))throw new Error(`Progress handler for token ${L} already registered`);return f.set(L,G),{dispose:()=>{f.delete(L)}}},sendProgress:(w,L,G)=>Cr.sendNotification(io.type,{token:L,value:G}),onUnhandledProgress:T.event,sendRequest:(w,...L)=>{wi(),vR();let G,Y,Ie;if(Ue.string(w)){G=w;let he=L[0],We=L[L.length-1],Pe=0,tt=ie.ParameterStructures.auto;ie.ParameterStructures.is(he)&&(Pe=1,tt=he);let vt=L.length;tf.CancellationToken.is(We)&&(vt=vt-1,Ie=We);let on=vt-Pe;switch(on){case 0:Y=void 0;break;case 1:Y=bu(tt,L[Pe]);break;default:if(tt===ie.ParameterStructures.byName)throw new Error(`Received ${on} parameters for 'by Name' request parameter structure.`);Y=L.slice(Pe,vt).map(bR=>Ti(bR));break}}else{let he=L;G=w.method,Y=_p(w,he);let We=w.numberOfParams;Ie=tf.CancellationToken.is(he[We])?he[We]:void 0}let Me=o++,He;Ie&&(He=Ie.onCancellationRequested(()=>{let he=N.sender.sendCancellation(Cr,Me);return he===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Me}`),Promise.resolve()):he.catch(()=>{i.log(`Sending cancellation messages for id ${Me} failed`)})}));let Qe={jsonrpc:c,id:Me,method:G,params:Y};return V(Qe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(Qe),new Promise(async(he,We)=>{let Pe=on=>{he(on),N.sender.cleanup(Me),He?.dispose()},tt=on=>{We(on),N.sender.cleanup(Me),He?.dispose()},vt={method:G,timerStart:Date.now(),resolve:Pe,reject:tt};try{await t.write(Qe),b.set(Me,vt)}catch(on){throw i.error("Sending request failed."),vt.reject(new ie.ResponseError(ie.ErrorCodes.MessageWriteError,on.message?on.message:"Unknown reason")),on}})},onRequest:(w,L)=>{wi();let G=null;return of.is(w)?(G=void 0,u=w):Ue.string(w)?(G=null,L!==void 0&&(G=w,d.set(w,{handler:L,type:void 0}))):L!==void 0&&(G=w.method,d.set(w.method,{type:w,handler:L})),{dispose:()=>{G!==null&&(G!==void 0?d.delete(G):u=void 0)}}},hasPendingResponse:()=>b.size>0,trace:async(w,L,G)=>{let Y=!1,Ie=Ot.Text;G!==void 0&&(Ue.boolean(G)?Y=G:(Y=G.sendNotification||!1,Ie=G.traceFormat||Ot.Text)),v=w,R=Ie,v===Ce.Off?P=void 0:P=L,Y&&!$()&&!W()&&await Cr.sendNotification(sf.type,{value:Ce.toString(w)})},onError:D.event,onClose:E.event,onUnhandledNotification:k.event,onDispose:q.event,end:()=>{t.end()},dispose:()=>{if(W())return;_=Zt.Disposed,q.fire(void 0);let w=new ie.ResponseError(ie.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let L of b.values())L.reject(w);b=new Map,y=new Map,m=new Set,h=new bS.LinkedMap,Ue.func(t.dispose)&&t.dispose(),Ue.func(e.dispose)&&e.dispose()},listen:()=>{wi(),yR(),_=Zt.Listening,e.listen(lt)},inspect:()=>{(0,vS.default)().console.log("inspect")}};return Cr.onNotification(Ga.type,w=>{if(v===Ce.Off||!P)return;let L=v===Ce.Verbose||v===Ce.Compact;P.log(w.message,L?w.verbose:void 0)}),Cr.onNotification(io.type,w=>{let L=f.get(w.token);L?L(w.value):T.fire(w)}),Cr}ae.createMessageConnection=sI});var Za=S(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.ProgressType=I.ProgressToken=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.AbstractMessageBuffer=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.SharedArrayReceiverStrategy=I.SharedArraySenderStrategy=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.LRUCache=I.Touch=I.LinkedMap=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.Message=I.RAL=void 0;I.MessageStrategy=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.TraceValues=I.Trace=void 0;var Ae=Md();Object.defineProperty(I,"Message",{enumerable:!0,get:function(){return Ae.Message}});Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return Ae.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return Ae.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return Ae.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return Ae.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return Ae.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return Ae.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return Ae.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return Ae.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return Ae.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return Ae.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return Ae.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return Ae.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return Ae.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return Ae.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return Ae.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return Ae.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return Ae.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return Ae.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return Ae.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return Ae.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return Ae.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return Ae.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return Ae.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return Ae.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return Ae.ParameterStructures}});var uf=Ad();Object.defineProperty(I,"LinkedMap",{enumerable:!0,get:function(){return uf.LinkedMap}});Object.defineProperty(I,"LRUCache",{enumerable:!0,get:function(){return uf.LRUCache}});Object.defineProperty(I,"Touch",{enumerable:!0,get:function(){return uf.Touch}});var aI=aS();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return aI.Disposable}});var DS=Xr();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return DS.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return DS.Emitter}});var RS=Ua();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return RS.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return RS.CancellationToken}});var PS=uS();Object.defineProperty(I,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return PS.SharedArraySenderStrategy}});Object.defineProperty(I,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return PS.SharedArrayReceiverStrategy}});var lf=dS();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return lf.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return lf.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return lf.ReadableStreamMessageReader}});var df=mS();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return df.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return df.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return df.WriteableStreamMessageWriter}});var cI=yS();Object.defineProperty(I,"AbstractMessageBuffer",{enumerable:!0,get:function(){return cI.AbstractMessageBuffer}});var at=CS();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return at.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return at.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return at.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return at.createMessageConnection}});Object.defineProperty(I,"ProgressToken",{enumerable:!0,get:function(){return at.ProgressToken}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return at.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return at.Trace}});Object.defineProperty(I,"TraceValues",{enumerable:!0,get:function(){return at.TraceValues}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return at.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return at.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return at.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return at.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return at.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return at.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return at.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return at.CancellationStrategy}});Object.defineProperty(I,"MessageStrategy",{enumerable:!0,get:function(){return at.MessageStrategy}});var uI=Wn();I.RAL=uI.default});var TS=S(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});var hn=Za(),ec=class e extends hn.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}};ec.emptyBuffer=new Uint8Array(0);var ff=class{constructor(t){this.socket=t,this._onData=new hn.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,hn.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),hn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),hn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),hn.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},gf=class{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),hn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),hn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),hn.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},lI=new TextEncoder,wS=Object.freeze({messageBuffer:Object.freeze({create:e=>new ec(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(lI.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new ff(e),asWritableStream:e=>new gf(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function pf(){return wS}(function(e){function t(){hn.RAL.install(wS)}e.install=t})(pf||(pf={}));hf.default=pf});var pr=S(Mt=>{"use strict";var dI=Mt&&Mt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),fI=Mt&&Mt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&dI(t,e,n)};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createMessageConnection=Mt.BrowserMessageWriter=Mt.BrowserMessageReader=void 0;var gI=TS();gI.default.install();var ti=Za();fI(Za(),Mt);var mf=class extends ti.AbstractMessageReader{constructor(t){super(),this._onData=new ti.Emitter,this._messageListener=n=>{this._onData.fire(n.data)},t.addEventListener("error",n=>this.fireError(n)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};Mt.BrowserMessageReader=mf;var yf=class extends ti.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};Mt.BrowserMessageWriter=yf;function pI(e,t,n,r){return n===void 0&&(n=ti.NullLogger),ti.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ti.createMessageConnection)(e,t,n,r)}Mt.createMessageConnection=pI});var vf=S((_U,ES)=>{"use strict";ES.exports=pr()});var uc={};_u(uc,{AnnotatedTextEdit:()=>xn,ChangeAnnotation:()=>hr,ChangeAnnotationIdentifier:()=>ct,CodeAction:()=>Zf,CodeActionContext:()=>Yf,CodeActionKind:()=>Qf,CodeActionTriggerKind:()=>po,CodeDescription:()=>Ef,CodeLens:()=>eg,Color:()=>nc,ColorInformation:()=>Cf,ColorPresentation:()=>Df,Command:()=>mr,CompletionItem:()=>Lf,CompletionItemKind:()=>Mf,CompletionItemLabelDetails:()=>Nf,CompletionItemTag:()=>Af,CompletionList:()=>$f,CreateFile:()=>ri,DeleteFile:()=>oi,Diagnostic:()=>uo,DiagnosticRelatedInformation:()=>rc,DiagnosticSeverity:()=>wf,DiagnosticTag:()=>Tf,DocumentHighlight:()=>Bf,DocumentHighlightKind:()=>Vf,DocumentLink:()=>ng,DocumentSymbol:()=>Xf,DocumentUri:()=>bf,EOL:()=>hI,FoldingRange:()=>Pf,FoldingRangeKind:()=>Rf,FormattingOptions:()=>tg,Hover:()=>Wf,InlayHint:()=>dg,InlayHintKind:()=>ac,InlayHintLabelPart:()=>cc,InlineCompletionContext:()=>yg,InlineCompletionItem:()=>gg,InlineCompletionList:()=>pg,InlineCompletionTriggerKind:()=>hg,InlineValueContext:()=>lg,InlineValueEvaluatableExpression:()=>ug,InlineValueText:()=>ag,InlineValueVariableLookup:()=>cg,InsertReplaceEdit:()=>If,InsertTextFormat:()=>Ff,InsertTextMode:()=>jf,Location:()=>co,LocationLink:()=>_f,MarkedString:()=>go,MarkupContent:()=>si,MarkupKind:()=>sc,OptionalVersionedTextDocumentIdentifier:()=>fo,ParameterInformation:()=>Uf,Position:()=>Ut,Range:()=>Ke,RenameFile:()=>ii,SelectedCompletionInfo:()=>mg,SelectionRange:()=>rg,SemanticTokenModifiers:()=>og,SemanticTokenTypes:()=>ig,SemanticTokens:()=>sg,SignatureInformation:()=>Hf,StringValue:()=>fg,SymbolInformation:()=>Kf,SymbolKind:()=>zf,SymbolTag:()=>Gf,TextDocument:()=>bg,TextDocumentEdit:()=>lo,TextDocumentIdentifier:()=>xf,TextDocumentItem:()=>Of,TextEdit:()=>mn,URI:()=>tc,VersionedTextDocumentIdentifier:()=>kf,WorkspaceChange:()=>qf,WorkspaceEdit:()=>ic,WorkspaceFolder:()=>vg,WorkspaceSymbol:()=>Jf,integer:()=>Sf,uinteger:()=>ao});var bf,tc,Sf,ao,Ut,Ke,co,_f,nc,Cf,Df,Rf,Pf,rc,wf,Tf,Ef,uo,mr,mn,hr,ct,xn,lo,ri,ii,oi,ic,ni,oc,qf,xf,kf,fo,Of,sc,si,Mf,Ff,Af,If,jf,Nf,Lf,$f,go,Wf,Uf,Hf,Vf,Bf,zf,Gf,Kf,Jf,Xf,Qf,po,Yf,Zf,eg,tg,ng,rg,ig,og,sg,ag,cg,ug,lg,ac,cc,dg,fg,gg,pg,hg,mg,yg,vg,hI,bg,Sg,O,lc=Su(()=>{"use strict";(function(e){function t(n){return typeof n=="string"}e.is=t})(bf||(bf={}));(function(e){function t(n){return typeof n=="string"}e.is=t})(tc||(tc={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Sf||(Sf={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(ao||(ao={}));(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=ao.MAX_VALUE),i===Number.MAX_VALUE&&(i=ao.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&O.uinteger(i.line)&&O.uinteger(i.character)}e.is=n})(Ut||(Ut={}));(function(e){function t(r,i,o,s){if(O.uinteger(r)&&O.uinteger(i)&&O.uinteger(o)&&O.uinteger(s))return{start:Ut.create(r,i),end:Ut.create(o,s)};if(Ut.is(r)&&Ut.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ut.is(i.start)&&Ut.is(i.end)}e.is=n})(Ke||(Ke={}));(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ke.is(i.range)&&(O.string(i.uri)||O.undefined(i.uri))}e.is=n})(co||(co={}));(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ke.is(i.targetRange)&&O.string(i.targetUri)&&Ke.is(i.targetSelectionRange)&&(Ke.is(i.originSelectionRange)||O.undefined(i.originSelectionRange))}e.is=n})(_f||(_f={}));(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&O.numberRange(i.red,0,1)&&O.numberRange(i.green,0,1)&&O.numberRange(i.blue,0,1)&&O.numberRange(i.alpha,0,1)}e.is=n})(nc||(nc={}));(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ke.is(i.range)&&nc.is(i.color)}e.is=n})(Cf||(Cf={}));(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&O.string(i.label)&&(O.undefined(i.textEdit)||mn.is(i))&&(O.undefined(i.additionalTextEdits)||O.typedArray(i.additionalTextEdits,mn.is))}e.is=n})(Df||(Df={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Rf||(Rf={}));(function(e){function t(r,i,o,s,a,c){let u={startLine:r,endLine:i};return O.defined(o)&&(u.startCharacter=o),O.defined(s)&&(u.endCharacter=s),O.defined(a)&&(u.kind=a),O.defined(c)&&(u.collapsedText=c),u}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&O.uinteger(i.startLine)&&O.uinteger(i.startLine)&&(O.undefined(i.startCharacter)||O.uinteger(i.startCharacter))&&(O.undefined(i.endCharacter)||O.uinteger(i.endCharacter))&&(O.undefined(i.kind)||O.string(i.kind))}e.is=n})(Pf||(Pf={}));(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&co.is(i.location)&&O.string(i.message)}e.is=n})(rc||(rc={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(wf||(wf={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(Tf||(Tf={}));(function(e){function t(n){let r=n;return O.objectLiteral(r)&&O.string(r.href)}e.is=t})(Ef||(Ef={}));(function(e){function t(r,i,o,s,a,c){let u={range:r,message:i};return O.defined(o)&&(u.severity=o),O.defined(s)&&(u.code=s),O.defined(a)&&(u.source=a),O.defined(c)&&(u.relatedInformation=c),u}e.create=t;function n(r){var i;let o=r;return O.defined(o)&&Ke.is(o.range)&&O.string(o.message)&&(O.number(o.severity)||O.undefined(o.severity))&&(O.integer(o.code)||O.string(o.code)||O.undefined(o.code))&&(O.undefined(o.codeDescription)||O.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(O.string(o.source)||O.undefined(o.source))&&(O.undefined(o.relatedInformation)||O.typedArray(o.relatedInformation,rc.is))}e.is=n})(uo||(uo={}));(function(e){function t(r,i,...o){let s={title:r,command:i};return O.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function n(r){let i=r;return O.defined(i)&&O.string(i.title)&&O.string(i.command)}e.is=n})(mr||(mr={}));(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){let s=o;return O.objectLiteral(s)&&O.string(s.newText)&&Ke.is(s.range)}e.is=i})(mn||(mn={}));(function(e){function t(r,i,o){let s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&O.string(i.label)&&(O.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(O.string(i.description)||i.description===void 0)}e.is=n})(hr||(hr={}));(function(e){function t(n){let r=n;return O.string(r)}e.is=t})(ct||(ct={}));(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function n(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){let s=o;return mn.is(s)&&(hr.is(s.annotationId)||ct.is(s.annotationId))}e.is=i})(xn||(xn={}));(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&fo.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(lo||(lo={}));(function(e){function t(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&O.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||O.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||O.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}e.is=n})(ri||(ri={}));(function(e){function t(r,i,o,s){let a={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&O.string(i.oldUri)&&O.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||O.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||O.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}e.is=n})(ii||(ii={}));(function(e){function t(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&O.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||O.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||O.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}e.is=n})(oi||(oi={}));(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>O.string(i.kind)?ri.is(i)||ii.is(i)||oi.is(i):lo.is(i)))}e.is=t})(ic||(ic={}));ni=class{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=mn.insert(t,n):ct.is(r)?(o=r,i=xn.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=xn.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=mn.replace(t,n):ct.is(r)?(o=r,i=xn.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=xn.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=mn.del(t):ct.is(n)?(i=n,r=xn.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=xn.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},oc=class{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(ct.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}},qf=class{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new oc(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(lo.is(n)){let r=new ni(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{let r=new ni(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(fo.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){let i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new ni(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new ni(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new oc,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;hr.is(n)||ct.is(n)?i=n:r=n;let o,s;if(i===void 0?o=ri.create(t,r):(s=ct.is(i)?i:this._changeAnnotations.manage(i),o=ri.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;hr.is(r)||ct.is(r)?o=r:i=r;let s,a;if(o===void 0?s=ii.create(t,n,i):(a=ct.is(o)?o:this._changeAnnotations.manage(o),s=ii.create(t,n,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;hr.is(n)||ct.is(n)?i=n:r=n;let o,s;if(i===void 0?o=oi.create(t,r):(s=ct.is(i)?i:this._changeAnnotations.manage(i),o=oi.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return O.defined(i)&&O.string(i.uri)}e.is=n})(xf||(xf={}));(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&O.string(i.uri)&&O.integer(i.version)}e.is=n})(kf||(kf={}));(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&O.string(i.uri)&&(i.version===null||O.integer(i.version))}e.is=n})(fo||(fo={}));(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){let i=r;return O.defined(i)&&O.string(i.uri)&&O.string(i.languageId)&&O.integer(i.version)&&O.string(i.text)}e.is=n})(Of||(Of={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){let r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(sc||(sc={}));(function(e){function t(n){let r=n;return O.objectLiteral(n)&&sc.is(r.kind)&&O.string(r.value)}e.is=t})(si||(si={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Mf||(Mf={}));(function(e){e.PlainText=1,e.Snippet=2})(Ff||(Ff={}));(function(e){e.Deprecated=1})(Af||(Af={}));(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){let i=r;return i&&O.string(i.newText)&&Ke.is(i.insert)&&Ke.is(i.replace)}e.is=n})(If||(If={}));(function(e){e.asIs=1,e.adjustIndentation=2})(jf||(jf={}));(function(e){function t(n){let r=n;return r&&(O.string(r.detail)||r.detail===void 0)&&(O.string(r.description)||r.description===void 0)}e.is=t})(Nf||(Nf={}));(function(e){function t(n){return{label:n}}e.create=t})(Lf||(Lf={}));(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})($f||($f={}));(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){let i=r;return O.string(i)||O.objectLiteral(i)&&O.string(i.language)&&O.string(i.value)}e.is=n})(go||(go={}));(function(e){function t(n){let r=n;return!!r&&O.objectLiteral(r)&&(si.is(r.contents)||go.is(r.contents)||O.typedArray(r.contents,go.is))&&(n.range===void 0||Ke.is(n.range))}e.is=t})(Wf||(Wf={}));(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Uf||(Uf={}));(function(e){function t(n,r,...i){let o={label:n};return O.defined(r)&&(o.documentation=r),O.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(Hf||(Hf={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Vf||(Vf={}));(function(e){function t(n,r){let i={range:n};return O.number(r)&&(i.kind=r),i}e.create=t})(Bf||(Bf={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(zf||(zf={}));(function(e){e.Deprecated=1})(Gf||(Gf={}));(function(e){function t(n,r,i,o,s){let a={name:n,kind:r,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(Kf||(Kf={}));(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(Jf||(Jf={}));(function(e){function t(r,i,o,s,a,c){let u={name:r,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}e.create=t;function n(r){let i=r;return i&&O.string(i.name)&&O.number(i.kind)&&Ke.is(i.range)&&Ke.is(i.selectionRange)&&(i.detail===void 0||O.string(i.detail))&&(i.deprecated===void 0||O.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Xf||(Xf={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Qf||(Qf={}));(function(e){e.Invoked=1,e.Automatic=2})(po||(po={}));(function(e){function t(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){let i=r;return O.defined(i)&&O.typedArray(i.diagnostics,uo.is)&&(i.only===void 0||O.typedArray(i.only,O.string))&&(i.triggerKind===void 0||i.triggerKind===po.Invoked||i.triggerKind===po.Automatic)}e.is=n})(Yf||(Yf={}));(function(e){function t(r,i,o){let s={title:r},a=!0;return typeof i=="string"?(a=!1,s.kind=i):mr.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return i&&O.string(i.title)&&(i.diagnostics===void 0||O.typedArray(i.diagnostics,uo.is))&&(i.kind===void 0||O.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||mr.is(i.command))&&(i.isPreferred===void 0||O.boolean(i.isPreferred))&&(i.edit===void 0||ic.is(i.edit))}e.is=n})(Zf||(Zf={}));(function(e){function t(r,i){let o={range:r};return O.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return O.defined(i)&&Ke.is(i.range)&&(O.undefined(i.command)||mr.is(i.command))}e.is=n})(eg||(eg={}));(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&O.uinteger(i.tabSize)&&O.boolean(i.insertSpaces)}e.is=n})(tg||(tg={}));(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return O.defined(i)&&Ke.is(i.range)&&(O.undefined(i.target)||O.string(i.target))}e.is=n})(ng||(ng={}));(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ke.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(rg||(rg={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ig||(ig={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(og||(og={}));(function(e){function t(n){let r=n;return O.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(sg||(sg={}));(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){let i=r;return i!=null&&Ke.is(i.range)&&O.string(i.text)}e.is=n})(ag||(ag={}));(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){let i=r;return i!=null&&Ke.is(i.range)&&O.boolean(i.caseSensitiveLookup)&&(O.string(i.variableName)||i.variableName===void 0)}e.is=n})(cg||(cg={}));(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){let i=r;return i!=null&&Ke.is(i.range)&&(O.string(i.expression)||i.expression===void 0)}e.is=n})(ug||(ug={}));(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){let i=r;return O.defined(i)&&Ke.is(r.stoppedLocation)}e.is=n})(lg||(lg={}));(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(ac||(ac={}));(function(e){function t(r){return{value:r}}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&(i.tooltip===void 0||O.string(i.tooltip)||si.is(i.tooltip))&&(i.location===void 0||co.is(i.location))&&(i.command===void 0||mr.is(i.command))}e.is=n})(cc||(cc={}));(function(e){function t(r,i,o){let s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return O.objectLiteral(i)&&Ut.is(i.position)&&(O.string(i.label)||O.typedArray(i.label,cc.is))&&(i.kind===void 0||ac.is(i.kind))&&i.textEdits===void 0||O.typedArray(i.textEdits,mn.is)&&(i.tooltip===void 0||O.string(i.tooltip)||si.is(i.tooltip))&&(i.paddingLeft===void 0||O.boolean(i.paddingLeft))&&(i.paddingRight===void 0||O.boolean(i.paddingRight))}e.is=n})(dg||(dg={}));(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(fg||(fg={}));(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(gg||(gg={}));(function(e){function t(n){return{items:n}}e.create=t})(pg||(pg={}));(function(e){e.Invoked=0,e.Automatic=1})(hg||(hg={}));(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(mg||(mg={}));(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(yg||(yg={}));(function(e){function t(n){let r=n;return O.objectLiteral(r)&&tc.is(r.uri)&&O.string(r.name)}e.is=t})(vg||(vg={}));hI=[`
`,`\r
`,"\r"];(function(e){function t(o,s,a,c){return new Sg(o,s,a,c)}e.create=t;function n(o){let s=o;return!!(O.defined(s)&&O.string(s.uri)&&(O.undefined(s.languageId)||O.string(s.languageId))&&O.uinteger(s.lineCount)&&O.func(s.getText)&&O.func(s.positionAt)&&O.func(s.offsetAt))}e.is=n;function r(o,s){let a=o.getText(),c=i(s,(d,l)=>{let p=d.range.start.line-l.range.start.line;return p===0?d.range.start.character-l.range.start.character:p}),u=a.length;for(let d=c.length-1;d>=0;d--){let l=c[d],p=o.offsetAt(l.range.start),f=o.offsetAt(l.range.end);if(f<=u)a=a.substring(0,p)+l.newText+a.substring(f,a.length);else throw new Error("Overlapping edit");u=p}return a}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let d=0,l=0,p=0;for(;d<c.length&&l<u.length;)s(c[d],u[l])<=0?o[p++]=c[d++]:o[p++]=u[l++];for(;d<c.length;)o[p++]=c[d++];for(;l<u.length;)o[p++]=u[l++];return o}})(bg||(bg={}));Sg=class{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Ut.create(0,t);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return Ut.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function n(f){return typeof f<"u"}e.defined=n;function r(f){return typeof f>"u"}e.undefined=r;function i(f){return f===!0||f===!1}e.boolean=i;function o(f){return t.call(f)==="[object String]"}e.string=o;function s(f){return t.call(f)==="[object Number]"}e.number=s;function a(f,g,h){return t.call(f)==="[object Number]"&&g<=f&&f<=h}e.numberRange=a;function c(f){return t.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}e.integer=c;function u(f){return t.call(f)==="[object Number]"&&0<=f&&f<=2147483647}e.uinteger=u;function d(f){return t.call(f)==="[object Function]"}e.func=d;function l(f){return f!==null&&typeof f=="object"}e.objectLiteral=l;function p(f,g){return Array.isArray(f)&&f.every(g)}e.typedArray=p})(O||(O={}))});var $e=S(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.ProtocolNotificationType=wt.ProtocolNotificationType0=wt.ProtocolRequestType=wt.ProtocolRequestType0=wt.RegistrationType=wt.MessageDirection=void 0;var ai=pr(),qS;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(qS||(wt.MessageDirection=qS={}));var _g=class{constructor(t){this.method=t}};wt.RegistrationType=_g;var Cg=class extends ai.RequestType0{constructor(t){super(t)}};wt.ProtocolRequestType0=Cg;var Dg=class extends ai.RequestType{constructor(t){super(t,ai.ParameterStructures.byName)}};wt.ProtocolRequestType=Dg;var Rg=class extends ai.NotificationType0{constructor(t){super(t)}};wt.ProtocolNotificationType0=Rg;var Pg=class extends ai.NotificationType{constructor(t){super(t,ai.ParameterStructures.byName)}};wt.ProtocolNotificationType=Pg});var dc=S(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.objectLiteral=Ze.typedArray=Ze.stringArray=Ze.array=Ze.func=Ze.error=Ze.number=Ze.string=Ze.boolean=void 0;function mI(e){return e===!0||e===!1}Ze.boolean=mI;function xS(e){return typeof e=="string"||e instanceof String}Ze.string=xS;function yI(e){return typeof e=="number"||e instanceof Number}Ze.number=yI;function vI(e){return e instanceof Error}Ze.error=vI;function bI(e){return typeof e=="function"}Ze.func=bI;function kS(e){return Array.isArray(e)}Ze.array=kS;function SI(e){return kS(e)&&e.every(t=>xS(t))}Ze.stringArray=SI;function _I(e,t){return Array.isArray(e)&&e.every(t)}Ze.typedArray=_I;function CI(e){return e!==null&&typeof e=="object"}Ze.objectLiteral=CI});var FS=S(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.ImplementationRequest=void 0;var OS=$e(),MS;(function(e){e.method="textDocument/implementation",e.messageDirection=OS.MessageDirection.clientToServer,e.type=new OS.ProtocolRequestType(e.method)})(MS||(fc.ImplementationRequest=MS={}))});var jS=S(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.TypeDefinitionRequest=void 0;var AS=$e(),IS;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=AS.MessageDirection.clientToServer,e.type=new AS.ProtocolRequestType(e.method)})(IS||(gc.TypeDefinitionRequest=IS={}))});var $S=S(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.DidChangeWorkspaceFoldersNotification=ci.WorkspaceFoldersRequest=void 0;var pc=$e(),NS;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=pc.MessageDirection.serverToClient,e.type=new pc.ProtocolRequestType0(e.method)})(NS||(ci.WorkspaceFoldersRequest=NS={}));var LS;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=pc.MessageDirection.clientToServer,e.type=new pc.ProtocolNotificationType(e.method)})(LS||(ci.DidChangeWorkspaceFoldersNotification=LS={}))});var HS=S(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.ConfigurationRequest=void 0;var WS=$e(),US;(function(e){e.method="workspace/configuration",e.messageDirection=WS.MessageDirection.serverToClient,e.type=new WS.ProtocolRequestType(e.method)})(US||(hc.ConfigurationRequest=US={}))});var zS=S(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.ColorPresentationRequest=ui.DocumentColorRequest=void 0;var mc=$e(),VS;(function(e){e.method="textDocument/documentColor",e.messageDirection=mc.MessageDirection.clientToServer,e.type=new mc.ProtocolRequestType(e.method)})(VS||(ui.DocumentColorRequest=VS={}));var BS;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=mc.MessageDirection.clientToServer,e.type=new mc.ProtocolRequestType(e.method)})(BS||(ui.ColorPresentationRequest=BS={}))});var JS=S(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.FoldingRangeRefreshRequest=li.FoldingRangeRequest=void 0;var yc=$e(),GS;(function(e){e.method="textDocument/foldingRange",e.messageDirection=yc.MessageDirection.clientToServer,e.type=new yc.ProtocolRequestType(e.method)})(GS||(li.FoldingRangeRequest=GS={}));var KS;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=yc.MessageDirection.serverToClient,e.type=new yc.ProtocolRequestType0(e.method)})(KS||(li.FoldingRangeRefreshRequest=KS={}))});var YS=S(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.DeclarationRequest=void 0;var XS=$e(),QS;(function(e){e.method="textDocument/declaration",e.messageDirection=XS.MessageDirection.clientToServer,e.type=new XS.ProtocolRequestType(e.method)})(QS||(vc.DeclarationRequest=QS={}))});var t_=S(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.SelectionRangeRequest=void 0;var ZS=$e(),e_;(function(e){e.method="textDocument/selectionRange",e.messageDirection=ZS.MessageDirection.clientToServer,e.type=new ZS.ProtocolRequestType(e.method)})(e_||(bc.SelectionRangeRequest=e_={}))});var o_=S(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.WorkDoneProgressCancelNotification=Vn.WorkDoneProgressCreateRequest=Vn.WorkDoneProgress=void 0;var DI=pr(),Sc=$e(),n_;(function(e){e.type=new DI.ProgressType;function t(n){return n===e.type}e.is=t})(n_||(Vn.WorkDoneProgress=n_={}));var r_;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Sc.MessageDirection.serverToClient,e.type=new Sc.ProtocolRequestType(e.method)})(r_||(Vn.WorkDoneProgressCreateRequest=r_={}));var i_;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Sc.MessageDirection.clientToServer,e.type=new Sc.ProtocolNotificationType(e.method)})(i_||(Vn.WorkDoneProgressCancelNotification=i_={}))});var u_=S(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.CallHierarchyOutgoingCallsRequest=Bn.CallHierarchyIncomingCallsRequest=Bn.CallHierarchyPrepareRequest=void 0;var di=$e(),s_;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=di.MessageDirection.clientToServer,e.type=new di.ProtocolRequestType(e.method)})(s_||(Bn.CallHierarchyPrepareRequest=s_={}));var a_;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=di.MessageDirection.clientToServer,e.type=new di.ProtocolRequestType(e.method)})(a_||(Bn.CallHierarchyIncomingCallsRequest=a_={}));var c_;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=di.MessageDirection.clientToServer,e.type=new di.ProtocolRequestType(e.method)})(c_||(Bn.CallHierarchyOutgoingCallsRequest=c_={}))});var h_=S(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.SemanticTokensRefreshRequest=Tt.SemanticTokensRangeRequest=Tt.SemanticTokensDeltaRequest=Tt.SemanticTokensRequest=Tt.SemanticTokensRegistrationType=Tt.TokenFormat=void 0;var kn=$e(),l_;(function(e){e.Relative="relative"})(l_||(Tt.TokenFormat=l_={}));var ho;(function(e){e.method="textDocument/semanticTokens",e.type=new kn.RegistrationType(e.method)})(ho||(Tt.SemanticTokensRegistrationType=ho={}));var d_;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=kn.MessageDirection.clientToServer,e.type=new kn.ProtocolRequestType(e.method),e.registrationMethod=ho.method})(d_||(Tt.SemanticTokensRequest=d_={}));var f_;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=kn.MessageDirection.clientToServer,e.type=new kn.ProtocolRequestType(e.method),e.registrationMethod=ho.method})(f_||(Tt.SemanticTokensDeltaRequest=f_={}));var g_;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=kn.MessageDirection.clientToServer,e.type=new kn.ProtocolRequestType(e.method),e.registrationMethod=ho.method})(g_||(Tt.SemanticTokensRangeRequest=g_={}));var p_;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=kn.MessageDirection.serverToClient,e.type=new kn.ProtocolRequestType0(e.method)})(p_||(Tt.SemanticTokensRefreshRequest=p_={}))});var v_=S(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.ShowDocumentRequest=void 0;var m_=$e(),y_;(function(e){e.method="window/showDocument",e.messageDirection=m_.MessageDirection.serverToClient,e.type=new m_.ProtocolRequestType(e.method)})(y_||(_c.ShowDocumentRequest=y_={}))});var __=S(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.LinkedEditingRangeRequest=void 0;var b_=$e(),S_;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=b_.MessageDirection.clientToServer,e.type=new b_.ProtocolRequestType(e.method)})(S_||(Cc.LinkedEditingRangeRequest=S_={}))});var q_=S(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.WillDeleteFilesRequest=ht.DidDeleteFilesNotification=ht.DidRenameFilesNotification=ht.WillRenameFilesRequest=ht.DidCreateFilesNotification=ht.WillCreateFilesRequest=ht.FileOperationPatternKind=void 0;var Ht=$e(),C_;(function(e){e.file="file",e.folder="folder"})(C_||(ht.FileOperationPatternKind=C_={}));var D_;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(D_||(ht.WillCreateFilesRequest=D_={}));var R_;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolNotificationType(e.method)})(R_||(ht.DidCreateFilesNotification=R_={}));var P_;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(P_||(ht.WillRenameFilesRequest=P_={}));var w_;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolNotificationType(e.method)})(w_||(ht.DidRenameFilesNotification=w_={}));var T_;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolNotificationType(e.method)})(T_||(ht.DidDeleteFilesNotification=T_={}));var E_;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(E_||(ht.WillDeleteFilesRequest=E_={}))});var F_=S(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.MonikerRequest=zn.MonikerKind=zn.UniquenessLevel=void 0;var x_=$e(),k_;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(k_||(zn.UniquenessLevel=k_={}));var O_;(function(e){e.$import="import",e.$export="export",e.local="local"})(O_||(zn.MonikerKind=O_={}));var M_;(function(e){e.method="textDocument/moniker",e.messageDirection=x_.MessageDirection.clientToServer,e.type=new x_.ProtocolRequestType(e.method)})(M_||(zn.MonikerRequest=M_={}))});var N_=S(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.TypeHierarchySubtypesRequest=Gn.TypeHierarchySupertypesRequest=Gn.TypeHierarchyPrepareRequest=void 0;var fi=$e(),A_;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})(A_||(Gn.TypeHierarchyPrepareRequest=A_={}));var I_;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})(I_||(Gn.TypeHierarchySupertypesRequest=I_={}));var j_;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})(j_||(Gn.TypeHierarchySubtypesRequest=j_={}))});var W_=S(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.InlineValueRefreshRequest=gi.InlineValueRequest=void 0;var Dc=$e(),L_;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolRequestType(e.method)})(L_||(gi.InlineValueRequest=L_={}));var $_;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Dc.MessageDirection.serverToClient,e.type=new Dc.ProtocolRequestType0(e.method)})($_||(gi.InlineValueRefreshRequest=$_={}))});var B_=S(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.InlayHintRefreshRequest=Kn.InlayHintResolveRequest=Kn.InlayHintRequest=void 0;var pi=$e(),U_;(function(e){e.method="textDocument/inlayHint",e.messageDirection=pi.MessageDirection.clientToServer,e.type=new pi.ProtocolRequestType(e.method)})(U_||(Kn.InlayHintRequest=U_={}));var H_;(function(e){e.method="inlayHint/resolve",e.messageDirection=pi.MessageDirection.clientToServer,e.type=new pi.ProtocolRequestType(e.method)})(H_||(Kn.InlayHintResolveRequest=H_={}));var V_;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=pi.MessageDirection.serverToClient,e.type=new pi.ProtocolRequestType0(e.method)})(V_||(Kn.InlayHintRefreshRequest=V_={}))});var Y_=S(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DiagnosticRefreshRequest=Vt.WorkspaceDiagnosticRequest=Vt.DocumentDiagnosticRequest=Vt.DocumentDiagnosticReportKind=Vt.DiagnosticServerCancellationData=void 0;var Q_=pr(),RI=dc(),hi=$e(),z_;(function(e){function t(n){let r=n;return r&&RI.boolean(r.retriggerRequest)}e.is=t})(z_||(Vt.DiagnosticServerCancellationData=z_={}));var G_;(function(e){e.Full="full",e.Unchanged="unchanged"})(G_||(Vt.DocumentDiagnosticReportKind=G_={}));var K_;(function(e){e.method="textDocument/diagnostic",e.messageDirection=hi.MessageDirection.clientToServer,e.type=new hi.ProtocolRequestType(e.method),e.partialResult=new Q_.ProgressType})(K_||(Vt.DocumentDiagnosticRequest=K_={}));var J_;(function(e){e.method="workspace/diagnostic",e.messageDirection=hi.MessageDirection.clientToServer,e.type=new hi.ProtocolRequestType(e.method),e.partialResult=new Q_.ProgressType})(J_||(Vt.WorkspaceDiagnosticRequest=J_={}));var X_;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=hi.MessageDirection.serverToClient,e.type=new hi.ProtocolRequestType0(e.method)})(X_||(Vt.DiagnosticRefreshRequest=X_={}))});var oC=S(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.DidCloseNotebookDocumentNotification=Je.DidSaveNotebookDocumentNotification=Je.DidChangeNotebookDocumentNotification=Je.NotebookCellArrayChange=Je.DidOpenNotebookDocumentNotification=Je.NotebookDocumentSyncRegistrationType=Je.NotebookDocument=Je.NotebookCell=Je.ExecutionSummary=Je.NotebookCellKind=void 0;var mo=(lc(),tr(uc)),en=dc(),yn=$e(),wg;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(wg||(Je.NotebookCellKind=wg={}));var Tg;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function n(i){let o=i;return en.objectLiteral(o)&&mo.uinteger.is(o.executionOrder)&&(o.success===void 0||en.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(Tg||(Je.ExecutionSummary=Tg={}));var Rc;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function n(o){let s=o;return en.objectLiteral(s)&&wg.is(s.kind)&&mo.DocumentUri.is(s.document)&&(s.metadata===void 0||en.objectLiteral(s.metadata))}e.is=n;function r(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Tg.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(en.objectLiteral(o)&&en.objectLiteral(s)){let u=Object.keys(o),d=Object.keys(s);if(u.length!==d.length||(u.sort(),d.sort(),!i(u,d)))return!1;for(let l=0;l<u.length;l++){let p=u[l];if(!i(o[p],s[p]))return!1}}return!0}})(Rc||(Je.NotebookCell=Rc={}));var Z_;(function(e){function t(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}e.create=t;function n(r){let i=r;return en.objectLiteral(i)&&en.string(i.uri)&&mo.integer.is(i.version)&&en.typedArray(i.cells,Rc.is)}e.is=n})(Z_||(Je.NotebookDocument=Z_={}));var mi;(function(e){e.method="notebookDocument/sync",e.messageDirection=yn.MessageDirection.clientToServer,e.type=new yn.RegistrationType(e.method)})(mi||(Je.NotebookDocumentSyncRegistrationType=mi={}));var eC;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=yn.MessageDirection.clientToServer,e.type=new yn.ProtocolNotificationType(e.method),e.registrationMethod=mi.method})(eC||(Je.DidOpenNotebookDocumentNotification=eC={}));var tC;(function(e){function t(r){let i=r;return en.objectLiteral(i)&&mo.uinteger.is(i.start)&&mo.uinteger.is(i.deleteCount)&&(i.cells===void 0||en.typedArray(i.cells,Rc.is))}e.is=t;function n(r,i,o){let s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=n})(tC||(Je.NotebookCellArrayChange=tC={}));var nC;(function(e){e.method="notebookDocument/didChange",e.messageDirection=yn.MessageDirection.clientToServer,e.type=new yn.ProtocolNotificationType(e.method),e.registrationMethod=mi.method})(nC||(Je.DidChangeNotebookDocumentNotification=nC={}));var rC;(function(e){e.method="notebookDocument/didSave",e.messageDirection=yn.MessageDirection.clientToServer,e.type=new yn.ProtocolNotificationType(e.method),e.registrationMethod=mi.method})(rC||(Je.DidSaveNotebookDocumentNotification=rC={}));var iC;(function(e){e.method="notebookDocument/didClose",e.messageDirection=yn.MessageDirection.clientToServer,e.type=new yn.ProtocolNotificationType(e.method),e.registrationMethod=mi.method})(iC||(Je.DidCloseNotebookDocumentNotification=iC={}))});var cC=S(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.InlineCompletionRequest=void 0;var sC=$e(),aC;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=sC.MessageDirection.clientToServer,e.type=new sC.ProtocolRequestType(e.method)})(aC||(Pc.InlineCompletionRequest=aC={}))});var _0=S(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.WorkspaceSymbolRequest=C.CodeActionResolveRequest=C.CodeActionRequest=C.DocumentSymbolRequest=C.DocumentHighlightRequest=C.ReferencesRequest=C.DefinitionRequest=C.SignatureHelpRequest=C.SignatureHelpTriggerKind=C.HoverRequest=C.CompletionResolveRequest=C.CompletionRequest=C.CompletionTriggerKind=C.PublishDiagnosticsNotification=C.WatchKind=C.RelativePattern=C.FileChangeType=C.DidChangeWatchedFilesNotification=C.WillSaveTextDocumentWaitUntilRequest=C.WillSaveTextDocumentNotification=C.TextDocumentSaveReason=C.DidSaveTextDocumentNotification=C.DidCloseTextDocumentNotification=C.DidChangeTextDocumentNotification=C.TextDocumentContentChangeEvent=C.DidOpenTextDocumentNotification=C.TextDocumentSyncKind=C.TelemetryEventNotification=C.LogMessageNotification=C.ShowMessageRequest=C.ShowMessageNotification=C.MessageType=C.DidChangeConfigurationNotification=C.ExitNotification=C.ShutdownRequest=C.InitializedNotification=C.InitializeErrorCodes=C.InitializeRequest=C.WorkDoneProgressOptions=C.TextDocumentRegistrationOptions=C.StaticRegistrationOptions=C.PositionEncodingKind=C.FailureHandlingKind=C.ResourceOperationKind=C.UnregistrationRequest=C.RegistrationRequest=C.DocumentSelector=C.NotebookCellTextDocumentFilter=C.NotebookDocumentFilter=C.TextDocumentFilter=void 0;C.MonikerRequest=C.MonikerKind=C.UniquenessLevel=C.WillDeleteFilesRequest=C.DidDeleteFilesNotification=C.WillRenameFilesRequest=C.DidRenameFilesNotification=C.WillCreateFilesRequest=C.DidCreateFilesNotification=C.FileOperationPatternKind=C.LinkedEditingRangeRequest=C.ShowDocumentRequest=C.SemanticTokensRegistrationType=C.SemanticTokensRefreshRequest=C.SemanticTokensRangeRequest=C.SemanticTokensDeltaRequest=C.SemanticTokensRequest=C.TokenFormat=C.CallHierarchyPrepareRequest=C.CallHierarchyOutgoingCallsRequest=C.CallHierarchyIncomingCallsRequest=C.WorkDoneProgressCancelNotification=C.WorkDoneProgressCreateRequest=C.WorkDoneProgress=C.SelectionRangeRequest=C.DeclarationRequest=C.FoldingRangeRefreshRequest=C.FoldingRangeRequest=C.ColorPresentationRequest=C.DocumentColorRequest=C.ConfigurationRequest=C.DidChangeWorkspaceFoldersNotification=C.WorkspaceFoldersRequest=C.TypeDefinitionRequest=C.ImplementationRequest=C.ApplyWorkspaceEditRequest=C.ExecuteCommandRequest=C.PrepareRenameRequest=C.RenameRequest=C.PrepareSupportDefaultBehavior=C.DocumentOnTypeFormattingRequest=C.DocumentRangesFormattingRequest=C.DocumentRangeFormattingRequest=C.DocumentFormattingRequest=C.DocumentLinkResolveRequest=C.DocumentLinkRequest=C.CodeLensRefreshRequest=C.CodeLensResolveRequest=C.CodeLensRequest=C.WorkspaceSymbolResolveRequest=void 0;C.InlineCompletionRequest=C.DidCloseNotebookDocumentNotification=C.DidSaveNotebookDocumentNotification=C.DidChangeNotebookDocumentNotification=C.NotebookCellArrayChange=C.DidOpenNotebookDocumentNotification=C.NotebookDocumentSyncRegistrationType=C.NotebookDocument=C.NotebookCell=C.ExecutionSummary=C.NotebookCellKind=C.DiagnosticRefreshRequest=C.WorkspaceDiagnosticRequest=C.DocumentDiagnosticRequest=C.DocumentDiagnosticReportKind=C.DiagnosticServerCancellationData=C.InlayHintRefreshRequest=C.InlayHintResolveRequest=C.InlayHintRequest=C.InlineValueRefreshRequest=C.InlineValueRequest=C.TypeHierarchySupertypesRequest=C.TypeHierarchySubtypesRequest=C.TypeHierarchyPrepareRequest=void 0;var H=$e(),uC=(lc(),tr(uc)),it=dc(),PI=FS();Object.defineProperty(C,"ImplementationRequest",{enumerable:!0,get:function(){return PI.ImplementationRequest}});var wI=jS();Object.defineProperty(C,"TypeDefinitionRequest",{enumerable:!0,get:function(){return wI.TypeDefinitionRequest}});var y0=$S();Object.defineProperty(C,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return y0.WorkspaceFoldersRequest}});Object.defineProperty(C,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return y0.DidChangeWorkspaceFoldersNotification}});var TI=HS();Object.defineProperty(C,"ConfigurationRequest",{enumerable:!0,get:function(){return TI.ConfigurationRequest}});var v0=zS();Object.defineProperty(C,"DocumentColorRequest",{enumerable:!0,get:function(){return v0.DocumentColorRequest}});Object.defineProperty(C,"ColorPresentationRequest",{enumerable:!0,get:function(){return v0.ColorPresentationRequest}});var b0=JS();Object.defineProperty(C,"FoldingRangeRequest",{enumerable:!0,get:function(){return b0.FoldingRangeRequest}});Object.defineProperty(C,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return b0.FoldingRangeRefreshRequest}});var EI=YS();Object.defineProperty(C,"DeclarationRequest",{enumerable:!0,get:function(){return EI.DeclarationRequest}});var qI=t_();Object.defineProperty(C,"SelectionRangeRequest",{enumerable:!0,get:function(){return qI.SelectionRangeRequest}});var Og=o_();Object.defineProperty(C,"WorkDoneProgress",{enumerable:!0,get:function(){return Og.WorkDoneProgress}});Object.defineProperty(C,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Og.WorkDoneProgressCreateRequest}});Object.defineProperty(C,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Og.WorkDoneProgressCancelNotification}});var Mg=u_();Object.defineProperty(C,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Mg.CallHierarchyIncomingCallsRequest}});Object.defineProperty(C,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Mg.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(C,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Mg.CallHierarchyPrepareRequest}});var yi=h_();Object.defineProperty(C,"TokenFormat",{enumerable:!0,get:function(){return yi.TokenFormat}});Object.defineProperty(C,"SemanticTokensRequest",{enumerable:!0,get:function(){return yi.SemanticTokensRequest}});Object.defineProperty(C,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return yi.SemanticTokensDeltaRequest}});Object.defineProperty(C,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return yi.SemanticTokensRangeRequest}});Object.defineProperty(C,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return yi.SemanticTokensRefreshRequest}});Object.defineProperty(C,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return yi.SemanticTokensRegistrationType}});var xI=v_();Object.defineProperty(C,"ShowDocumentRequest",{enumerable:!0,get:function(){return xI.ShowDocumentRequest}});var kI=__();Object.defineProperty(C,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return kI.LinkedEditingRangeRequest}});var yr=q_();Object.defineProperty(C,"FileOperationPatternKind",{enumerable:!0,get:function(){return yr.FileOperationPatternKind}});Object.defineProperty(C,"DidCreateFilesNotification",{enumerable:!0,get:function(){return yr.DidCreateFilesNotification}});Object.defineProperty(C,"WillCreateFilesRequest",{enumerable:!0,get:function(){return yr.WillCreateFilesRequest}});Object.defineProperty(C,"DidRenameFilesNotification",{enumerable:!0,get:function(){return yr.DidRenameFilesNotification}});Object.defineProperty(C,"WillRenameFilesRequest",{enumerable:!0,get:function(){return yr.WillRenameFilesRequest}});Object.defineProperty(C,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return yr.DidDeleteFilesNotification}});Object.defineProperty(C,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return yr.WillDeleteFilesRequest}});var Fg=F_();Object.defineProperty(C,"UniquenessLevel",{enumerable:!0,get:function(){return Fg.UniquenessLevel}});Object.defineProperty(C,"MonikerKind",{enumerable:!0,get:function(){return Fg.MonikerKind}});Object.defineProperty(C,"MonikerRequest",{enumerable:!0,get:function(){return Fg.MonikerRequest}});var Ag=N_();Object.defineProperty(C,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ag.TypeHierarchyPrepareRequest}});Object.defineProperty(C,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Ag.TypeHierarchySubtypesRequest}});Object.defineProperty(C,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Ag.TypeHierarchySupertypesRequest}});var S0=W_();Object.defineProperty(C,"InlineValueRequest",{enumerable:!0,get:function(){return S0.InlineValueRequest}});Object.defineProperty(C,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return S0.InlineValueRefreshRequest}});var Ig=B_();Object.defineProperty(C,"InlayHintRequest",{enumerable:!0,get:function(){return Ig.InlayHintRequest}});Object.defineProperty(C,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ig.InlayHintResolveRequest}});Object.defineProperty(C,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ig.InlayHintRefreshRequest}});var yo=Y_();Object.defineProperty(C,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return yo.DiagnosticServerCancellationData}});Object.defineProperty(C,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return yo.DocumentDiagnosticReportKind}});Object.defineProperty(C,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return yo.DocumentDiagnosticRequest}});Object.defineProperty(C,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return yo.WorkspaceDiagnosticRequest}});Object.defineProperty(C,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return yo.DiagnosticRefreshRequest}});var vn=oC();Object.defineProperty(C,"NotebookCellKind",{enumerable:!0,get:function(){return vn.NotebookCellKind}});Object.defineProperty(C,"ExecutionSummary",{enumerable:!0,get:function(){return vn.ExecutionSummary}});Object.defineProperty(C,"NotebookCell",{enumerable:!0,get:function(){return vn.NotebookCell}});Object.defineProperty(C,"NotebookDocument",{enumerable:!0,get:function(){return vn.NotebookDocument}});Object.defineProperty(C,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return vn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(C,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return vn.DidOpenNotebookDocumentNotification}});Object.defineProperty(C,"NotebookCellArrayChange",{enumerable:!0,get:function(){return vn.NotebookCellArrayChange}});Object.defineProperty(C,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return vn.DidChangeNotebookDocumentNotification}});Object.defineProperty(C,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return vn.DidSaveNotebookDocumentNotification}});Object.defineProperty(C,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return vn.DidCloseNotebookDocumentNotification}});var OI=cC();Object.defineProperty(C,"InlineCompletionRequest",{enumerable:!0,get:function(){return OI.InlineCompletionRequest}});var Eg;(function(e){function t(n){let r=n;return it.string(r)||it.string(r.language)||it.string(r.scheme)||it.string(r.pattern)}e.is=t})(Eg||(C.TextDocumentFilter=Eg={}));var qg;(function(e){function t(n){let r=n;return it.objectLiteral(r)&&(it.string(r.notebookType)||it.string(r.scheme)||it.string(r.pattern))}e.is=t})(qg||(C.NotebookDocumentFilter=qg={}));var xg;(function(e){function t(n){let r=n;return it.objectLiteral(r)&&(it.string(r.notebook)||qg.is(r.notebook))&&(r.language===void 0||it.string(r.language))}e.is=t})(xg||(C.NotebookCellTextDocumentFilter=xg={}));var kg;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!it.string(r)&&!Eg.is(r)&&!xg.is(r))return!1;return!0}e.is=t})(kg||(C.DocumentSelector=kg={}));var lC;(function(e){e.method="client/registerCapability",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(lC||(C.RegistrationRequest=lC={}));var dC;(function(e){e.method="client/unregisterCapability",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(dC||(C.UnregistrationRequest=dC={}));var fC;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(fC||(C.ResourceOperationKind=fC={}));var gC;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(gC||(C.FailureHandlingKind=gC={}));var pC;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(pC||(C.PositionEncodingKind=pC={}));var hC;(function(e){function t(n){let r=n;return r&&it.string(r.id)&&r.id.length>0}e.hasId=t})(hC||(C.StaticRegistrationOptions=hC={}));var mC;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||kg.is(r.documentSelector))}e.is=t})(mC||(C.TextDocumentRegistrationOptions=mC={}));var yC;(function(e){function t(r){let i=r;return it.objectLiteral(i)&&(i.workDoneProgress===void 0||it.boolean(i.workDoneProgress))}e.is=t;function n(r){let i=r;return i&&it.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=n})(yC||(C.WorkDoneProgressOptions=yC={}));var vC;(function(e){e.method="initialize",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(vC||(C.InitializeRequest=vC={}));var bC;(function(e){e.unknownProtocolVersion=1})(bC||(C.InitializeErrorCodes=bC={}));var SC;(function(e){e.method="initialized",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(SC||(C.InitializedNotification=SC={}));var _C;(function(e){e.method="shutdown",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType0(e.method)})(_C||(C.ShutdownRequest=_C={}));var CC;(function(e){e.method="exit",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType0(e.method)})(CC||(C.ExitNotification=CC={}));var DC;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(DC||(C.DidChangeConfigurationNotification=DC={}));var RC;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(RC||(C.MessageType=RC={}));var PC;(function(e){e.method="window/showMessage",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(PC||(C.ShowMessageNotification=PC={}));var wC;(function(e){e.method="window/showMessageRequest",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(wC||(C.ShowMessageRequest=wC={}));var TC;(function(e){e.method="window/logMessage",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(TC||(C.LogMessageNotification=TC={}));var EC;(function(e){e.method="telemetry/event",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(EC||(C.TelemetryEventNotification=EC={}));var qC;(function(e){e.None=0,e.Full=1,e.Incremental=2})(qC||(C.TextDocumentSyncKind=qC={}));var xC;(function(e){e.method="textDocument/didOpen",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(xC||(C.DidOpenTextDocumentNotification=xC={}));var kC;(function(e){function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=n})(kC||(C.TextDocumentContentChangeEvent=kC={}));var OC;(function(e){e.method="textDocument/didChange",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(OC||(C.DidChangeTextDocumentNotification=OC={}));var MC;(function(e){e.method="textDocument/didClose",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(MC||(C.DidCloseTextDocumentNotification=MC={}));var FC;(function(e){e.method="textDocument/didSave",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(FC||(C.DidSaveTextDocumentNotification=FC={}));var AC;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(AC||(C.TextDocumentSaveReason=AC={}));var IC;(function(e){e.method="textDocument/willSave",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(IC||(C.WillSaveTextDocumentNotification=IC={}));var jC;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(jC||(C.WillSaveTextDocumentWaitUntilRequest=jC={}));var NC;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(NC||(C.DidChangeWatchedFilesNotification=NC={}));var LC;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(LC||(C.FileChangeType=LC={}));var $C;(function(e){function t(n){let r=n;return it.objectLiteral(r)&&(uC.URI.is(r.baseUri)||uC.WorkspaceFolder.is(r.baseUri))&&it.string(r.pattern)}e.is=t})($C||(C.RelativePattern=$C={}));var WC;(function(e){e.Create=1,e.Change=2,e.Delete=4})(WC||(C.WatchKind=WC={}));var UC;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(UC||(C.PublishDiagnosticsNotification=UC={}));var HC;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(HC||(C.CompletionTriggerKind=HC={}));var VC;(function(e){e.method="textDocument/completion",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(VC||(C.CompletionRequest=VC={}));var BC;(function(e){e.method="completionItem/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(BC||(C.CompletionResolveRequest=BC={}));var zC;(function(e){e.method="textDocument/hover",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(zC||(C.HoverRequest=zC={}));var GC;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(GC||(C.SignatureHelpTriggerKind=GC={}));var KC;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(KC||(C.SignatureHelpRequest=KC={}));var JC;(function(e){e.method="textDocument/definition",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(JC||(C.DefinitionRequest=JC={}));var XC;(function(e){e.method="textDocument/references",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(XC||(C.ReferencesRequest=XC={}));var QC;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(QC||(C.DocumentHighlightRequest=QC={}));var YC;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(YC||(C.DocumentSymbolRequest=YC={}));var ZC;(function(e){e.method="textDocument/codeAction",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(ZC||(C.CodeActionRequest=ZC={}));var e0;(function(e){e.method="codeAction/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(e0||(C.CodeActionResolveRequest=e0={}));var t0;(function(e){e.method="workspace/symbol",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(t0||(C.WorkspaceSymbolRequest=t0={}));var n0;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(n0||(C.WorkspaceSymbolResolveRequest=n0={}));var r0;(function(e){e.method="textDocument/codeLens",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(r0||(C.CodeLensRequest=r0={}));var i0;(function(e){e.method="codeLens/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(i0||(C.CodeLensResolveRequest=i0={}));var o0;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType0(e.method)})(o0||(C.CodeLensRefreshRequest=o0={}));var s0;(function(e){e.method="textDocument/documentLink",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(s0||(C.DocumentLinkRequest=s0={}));var a0;(function(e){e.method="documentLink/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(a0||(C.DocumentLinkResolveRequest=a0={}));var c0;(function(e){e.method="textDocument/formatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(c0||(C.DocumentFormattingRequest=c0={}));var u0;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(u0||(C.DocumentRangeFormattingRequest=u0={}));var l0;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(l0||(C.DocumentRangesFormattingRequest=l0={}));var d0;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(d0||(C.DocumentOnTypeFormattingRequest=d0={}));var f0;(function(e){e.Identifier=1})(f0||(C.PrepareSupportDefaultBehavior=f0={}));var g0;(function(e){e.method="textDocument/rename",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(g0||(C.RenameRequest=g0={}));var p0;(function(e){e.method="textDocument/prepareRename",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(p0||(C.PrepareRenameRequest=p0={}));var h0;(function(e){e.method="workspace/executeCommand",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(h0||(C.ExecuteCommandRequest=h0={}));var m0;(function(e){e.method="workspace/applyEdit",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType("workspace/applyEdit")})(m0||(C.ApplyWorkspaceEditRequest=m0={}))});var D0=S(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.createProtocolConnection=void 0;var C0=pr();function MI(e,t,n,r){return C0.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,C0.createMessageConnection)(e,t,n,r)}wc.createProtocolConnection=MI});var P0=S(Et=>{"use strict";var FI=Et&&Et.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Tc=Et&&Et.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&FI(t,e,n)};Object.defineProperty(Et,"__esModule",{value:!0});Et.LSPErrorCodes=Et.createProtocolConnection=void 0;Tc(pr(),Et);Tc((lc(),tr(uc)),Et);Tc($e(),Et);Tc(_0(),Et);var AI=D0();Object.defineProperty(Et,"createProtocolConnection",{enumerable:!0,get:function(){return AI.createProtocolConnection}});var R0;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(R0||(Et.LSPErrorCodes=R0={}))});var Xe=S(bn=>{"use strict";var II=bn&&bn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),w0=bn&&bn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&II(t,e,n)};Object.defineProperty(bn,"__esModule",{value:!0});bn.createProtocolConnection=void 0;var jI=vf();w0(vf(),bn);w0(P0(),bn);function NI(e,t,n,r){return(0,jI.createMessageConnection)(e,t,n,r)}bn.createProtocolConnection=NI});var Ng=S(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.SemanticTokensBuilder=Jn.SemanticTokensDiff=Jn.SemanticTokensFeature=void 0;var Ec=Xe(),LI=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Ec.SemanticTokensRefreshRequest.type),on:t=>{let n=Ec.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=Ec.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=Ec.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Jn.SemanticTokensFeature=LI;var qc=class{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){let t=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);let s=i-r+1,a=this.modifiedSequence.slice(r,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:a}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}};Jn.SemanticTokensDiff=qc;var jg=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let s=t,a=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new qc(this._prevData,this._data).computeDiff()}:this.build()}};Jn.SemanticTokensBuilder=jg});var T0=S(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.InlineCompletionFeature=void 0;var $I=Xe(),WI=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest($I.InlineCompletionRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};xc.InlineCompletionFeature=WI});var $g=S(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.TextDocuments=void 0;var vr=Xe(),Lg=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new vr.Emitter,this._onDidOpen=new vr.Emitter,this._onDidClose=new vr.Emitter,this._onDidSave=new vr.Emitter,this._onWillSave=new vr.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=vr.TextDocumentSyncKind.Incremental;let n=[];return n.push(t.onDidOpenTextDocument(r=>{let i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(t.onDidChangeTextDocument(r=>{let i=r.textDocument,o=r.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),vr.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};kc.TextDocuments=Lg});var Ug=S(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.NotebookDocuments=vi.NotebookSyncFeature=void 0;var Bt=Xe(),E0=$g(),UI=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Bt.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Bt.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Bt.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Bt.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};vi.NotebookSyncFeature=UI;var Oc=class e{onDidOpenTextDocument(t){return this.openHandler=t,Bt.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Bt.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Bt.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};Oc.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Wg=class{constructor(t){t instanceof E0.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new E0.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Bt.Emitter,this._onDidChange=new Bt.Emitter,this._onDidSave=new Bt.Emitter,this._onDidClose=new Bt.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){let n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let n=new Oc,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,c=i.change;c.metadata!==void 0&&(a=!0,o.metadata=c.metadata);let u=[],d=[],l=[],p=[];if(c.cells!==void 0){let m=c.cells;if(m.structure!==void 0){let y=m.structure.array;if(o.cells.splice(y.start,y.deleteCount,...y.cells!==void 0?y.cells:[]),m.structure.didOpen!==void 0)for(let v of m.structure.didOpen)n.openTextDocument({textDocument:v}),u.push(v.uri);if(m.structure.didClose)for(let v of m.structure.didClose)n.closeTextDocument({textDocument:v}),d.push(v.uri)}if(m.data!==void 0){let y=new Map(m.data.map(v=>[v.document,v]));for(let v=0;v<=o.cells.length;v++){let R=y.get(o.cells[v].document);if(R!==void 0){let P=o.cells.splice(v,1,R);if(l.push({old:P[0],new:R}),y.delete(R.document),y.size===0)break}}}if(m.textContent!==void 0)for(let y of m.textContent)n.changeTextDocument({textDocument:y.document,contentChanges:y.changes}),p.push(y.document.uri)}this.updateCellMap(o);let f={notebookDocument:o};a&&(f.metadata={old:s,new:o.metadata});let g=[];for(let m of u)g.push(this.getNotebookCell(m));let h=[];for(let m of d)h.push(this.getNotebookCell(m));let b=[];for(let m of p)b.push(this.getNotebookCell(m));(g.length>0||h.length>0||l.length>0||b.length>0)&&(f.cells={added:g,removed:h,changed:{data:l,textContent:b}}),(f.metadata!==void 0||f.cells!==void 0)&&this._onDidChange.fire(f)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),Bt.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(let n of t.cells)this.notebookCellMap.set(n.document,[n,t])}};vi.NotebookDocuments=Wg});var Hg=S(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.thenable=et.typedArray=et.stringArray=et.array=et.func=et.error=et.number=et.string=et.boolean=void 0;function HI(e){return e===!0||e===!1}et.boolean=HI;function q0(e){return typeof e=="string"||e instanceof String}et.string=q0;function VI(e){return typeof e=="number"||e instanceof Number}et.number=VI;function BI(e){return e instanceof Error}et.error=BI;function x0(e){return typeof e=="function"}et.func=x0;function k0(e){return Array.isArray(e)}et.array=k0;function zI(e){return k0(e)&&e.every(t=>q0(t))}et.stringArray=zI;function GI(e,t){return Array.isArray(e)&&e.every(t)}et.typedArray=GI;function KI(e){return e&&x0(e.then)}et.thenable=KI});var Vg=S(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.generateUuid=zt.parse=zt.isUUID=zt.v4=zt.empty=void 0;var vo=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},bo=class e extends vo{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};bo._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];bo._timeHighBits=["8","9","a","b"];zt.empty=new vo("00000000-0000-0000-0000-000000000000");function O0(){return new bo}zt.v4=O0;var JI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function M0(e){return JI.test(e)}zt.isUUID=M0;function XI(e){if(!M0(e))throw new Error("invalid uuid");return new vo(e)}zt.parse=XI;function QI(){return O0().asHex()}zt.generateUuid=QI});var F0=S(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.attachPartialResult=Qn.ProgressFeature=Qn.attachWorkDone=void 0;var Xn=Xe(),YI=Vg(),br=class e{constructor(t,n){this._connection=t,this._token=n,e.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Xn.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(Xn.WorkDoneProgress.type,this._token,r)}done(){e.Instances.delete(this._token),this._connection.sendProgress(Xn.WorkDoneProgress.type,this._token,{kind:"end"})}};br.Instances=new Map;var Mc=class extends br{constructor(t,n){super(t,n),this._source=new Xn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},So=class{constructor(){}begin(){}report(){}done(){}},Fc=class extends So{constructor(){super(),this._source=new Xn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function ZI(e,t){if(t===void 0||t.workDoneToken===void 0)return new So;let n=t.workDoneToken;return delete t.workDoneToken,new br(e,n)}Qn.attachWorkDone=ZI;var ej=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Xn.WorkDoneProgressCancelNotification.type,n=>{let r=br.Instances.get(n.token);(r instanceof Mc||r instanceof Fc)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new So:new br(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,YI.generateUuid)();return this.connection.sendRequest(Xn.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Mc(this.connection,t))}else return Promise.resolve(new Fc)}};Qn.ProgressFeature=ej;var Bg;(function(e){e.type=new Xn.ProgressType})(Bg||(Bg={}));var zg=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Bg.type,this._token,t)}};function tj(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new zg(e,n)}Qn.attachPartialResult=tj});var A0=S(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.ConfigurationFeature=void 0;var nj=Xe(),rj=Hg(),ij=e=>class extends e{getConfiguration(t){return t?rj.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(nj.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};Ac.ConfigurationFeature=ij});var I0=S(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.WorkspaceFoldersFeature=void 0;var Ic=Xe(),oj=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ic.Emitter,this.connection.onNotification(Ic.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Ic.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Ic.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};jc.WorkspaceFoldersFeature=oj});var j0=S(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.CallHierarchyFeature=void 0;var Gg=Xe(),sj=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Gg.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{let n=Gg.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=Gg.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Nc.CallHierarchyFeature=sj});var N0=S(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.ShowDocumentFeature=void 0;var aj=Xe(),cj=e=>class extends e{showDocument(t){return this.connection.sendRequest(aj.ShowDocumentRequest.type,t)}};Lc.ShowDocumentFeature=cj});var L0=S($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.FileOperationsFeature=void 0;var bi=Xe(),uj=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(bi.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(bi.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(bi.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(bi.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(bi.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(bi.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};$c.FileOperationsFeature=uj});var $0=S(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.LinkedEditingRangeFeature=void 0;var lj=Xe(),dj=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(lj.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};Wc.LinkedEditingRangeFeature=dj});var W0=S(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.TypeHierarchyFeature=void 0;var Kg=Xe(),fj=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Kg.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{let n=Kg.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{let n=Kg.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Uc.TypeHierarchyFeature=fj});var H0=S(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.InlineValueFeature=void 0;var U0=Xe(),gj=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(U0.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(U0.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};Hc.InlineValueFeature=gj});var B0=S(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.FoldingRangeFeature=void 0;var V0=Xe(),pj=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(V0.FoldingRangeRefreshRequest.type),on:t=>{let n=V0.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Vc.FoldingRangeFeature=pj});var z0=S(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.InlayHintFeature=void 0;var Jg=Xe(),hj=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Jg.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Jg.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(Jg.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};Bc.InlayHintFeature=hj});var G0=S(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.DiagnosticFeature=void 0;var _o=Xe(),mj=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(_o.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(_o.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_o.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(_o.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_o.WorkspaceDiagnosticRequest.partialResult,n)))}}};zc.DiagnosticFeature=mj});var K0=S(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.MonikerFeature=void 0;var yj=Xe(),vj=e=>class extends e{get moniker(){return{on:t=>{let n=yj.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Gc.MonikerFeature=vj});var uD=S(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.createConnection=Se.combineFeatures=Se.combineNotebooksFeatures=Se.combineLanguagesFeatures=Se.combineWorkspaceFeatures=Se.combineWindowFeatures=Se.combineClientFeatures=Se.combineTracerFeatures=Se.combineTelemetryFeatures=Se.combineConsoleFeatures=Se._NotebooksImpl=Se._LanguagesImpl=Se.BulkUnregistration=Se.BulkRegistration=Se.ErrorMessageTracker=void 0;var K=Xe(),Gt=Hg(),Qg=Vg(),oe=F0(),bj=A0(),Sj=I0(),_j=j0(),Cj=Ng(),Dj=N0(),Rj=L0(),Pj=$0(),wj=W0(),Tj=H0(),Ej=B0(),qj=z0(),xj=G0(),kj=Ug(),Oj=K0();function Xg(e){if(e!==null)return e}var Yg=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};Se.ErrorMessageTracker=Yg;var Kc=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(K.MessageType.Error,t)}warn(t){this.send(K.MessageType.Warning,t)}info(t){this.send(K.MessageType.Info,t)}log(t){this.send(K.MessageType.Log,t)}debug(t){this.send(K.MessageType.Debug,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(K.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,K.RAL)().console.error("Sending log message failed")})}},Zg=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:K.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(K.ShowMessageRequest.type,r).then(Xg)}showWarningMessage(t,...n){let r={type:K.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(K.ShowMessageRequest.type,r).then(Xg)}showInformationMessage(t,...n){let r={type:K.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(K.ShowMessageRequest.type,r).then(Xg)}},J0=(0,Dj.ShowDocumentFeature)((0,oe.ProgressFeature)(Zg)),X0;(function(e){function t(){return new Jc}e.create=t})(X0||(Se.BulkRegistration=X0={}));var Jc=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=Gt.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Qg.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Q0;(function(e){function t(){return new Co(void 0,[])}e.create=t})(Q0||(Se.BulkUnregistration=Q0={}));var Co=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(K.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=Gt.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(K.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Xc=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof Jc?this.registerMany(t):t instanceof Co?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let i=Gt.string(n)?n:n.method,o=Qg.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(K.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,n){let r=Gt.string(t)?t:t.method,i=Qg.generateUuid(),o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(K.RegistrationRequest.type,o).then(s=>K.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(K.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(K.RegistrationRequest.type,n).then(()=>new Co(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},ep=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(K.ApplyWorkspaceEditRequest.type,r)}},Y0=(0,Rj.FileOperationsFeature)((0,Sj.WorkspaceFoldersFeature)((0,bj.ConfigurationFeature)(ep))),Qc=class{constructor(){this._trace=K.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==K.Trace.Off&&this.connection.sendNotification(K.LogTraceNotification.type,{message:t,verbose:this._trace===K.Trace.Verbose?n:void 0}).catch(()=>{})}},Yc=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(K.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},Zc=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,oe.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,oe.attachPartialResult)(this.connection,n)}};Se._LanguagesImpl=Zc;var Z0=(0,Ej.FoldingRangeFeature)((0,Oj.MonikerFeature)((0,xj.DiagnosticFeature)((0,qj.InlayHintFeature)((0,Tj.InlineValueFeature)((0,wj.TypeHierarchyFeature)((0,Pj.LinkedEditingRangeFeature)((0,Cj.SemanticTokensFeature)((0,_j.CallHierarchyFeature)(Zc))))))))),eu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,oe.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,oe.attachPartialResult)(this.connection,n)}};Se._NotebooksImpl=eu;var eD=(0,kj.NotebookSyncFeature)(eu);function tD(e,t){return function(n){return t(e(n))}}Se.combineConsoleFeatures=tD;function nD(e,t){return function(n){return t(e(n))}}Se.combineTelemetryFeatures=nD;function rD(e,t){return function(n){return t(e(n))}}Se.combineTracerFeatures=rD;function iD(e,t){return function(n){return t(e(n))}}Se.combineClientFeatures=iD;function oD(e,t){return function(n){return t(e(n))}}Se.combineWindowFeatures=oD;function sD(e,t){return function(n){return t(e(n))}}Se.combineWorkspaceFeatures=sD;function aD(e,t){return function(n){return t(e(n))}}Se.combineLanguagesFeatures=aD;function cD(e,t){return function(n){return t(e(n))}}Se.combineNotebooksFeatures=cD;function Mj(e,t){function n(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:n(e.console,t.console,tD),tracer:n(e.tracer,t.tracer,rD),telemetry:n(e.telemetry,t.telemetry,nD),client:n(e.client,t.client,iD),window:n(e.window,t.window,oD),workspace:n(e.workspace,t.workspace,sD),languages:n(e.languages,t.languages,aD),notebooks:n(e.notebooks,t.notebooks,cD)}}Se.combineFeatures=Mj;function Fj(e,t,n){let r=n&&n.console?new(n.console(Kc)):new Kc,i=e(r);r.rawAttach(i);let o=n&&n.tracer?new(n.tracer(Qc)):new Qc,s=n&&n.telemetry?new(n.telemetry(Yc)):new Yc,a=n&&n.client?new(n.client(Xc)):new Xc,c=n&&n.window?new(n.window(J0)):new J0,u=n&&n.workspace?new(n.workspace(Y0)):new Y0,d=n&&n.languages?new(n.languages(Z0)):new Z0,l=n&&n.notebooks?new(n.notebooks(eD)):new eD,p=[r,o,s,a,c,u,d,l];function f(y){return y instanceof Promise?y:Gt.thenable(y)?new Promise((v,R)=>{y.then(P=>v(P),P=>R(P))}):Promise.resolve(y)}let g,h,b,m={listen:()=>i.listen(),sendRequest:(y,...v)=>i.sendRequest(Gt.string(y)?y:y.method,...v),onRequest:(y,v)=>i.onRequest(y,v),sendNotification:(y,v)=>{let R=Gt.string(y)?y:y.method;return i.sendNotification(R,v)},onNotification:(y,v)=>i.onNotification(y,v),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:y=>(h=y,{dispose:()=>{h=void 0}}),onInitialized:y=>i.onNotification(K.InitializedNotification.type,y),onShutdown:y=>(g=y,{dispose:()=>{g=void 0}}),onExit:y=>(b=y,{dispose:()=>{b=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return c},get workspace(){return u},get languages(){return d},get notebooks(){return l},onDidChangeConfiguration:y=>i.onNotification(K.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>i.onNotification(K.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>i.onNotification(K.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>i.onNotification(K.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>i.onNotification(K.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>i.onNotification(K.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>i.onRequest(K.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>i.onNotification(K.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>i.sendNotification(K.PublishDiagnosticsNotification.type,y),onHover:y=>i.onRequest(K.HoverRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),onCompletion:y=>i.onRequest(K.CompletionRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCompletionResolve:y=>i.onRequest(K.CompletionResolveRequest.type,y),onSignatureHelp:y=>i.onRequest(K.SignatureHelpRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),onDeclaration:y=>i.onRequest(K.DeclarationRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDefinition:y=>i.onRequest(K.DefinitionRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onTypeDefinition:y=>i.onRequest(K.TypeDefinitionRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onImplementation:y=>i.onRequest(K.ImplementationRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onReferences:y=>i.onRequest(K.ReferencesRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentHighlight:y=>i.onRequest(K.DocumentHighlightRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentSymbol:y=>i.onRequest(K.DocumentSymbolRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onWorkspaceSymbol:y=>i.onRequest(K.WorkspaceSymbolRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onWorkspaceSymbolResolve:y=>i.onRequest(K.WorkspaceSymbolResolveRequest.type,y),onCodeAction:y=>i.onRequest(K.CodeActionRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCodeActionResolve:y=>i.onRequest(K.CodeActionResolveRequest.type,(v,R)=>y(v,R)),onCodeLens:y=>i.onRequest(K.CodeLensRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCodeLensResolve:y=>i.onRequest(K.CodeLensResolveRequest.type,(v,R)=>y(v,R)),onDocumentFormatting:y=>i.onRequest(K.DocumentFormattingRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),onDocumentRangeFormatting:y=>i.onRequest(K.DocumentRangeFormattingRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),onDocumentOnTypeFormatting:y=>i.onRequest(K.DocumentOnTypeFormattingRequest.type,(v,R)=>y(v,R)),onRenameRequest:y=>i.onRequest(K.RenameRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),onPrepareRename:y=>i.onRequest(K.PrepareRenameRequest.type,(v,R)=>y(v,R)),onDocumentLinks:y=>i.onRequest(K.DocumentLinkRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentLinkResolve:y=>i.onRequest(K.DocumentLinkResolveRequest.type,(v,R)=>y(v,R)),onDocumentColor:y=>i.onRequest(K.DocumentColorRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onColorPresentation:y=>i.onRequest(K.ColorPresentationRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onFoldingRanges:y=>i.onRequest(K.FoldingRangeRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onSelectionRanges:y=>i.onRequest(K.SelectionRangeRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onExecuteCommand:y=>i.onRequest(K.ExecuteCommandRequest.type,(v,R)=>y(v,R,(0,oe.attachWorkDone)(i,v),void 0)),dispose:()=>i.dispose()};for(let y of p)y.attach(m);return i.onRequest(K.InitializeRequest.type,y=>{t.initialize(y),Gt.string(y.trace)&&(o.trace=K.Trace.fromString(y.trace));for(let v of p)v.initialize(y.capabilities);if(h){let v=h(y,new K.CancellationTokenSource().token,(0,oe.attachWorkDone)(i,y),void 0);return f(v).then(R=>{if(R instanceof K.ResponseError)return R;let P=R;P||(P={capabilities:{}});let _=P.capabilities;_||(_={},P.capabilities=_),_.textDocumentSync===void 0||_.textDocumentSync===null?_.textDocumentSync=Gt.number(m.__textDocumentSync)?m.__textDocumentSync:K.TextDocumentSyncKind.None:!Gt.number(_.textDocumentSync)&&!Gt.number(_.textDocumentSync.change)&&(_.textDocumentSync.change=Gt.number(m.__textDocumentSync)?m.__textDocumentSync:K.TextDocumentSyncKind.None);for(let D of p)D.fillServerCapabilities(_);return P})}else{let v={capabilities:{textDocumentSync:K.TextDocumentSyncKind.None}};for(let R of p)R.fillServerCapabilities(v.capabilities);return v}}),i.onRequest(K.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,g)return g(new K.CancellationTokenSource().token)}),i.onNotification(K.ExitNotification.type,()=>{try{b&&b()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(K.SetTraceNotification.type,y=>{o.trace=K.Trace.fromString(y.value)}),m}Se.createConnection=Fj});var tp=S(mt=>{"use strict";var Aj=mt&&mt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),dD=mt&&mt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Aj(t,e,n)};Object.defineProperty(mt,"__esModule",{value:!0});mt.ProposedFeatures=mt.NotebookDocuments=mt.TextDocuments=mt.SemanticTokensBuilder=void 0;var Ij=Ng();Object.defineProperty(mt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Ij.SemanticTokensBuilder}});var jj=T0();dD(Xe(),mt);var Nj=$g();Object.defineProperty(mt,"TextDocuments",{enumerable:!0,get:function(){return Nj.TextDocuments}});var Lj=Ug();Object.defineProperty(mt,"NotebookDocuments",{enumerable:!0,get:function(){return Lj.NotebookDocuments}});dD(uD(),mt);var lD;(function(e){e.all={__brand:"features",languages:jj.InlineCompletionFeature}})(lD||(mt.ProposedFeatures=lD={}))});var gD=S((OH,fD)=>{"use strict";fD.exports=Xe()});var On=S(Sn=>{"use strict";var $j=Sn&&Sn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hD=Sn&&Sn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&$j(t,e,n)};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.createConnection=void 0;var tu=tp();hD(gD(),Sn);hD(tp(),Sn);var pD=!1,Wj={initialize:e=>{},get shutdownReceived(){return pD},set shutdownReceived(e){pD=e},exit:e=>{}};function Uj(e,t,n,r){let i,o,s,a;e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=n,n=r),tu.ConnectionStrategy.is(e)||tu.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=n);let c=u=>(0,tu.createProtocolConnection)(o,s,u,a);return(0,tu.createConnection)(c,Wj,i)}Sn.createConnection=Uj});var np=S((FH,mD)=>{"use strict";mD.exports=On()});var rp=S(yD=>{(()=>{"use strict";var e={};(()=>{var r=e;Object.defineProperty(r,"__esModule",{value:!0}),r.getErrorStatusDescription=r.xhr=r.configure=void 0,r.configure=(i,o)=>{},r.xhr=async i=>{let o=new Headers;if(i.headers)for(let l in i.headers){let p=i.headers[l];Array.isArray(p)?p.forEach(f=>o.set(l,f)):o.set(l,p)}i.user&&i.password&&o.set("Authorization","Basic "+btoa(i.user+":"+i.password));let s={method:i.type,redirect:i.followRedirects>0?"follow":"manual",mode:"cors",headers:o};if(i.data&&(s.body=i.data),i.token){let l=new AbortController;i.token.isCancellationRequested&&l.abort(),i.token.onCancellationRequested(()=>{l.abort()}),s.signal=l.signal}let a=new Request(i.url,s),c=await fetch(a),u={};c.headers.forEach((l,p)=>{u[p]=l});let d=await c.arrayBuffer();return new class{constructor(){this.status=c.status,this.headers=u}get responseText(){return new TextDecoder().decode(d)}get body(){return new Uint8Array(d)}}},r.getErrorStatusDescription=function(i){return String(i)}})();var t=yD;for(var n in e)t[n]=e[n];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})()});var bD=S(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var vD=rp();function Hj(e){let t={"Accept-Encoding":"gzip, deflate"};return(0,vD.xhr)({url:e,followRedirects:5,headers:t}).then(n=>{if(n.status===200)return n.responseText},n=>Promise.reject(n.responseText||(0,vD.getErrorStatusDescription)(n.status)||n.toString()))}ip.default=Hj});var SD=S(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.combineChangeRanges=void 0;function Vj(...e){let t=e[0];for(let n=1;n<e.length;n++){let r=e[n];t=Bj(t,r)}return t}nu.combineChangeRanges=Vj;function Bj(e,t){let n=e.span.start,r=e.span.start+e.span.length,i=e.newLength-e.span.length,o=n+Math.min(e.span.length,e.newLength),s=g=>g>o?Math.max(n,g-i):g,a=s(t.span.start),c=s(t.span.start+t.span.length),u=t.newLength-t.span.length,d=Math.min(n,a),p=Math.max(r,c)-d,f=i+u+p;return{span:{start:d,length:p},newLength:f}}});var _D=S(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.SnapshotDocument=void 0;var op=(Ys(),tr(Qs)),zj=SD(),sp=class{constructor(t,n,r,i){this.snapshots=[],this.document=op.TextDocument.create(t,n,r,i),this.resetChanges()}get uri(){return this.document.uri}get languageId(){return this.document.languageId}get version(){return this.document.version}get lineCount(){return this.document.lineCount}getText(t){return this.document.getText(t)}positionAt(t){return this.document.positionAt(t)}offsetAt(t){return this.document.offsetAt(t)}update(t,n){if(t.every(r=>"range"in r)){let{minStart:r,oldLength:i,lengthDiff:o}=this.calculateChangeRange(t);op.TextDocument.update(this.document,t,n),this.snapshots.push({changeRange:{span:{start:r,length:i},newLength:i+o},version:n,ref:void 0})}else op.TextDocument.update(this.document,t,n),this.resetChanges()}getSnapshot(){this.clearUnreferencedVersions();let t=this.snapshots[this.snapshots.length-1];if(!t.ref){let n=this.document.getText(),r=new WeakMap,i={getText:(o,s)=>n.substring(o,s),getLength:()=>n.length,getChangeRange:o=>{if(!r.has(o)){let s=this.snapshots.findIndex(a=>a.ref?.deref()===o);if(s>=0){let a=s+1,c=this.snapshots.indexOf(t)+1,u=this.snapshots.slice(a,c).map(l=>l.changeRange),d=(0,zj.combineChangeRanges)(...u);r.set(o,d)}else r.set(o,void 0)}return r.get(o)}};t.ref=new WeakRef(i)}return t.ref.deref()}resetChanges(){this.snapshots=[{changeRange:{span:{start:0,length:0},newLength:this.document.getText().length},version:this.document.version,ref:void 0}]}calculateChangeRange(t){let n=0,r=[],i=[];for(let c of t){if(!("range"in c))continue;let u=this.offsetAt(c.range.start),d=c.rangeLength??this.offsetAt(c.range.end)-u,l=u+d;r.push(u),i.push(l),n+=c.text.length-d}let o=Math.min(...r),a=Math.max(...i)-o;return{minStart:o,oldLength:a,lengthDiff:n}}clearUnreferencedVersions(){let t=0;for(;t<this.snapshots.length-1&&!this.snapshots[t].ref?.deref();)t++;this.snapshots=this.snapshots.slice(t)}};ru.SnapshotDocument=sp});var CD=S(Sr=>{"use strict";var Gj=Sr&&Sr.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Kj=Sr&&Sr.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gj(t,e,n)};Object.defineProperty(Sr,"__esModule",{value:!0});Kj(_D(),Sr)});var PD={};_u(PD,{config:()=>Qj,t:()=>RD});async function Jj(e){if(e.protocol==="http:"||e.protocol==="https:")return await(await fetch(e)).text();throw new Error("Unsupported protocol")}function Xj(e){throw new Error("Unsupported in browser")}function Qj(e){if("contents"in e){typeof e.contents=="string"?Do=JSON.parse(e.contents):Do=e.contents;return}if("fsPath"in e){let t=Xj(e.fsPath),n=JSON.parse(t);Do=DD(n)?n.contents.bundle:n;return}if(e.uri){let t=e.uri;return typeof e.uri=="string"&&(t=new URL(e.uri)),new Promise((n,r)=>{let i=Jj(t).then(o=>{try{let s=JSON.parse(o);Do=DD(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(o=>{r(o)});n(i)})}}function RD(...e){let t=e[0],n,r,i;if(typeof t=="string")n=t,r=t,e.splice(0,1),i=!e||typeof e[0]!="object"?e:e[0];else if(t instanceof Array){let s=e.slice(1);if(t.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=t[0];for(let c=1;c<t.length;c++)a+=`{${c-1}}`+t[c];return RD(a,...s)}else r=t.message,n=r,t.comment&&t.comment.length>0&&(n+=`/${Array.isArray(t.comment)?t.comment.join(""):t.comment}`),i=t.args??{};let o=Do?.[n];return o?typeof o=="string"?iu(o,i):o.comment?iu(o.message,i):iu(r,i):iu(r,i)}function iu(e,t){return e.replace(Yj,(n,r)=>t[r]??n)}function DD(e){return typeof e?.contents?.bundle=="object"&&typeof e?.version=="string"}var Do,Yj,wD=Su(()=>{Yj=/{([^}]+)}/g});var TD=S(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.createConfigurationHost=void 0;var Zj=On();function eN(e,t){let n=new Set,r=new Map;return t.onDidChangeConfiguration(async()=>{r.clear();for(let o of n)o()}),{ready(){e.capabilities.workspace?.didChangeConfiguration?.dynamicRegistration&&t.client.register(Zj.DidChangeConfigurationNotification.type)},async getConfiguration(o,s){return!s&&e.capabilities.workspace?.didChangeConfiguration?(r.has(o)||r.set(o,await i(o,s)),r.get(o)):await i(o,s)},onDidChangeConfiguration(o){return n.add(o),{dispose(){n.delete(o)}}}};async function i(o,s){return await t.workspace.getConfiguration({scopeUri:s,section:o})??void 0}}ou.createConfigurationHost=eN});var ED=S(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.getServerCapabilities=void 0;var _n=On();function tN(e,t,n){let r={textDocumentSync:_n.TextDocumentSyncKind.Incremental,workspace:{workspaceFolders:{supported:!0,changeNotifications:!0}},selectionRangeProvider:!0,foldingRangeProvider:!0,linkedEditingRangeProvider:!0,colorProvider:!0,documentSymbolProvider:!0,documentFormattingProvider:!0,documentRangeFormattingProvider:!0,referencesProvider:!0,implementationProvider:!0,definitionProvider:!0,typeDefinitionProvider:!0,callHierarchyProvider:!0,hoverProvider:!0,renameProvider:{prepareProvider:!0},signatureHelpProvider:{triggerCharacters:[...new Set(t.map(o=>o.signatureHelpTriggerCharacters??[]).flat())],retriggerCharacters:[...new Set(t.map(o=>o.signatureHelpRetriggerCharacters??[]).flat())]},completionProvider:{triggerCharacters:[...new Set(t.map(o=>o.triggerCharacters??[]).flat())],resolveProvider:!0},documentHighlightProvider:!0,documentLinkProvider:{resolveProvider:!0},codeLensProvider:{resolveProvider:!0},semanticTokensProvider:{range:!0,full:!1,legend:n},codeActionProvider:{codeActionKinds:[_n.CodeActionKind.Empty,_n.CodeActionKind.QuickFix,_n.CodeActionKind.Refactor,_n.CodeActionKind.RefactorExtract,_n.CodeActionKind.RefactorInline,_n.CodeActionKind.RefactorRewrite,_n.CodeActionKind.Source,_n.CodeActionKind.SourceFixAll,_n.CodeActionKind.SourceOrganizeImports],resolveProvider:!0},inlayHintProvider:{resolveProvider:!0},workspaceSymbolProvider:!0,diagnosticProvider:{interFileDependencies:!0,workspaceDiagnostics:!1}},i=[...new Set(t.map(o=>o.autoFormatTriggerCharacters??[]).flat())];return i.length&&(r.documentOnTypeFormattingProvider={firstTriggerCharacter:i[0],moreTriggerCharacter:i.slice(1)}),e.length&&(r.workspace={fileOperations:{willRename:{filters:[{pattern:{glob:`**/*.{${e.join(",")}}`}}]}}}),r}su.getServerCapabilities=tN});var ap=S(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.DiagnosticModel=void 0;var qD;(function(e){e[e.None=0]="None",e[e.Push=1]="Push",e[e.Pull=2]="Pull"})(qD||(au.DiagnosticModel=qD={}))});var _i=S(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.fileNameToUri=Si.uriToFileName=void 0;var cp=Nn();function nN(e){let t=cp.URI.parse(e);return t.scheme==="file"?t.fsPath.replace(/\\/g,"/"):`/${t.scheme}@@${t.authority}@@${t.path}`}Si.uriToFileName=nN;function rN(e){if(e.startsWith("/")&&e.includes("@@")){let t=e.slice(1).split("@@");if(t.length!==3)throw new Error("Invalid file name");return cp.URI.from({scheme:t[0],authority:t[1],path:t[2]}).toString()}return cp.URI.file(e).toString()}Si.fileNameToUri=rN});var cu=S(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.createUriMap=Ci._=void 0;var iN=Nn();Ci._=Nn();function oN(e,t=new Map){let n=new Map,r=new Map;return{clear:s,values:a,uriKeys:c,uriDelete:u,uriGet:d,uriHas:l,uriSet:p,pathDelete:f,pathGet:g,pathHas:h,pathSet:b};function i(m){return n.has(m)||n.set(m,sN(m).toLowerCase()),n.get(m)}function o(m){return r.has(m)||r.set(m,e(m).toLowerCase()),r.get(m)}function s(){return t.clear()}function a(){return t.values()}function c(){return t.keys()}function u(m){return t.delete(i(m))}function d(m){return t.get(i(m))}function l(m){return t.has(i(m))}function p(m,y){return t.set(i(m),y)}function f(m){return u(o(m))}function g(m){return d(o(m))}function h(m){return d(o(m))}function b(m,y){return p(o(m),y)}}Ci.createUriMap=oN;function sN(e){try{return iN.URI.parse(e).toString()}catch{return""}}});var Ro=S(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.LoadedTSFilesMetaRequest=de.GetVirtualCodeRequest=de.GetVirtualFileRequest=de.GetServicePluginsRequest=de.UpdateServicePluginStateNotification=de.UpdateVirtualCodeStateNotification=de.DocumentDrop_DataTransferItemFileDataRequest=de.DocumentDrop_DataTransferItemAsStringRequest=de.DocumentDropRequest=de.ReloadProjectNotification=de.WriteVirtualFilesNotification=de.AutoInsertRequest=de.GetMatchTsConfigRequest=de.FindFileReferenceRequest=de.FsStatRequest=de.FsReadDirectoryRequest=de.FsReadFileRequest=void 0;var ut=Xe(),xD;(function(e){e.type=new ut.RequestType("volar/server/fs/readFile")})(xD||(de.FsReadFileRequest=xD={}));var kD;(function(e){e.type=new ut.RequestType("volar/server/fs/readDirectory")})(kD||(de.FsReadDirectoryRequest=kD={}));var OD;(function(e){e.type=new ut.RequestType("volar/server/fs/stat")})(OD||(de.FsStatRequest=OD={}));var MD;(function(e){e.type=new ut.RequestType("volar/client/findFileReference")})(MD||(de.FindFileReferenceRequest=MD={}));var FD;(function(e){e.type=new ut.RequestType("volar/client/tsconfig")})(FD||(de.GetMatchTsConfigRequest=FD={}));var AD;(function(e){e.type=new ut.RequestType("volar/client/autoInsert")})(AD||(de.AutoInsertRequest=AD={}));var ID;(function(e){e.type=new ut.NotificationType("volar/client/writeVirtualFiles")})(ID||(de.WriteVirtualFilesNotification=ID={}));var jD;(function(e){e.type=new ut.NotificationType("volar/client/reloadProject")})(jD||(de.ReloadProjectNotification=jD={}));var ND;(function(e){e.type=new ut.RequestType("volar/client/documentDrop")})(ND||(de.DocumentDropRequest=ND={}));var LD;(function(e){e.type=new ut.RequestType("volar/client/documentDrop/asString")})(LD||(de.DocumentDrop_DataTransferItemAsStringRequest=LD={}));var $D;(function(e){e.type=new ut.RequestType("volar/client/documentDrop/fileData")})($D||(de.DocumentDrop_DataTransferItemFileDataRequest=$D={}));var WD;(function(e){e.type=new ut.NotificationType("volar/client/labs/updateVirtualFileState")})(WD||(de.UpdateVirtualCodeStateNotification=WD={}));var UD;(function(e){e.type=new ut.NotificationType("volar/client/labs/updateServicePluginState")})(UD||(de.UpdateServicePluginStateNotification=UD={}));var HD;(function(e){e.type=new ut.RequestType("volar/client/servicePlugins")})(HD||(de.GetServicePluginsRequest=HD={}));var VD;(function(e){e.type=new ut.RequestType("volar/client/virtualFiles")})(VD||(de.GetVirtualFileRequest=VD={}));var BD;(function(e){e.type=new ut.RequestType("volar/client/virtualFile")})(BD||(de.GetVirtualCodeRequest=BD={}));var zD;(function(e){e.type=new ut.RequestType0("volar/client/loadedTsFiles")})(zD||(de.LoadedTSFilesMetaRequest=zD={}))});var GD=S(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.registerEditorFeatures=void 0;var Kt=Ro(),aN=_i();function cN(e,t){let n=new Map,r=new WeakSet;e.onRequest(Kt.DocumentDropRequest.type,async({textDocument:i,position:o,dataTransfer:s},a)=>{let c=new Map;for(let d of s)c.set(d.mimeType,{value:d.value,asString(){return e.sendRequest(Kt.DocumentDrop_DataTransferItemAsStringRequest.type,{mimeType:d.mimeType})},asFile(){if(d.file)return{name:d.file.name,uri:d.file.uri,data(){return e.sendRequest(Kt.DocumentDrop_DataTransferItemFileDataRequest.type,{mimeType:d.mimeType})}}}});return(await t.getProject(i.uri)).getLanguageService().doDocumentDrop(i.uri,o,c,a)}),e.onRequest(Kt.GetMatchTsConfigRequest.type,async i=>{let s=(await t.getProject(i.uri)).getLanguageService().context.language.typescript?.configFileName;if(s)return{uri:(0,aN.fileNameToUri)(s)}}),e.onRequest(Kt.GetVirtualFileRequest.type,async i=>{let o=(await t.getProject(i.uri)).getLanguageService(),s=o.context.language.files.get(i.uri);if(s?.generated)return a(s.generated.code);function a(c){let u=o.context.documents.getVirtualCodeUri(s.id,c.id),d=n.get(u)??0;return r.has(c.snapshot)||(d++,n.set(u,d),r.add(c.snapshot)),{fileUri:s.id,virtualCodeId:c.id,languageId:c.languageId,embeddedCodes:c.embeddedCodes?.map(a)||[],version:d,disabled:o.context.disabledVirtualFileUris.has(u)}}}),e.onRequest(Kt.GetVirtualCodeRequest.type,async i=>{let o="",s=[],a=(await t.getProject(i.fileUri)).getLanguageService(),c={},[u]=a.context.language.files.getVirtualCode(i.fileUri,i.virtualCodeId);if(u)for(let d of a.context.documents.getMaps(u))o=d.embeddedDocument.getText(),s=u.codegenStacks??[],c[d.sourceDocument.uri]=d.map.mappings;return{content:o,mappings:c,codegenStacks:s}}),e.onNotification(Kt.ReloadProjectNotification.type,()=>{t.reloadProjects()}),e.onNotification(Kt.WriteVirtualFilesNotification.type,async i=>{let s=await import("fs"),a=(await t.getProject(i.uri)).getLanguageService();if(a.context.language.typescript){let c=a.context.env.workspaceFolder,{languageServiceHost:u}=a.context.language.typescript;for(let d of u.getScriptFileNames())if(s.existsSync(d)){let l=a.context.env.typescript.fileNameToUri(d);if(l.startsWith(c)){let p=a.context.language.files.get(l);if(p?.generated){let f=p.generated.languagePlugin.typescript?.getScript(p.generated.code);if(f){let{snapshot:g}=f.code;s.writeFile(d+f.extension,g.getText(0,g.getLength()),()=>{})}if(p.generated.languagePlugin.typescript?.getExtraScripts)for(let g of p.generated.languagePlugin.typescript.getExtraScripts(l,p.generated.code)){let{snapshot:h}=g.code;s.writeFile(d,h.getText(0,h.getLength()),()=>{})}}}}else{let l=u.getScriptSnapshot(d);l&&s.writeFile(d,l.getText(0,l.getLength()),()=>{})}}}),e.onRequest(Kt.LoadedTSFilesMetaRequest.type,async()=>{let i=new Map;for(let s of await t.getProjects()){let a=s.getLanguageService(),u=a.context.inject("typescript/languageService")?.getProgram();if(u&&a.context.language.typescript){let{configFileName:d,languageServiceHost:l}=a.context.language.typescript,p=d??l.getCurrentDirectory()+"(inferred)",f=u.getSourceFiles()??[];for(let g of f){if(!i.has(g)){let h=0;g.forEachChild(function b(m){h++,m.forEachChild(b)}),i.set(g,{projectNames:[],size:h*128})}i.get(g).projectNames.push(p)}}}let o={inputs:{},outputs:{}};for(let[s,a]of i){let c=a.projectNames.sort().join(", ");a.projectNames.length>=2&&(c=`Shared in ${a.projectNames.length} projects (${c})`),o.outputs[c]??={imports:[],exports:[],entryPoint:"",inputs:{},bytes:0},o.outputs[c].inputs[s.fileName]={bytesInOutput:a.size}}return o}),e.onNotification(Kt.UpdateVirtualCodeStateNotification.type,async i=>{let o=await t.getProject(i.fileUri),s=o.getLanguageServiceDontCreate()?.context;if(s){let a=o.getLanguageService().context.documents.getVirtualCodeUri(i.fileUri,i.virtualCodeId);i.disabled?s.disabledVirtualFileUris.add(a):s.disabledVirtualFileUris.delete(a)}}),e.onNotification(Kt.UpdateServicePluginStateNotification.type,async i=>{let s=(await t.getProject(i.uri)).getLanguageServiceDontCreate()?.context;if(s){let a=s.services[i.serviceId][1];i.disabled?s.disabledServicePlugins.add(a):s.disabledServicePlugins.delete(a)}}),e.onRequest(Kt.GetServicePluginsRequest.type,async i=>{let s=(await t.getProject(i.uri)).getLanguageServiceDontCreate()?.context;if(s){let a=[];for(let c in s.services){let u=s.services[c];a.push({id:c,name:u[0].name,disabled:s.disabledServicePlugins.has(u[1]),features:Object.keys(u[1])})}return a}})}uu.registerEditorFeatures=cN});var JD=S(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.sleep=Di.registerLanguageFeatures=void 0;var uN=fr(),Po=On(),KD=Ro();function lN(e,t,n,r){let i,o,s,a,c,u,d;e.onDocumentFormatting(async(f,g)=>l(f.textDocument.uri,g,h=>h.format(f.textDocument.uri,f.options,void 0,void 0,g))),e.onDocumentRangeFormatting(async(f,g)=>l(f.textDocument.uri,g,h=>h.format(f.textDocument.uri,f.options,f.range,void 0,g))),e.onDocumentOnTypeFormatting(async(f,g)=>l(f.textDocument.uri,g,h=>h.format(f.textDocument.uri,f.options,void 0,f,g))),e.onSelectionRanges(async(f,g)=>l(f.textDocument.uri,g,h=>h.getSelectionRanges(f.textDocument.uri,f.positions,g))),e.onFoldingRanges(async(f,g)=>l(f.textDocument.uri,g,h=>h.getFoldingRanges(f.textDocument.uri,g))),e.languages.onLinkedEditingRange(async(f,g)=>l(f.textDocument.uri,g,h=>h.findLinkedEditingRanges(f.textDocument.uri,f.position,g))),e.onDocumentSymbol(async(f,g)=>l(f.textDocument.uri,g,h=>h.findDocumentSymbols(f.textDocument.uri,g))),e.onDocumentColor(async(f,g)=>l(f.textDocument.uri,g,h=>h.findDocumentColors(f.textDocument.uri,g))),e.onColorPresentation(async(f,g)=>l(f.textDocument.uri,g,h=>h.getColorPresentations(f.textDocument.uri,f.color,f.range,g))),e.onCompletion(async(f,g)=>l(f.textDocument.uri,g,async h=>{i=f.textDocument.uri,o=h;let b=await h.doComplete(f.textDocument.uri,f.position,f.context,g);for(let m of b.items)p(m);return b})),e.onCompletionResolve(async(f,g)=>(i&&o&&(f=await o.doCompletionResolve(f,g),p(f)),f)),e.onHover(async(f,g)=>l(f.textDocument.uri,g,h=>h.doHover(f.textDocument.uri,f.position,g))),e.onSignatureHelp(async(f,g)=>l(f.textDocument.uri,g,h=>h.getSignatureHelp(f.textDocument.uri,f.position,f.context,g))),e.onPrepareRename(async(f,g)=>l(f.textDocument.uri,g,async h=>{let b=await h.prepareRename(f.textDocument.uri,f.position,g);return b&&"message"in b?new Po.ResponseError(0,b.message):b})),e.onRenameRequest(async(f,g)=>l(f.textDocument.uri,g,h=>h.doRename(f.textDocument.uri,f.position,f.newName,g))),e.onCodeLens(async(f,g)=>l(f.textDocument.uri,g,async h=>(s=h,h.doCodeLens(f.textDocument.uri,g)))),e.onCodeLensResolve(async(f,g)=>await s?.doCodeLensResolve(f,g)??f),e.onCodeAction(async(f,g)=>l(f.textDocument.uri,g,async h=>{a=h;let b=await h.doCodeActions(f.textDocument.uri,f.range,f.context,g)??[];for(let m of b)m.data&&typeof m.data=="object"?m.data.uri=f.textDocument.uri:m.data={uri:f.textDocument.uri};return n.capabilities.textDocument?.codeAction?.disabledSupport||(b=b.filter(m=>!m.disabled)),b})),e.onCodeActionResolve(async(f,g)=>await a.doCodeActionResolve(f,g)??f),e.onReferences(async(f,g)=>l(f.textDocument.uri,g,h=>h.findReferences(f.textDocument.uri,f.position,{includeDeclaration:!0},g))),e.onRequest(KD.FindFileReferenceRequest.type,async(f,g)=>l(f.textDocument.uri,g,h=>h.findFileReferences(f.textDocument.uri,g))),e.onImplementation(async(f,g)=>l(f.textDocument.uri,g,h=>h.findImplementations(f.textDocument.uri,f.position,g))),e.onDefinition(async(f,g)=>l(f.textDocument.uri,g,h=>h.findDefinition(f.textDocument.uri,f.position,g))),e.onTypeDefinition(async(f,g)=>l(f.textDocument.uri,g,h=>h.findTypeDefinition(f.textDocument.uri,f.position,g))),e.onDocumentHighlight(async(f,g)=>l(f.textDocument.uri,g,h=>h.findDocumentHighlights(f.textDocument.uri,f.position,g))),e.onDocumentLinks(async(f,g)=>await l(f.textDocument.uri,g,h=>(u=h,h.findDocumentLinks(f.textDocument.uri,g)))),e.onDocumentLinkResolve(async(f,g)=>await u.doDocumentLinkResolve(f,g)),e.onWorkspaceSymbol(async(f,g)=>{let h=[];for(let b of await t.getProjects()){if(g.isCancellationRequested)return;h=h.concat(await b.getLanguageService().findWorkspaceSymbols(f.query,g))}return h}),e.languages.callHierarchy.onPrepare(async(f,g)=>await l(f.textDocument.uri,g,async h=>(c=h,h.callHierarchy.doPrepare(f.textDocument.uri,f.position,g)))??[]),e.languages.callHierarchy.onIncomingCalls(async(f,g)=>await c?.callHierarchy.getIncomingCalls(f.item,g)??[]),e.languages.callHierarchy.onOutgoingCalls(async(f,g)=>await c?.callHierarchy.getOutgoingCalls(f.item,g)??[]),e.languages.semanticTokens.on(async(f,g,h,b)=>await l(f.textDocument.uri,g,async m=>await m?.getSemanticTokens(f.textDocument.uri,void 0,r,g,y=>b?.report(y)))??{data:[]}),e.languages.semanticTokens.onRange(async(f,g,h,b)=>await l(f.textDocument.uri,g,async m=>await m?.getSemanticTokens(f.textDocument.uri,f.range,r,g,y=>b?.report(y)))??{data:[]}),e.languages.diagnostics.on(async(f,g,h,b)=>{let m=await l(f.textDocument.uri,g,y=>y.doValidation(f.textDocument.uri,g,v=>{b?.report({relatedDocuments:{[f.textDocument.uri]:{kind:Po.DocumentDiagnosticReportKind.Full,items:v}}})}));return{kind:Po.DocumentDiagnosticReportKind.Full,items:m??[]}}),e.languages.inlayHint.on(async(f,g)=>l(f.textDocument.uri,g,async h=>(d=h,h.getInlayHints(f.textDocument.uri,f.range,g)))),e.languages.inlayHint.resolve(async(f,g)=>await d.doInlayHintResolve(f,g)),e.workspace.onWillRenameFiles(async(f,g)=>{let b=(await Promise.all(f.files.map(async m=>await l(m.oldUri,g,y=>y.getEditsForFileRename(m.oldUri,m.newUri,g)??null)??null))).filter(m=>!!m);return b.length?(uN.mergeWorkspaceEdits(b[0],...b.slice(1)),b[0]):null}),e.onRequest(KD.AutoInsertRequest.type,async(f,g)=>l(f.textDocument.uri,g,h=>h.doAutoInsert(f.textDocument.uri,f.position,f.lastChange,g)));function l(f,g,h){return new Promise(b=>{let m=setTimeout(async()=>{if(clearTimeout(m),g.isCancellationRequested){b(void 0);return}let y=(await t.getProject(f)).getLanguageService();try{let v=await h(y);if(g.isCancellationRequested){b(void 0);return}b(v)}catch{b(void 0);return}},0)})}function p(f){(n.capabilities.textDocument?.completion?.completionItem?.insertReplaceSupport??!1)||f.textEdit&&Po.InsertReplaceEdit.is(f.textEdit)&&(f.textEdit=Po.TextEdit.replace(f.textEdit.insert,f.textEdit.newText))}}Di.registerLanguageFeatures=lN;function dN(e){return new Promise(t=>setTimeout(t,e))}Di.sleep=dN});var XD=S((JH,fN)=>{fN.exports={name:"@volar/language-server",version:"2.1.0",license:"MIT",files:["**/*.js","**/*.d.ts"],repository:{type:"git",url:"https://github.com/volarjs/volar.js.git",directory:"packages/language-server"},dependencies:{"@volar/language-core":"2.1.0","@volar/language-service":"2.1.0","@volar/snapshot-document":"2.1.0","@volar/typescript":"2.1.0","@vscode/l10n":"^0.0.16","path-browserify":"^1.0.1","request-light":"^0.7.0","vscode-languageserver":"^9.0.1","vscode-languageserver-protocol":"^3.17.5","vscode-languageserver-textdocument":"^1.0.11","vscode-uri":"^3.0.8"},devDependencies:{"@types/path-browserify":"latest"},gitHead:"09e1792f0adafb02caf89a5a45a6fcaaf3177808"}});var YD=S(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.createServerBase=void 0;var QD=fr(),gN=CD(),pN=(wD(),tr(PD)),hN=rp(),Ri=On(),mN=Nn(),yN=TD(),vN=ED(),up=ap(),bN=_i(),SN=cu();function _N(e,t){let n,r,i,o=0,s=0,a=new Ri.TextDocuments({create(R,P,_,D){return new gN.SnapshotDocument(R,P,_,D)},update(R,P,_){return R.update(P,_),R}}),c=new Set,u=(0,SN.createUriMap)(bN.fileNameToUri);return a.listen(e),{initialize:d,initialized:l,shutdown:p,get projects(){return r},get env(){return n.runtimeEnv}};async function d(R,P,_){i=_;let D=t(R);if(n={initializeParams:R,runtimeEnv:{...D,fs:f(D.fs)},configurationHost:R.capabilities.workspace?.configuration?(0,yN.createConfigurationHost)(R,e):void 0,onDidChangeWatchedFiles:q=>(c.add(q),{dispose:()=>{c.delete(q)}}),documents:a,workspaceFolders:u,reloadDiagnostics:h,updateDiagnosticsAndSemanticTokens:b},n.initializeParams.initializationOptions?.l10n&&await pN.config({uri:n.initializeParams.initializationOptions.l10n.location}),R.capabilities.workspace?.workspaceFolders&&R.workspaceFolders)for(let q of R.workspaceFolders)u.uriSet(q.uri,!0);else R.rootUri?u.uriSet(R.rootUri,!0):R.rootPath&&u.uriSet(mN.URI.file(R.rootPath).toString(),!0);let E=await i.getServicePlugins(),k=g();r=P({...n},E,i.getLanguagePlugins),a.onDidChangeContent(({document:q})=>{m(q.uri)}),a.onDidClose(({document:q})=>{v()&&e.sendDiagnostics({uri:q.uri,diagnostics:[]})}),n.configurationHost?.onDidChangeConfiguration?.(b),(await Promise.resolve().then(()=>xo(GD()))).registerEditorFeatures(e,r),(await Promise.resolve().then(()=>xo(JD()))).registerLanguageFeatures(e,r,R,k);let T={capabilities:(0,vN.getServerCapabilities)(i.watchFileExtensions??[],E,k)};R.initializationOptions?.diagnosticModel!==up.DiagnosticModel.Pull&&(T.capabilities.diagnosticProvider=void 0);try{let q=XD();T.serverInfo={name:q.name,version:q.version}}catch{}return T}function l(){n.configurationHost?.ready(),n.configurationHost?.onDidChangeConfiguration?.(R),R(),n.initializeParams.capabilities.workspace?.workspaceFolders&&e.workspace.onDidChangeWorkspaceFolders(P=>{for(let _ of P.added)u.uriSet(_.uri,!0);for(let _ of P.removed)u.uriDelete(_.uri);r.reloadProjects()}),n.initializeParams.capabilities.workspace?.didChangeWatchedFiles?.dynamicRegistration&&i.watchFileExtensions?.length&&(e.client.register(Ri.DidChangeWatchedFilesNotification.type,{watchers:[{globPattern:`**/*.{${i.watchFileExtensions.join(",")}}`}]}),e.onDidChangeWatchedFiles(P=>{for(let _ of c)_(P)}));async function R(){let P=await n.configurationHost?.getConfiguration?.("http");(0,hN.configure)(P?.proxy,P?.proxyStrictSSL??!1)}}function p(){r?.reloadProjects()}function f(R){let P=new Map,_=new Map,D=new Map;return c.add(({changes:E})=>{for(let k of E)if(k.type===Ri.FileChangeType.Deleted){P.set(k.uri,void 0),_.set(k.uri,void 0);let T=k.uri.substring(0,k.uri.lastIndexOf("/"));D.delete(T)}else if(k.type===Ri.FileChangeType.Changed)P.delete(k.uri),_.delete(k.uri);else if(k.type===Ri.FileChangeType.Created){P.delete(k.uri),_.delete(k.uri);let T=k.uri.substring(0,k.uri.lastIndexOf("/"));D.delete(T)}}),{readFile:E=>(P.has(E)||P.set(E,R.readFile(E)),P.get(E)),stat:E=>(_.has(E)||_.set(E,R.stat(E)),_.get(E)),readDirectory:E=>(D.has(E)||D.set(E,R.readDirectory(E)),D.get(E))}}function g(){return{tokenTypes:[...QD.standardSemanticTokensLegend.tokenTypes,...n.initializeParams.initializationOptions?.semanticTokensLegend?.tokenTypes??[]],tokenModifiers:[...QD.standardSemanticTokensLegend.tokenModifiers,...n.initializeParams.initializationOptions?.semanticTokensLegend?.tokenModifiers??[]]}}function h(){if(v()){for(let R of a.all())e.sendDiagnostics({uri:R.uri,diagnostics:[]});b()}}async function b(){let R=++o;await m(),await lp(250),R===o&&(n.initializeParams.capabilities.workspace?.semanticTokens?.refreshSupport&&e.languages.semanticTokens.refresh(),n.initializeParams.capabilities.workspace?.inlayHint?.refreshSupport&&e.languages.inlayHint.refresh(),v()&&n.initializeParams.capabilities.workspace?.diagnostics?.refreshSupport&&e.languages.diagnostics.refresh())}async function m(R){if(!v())return;let P=++s,_=250,D={get isCancellationRequested(){return P!==s},onCancellationRequested:Ri.Event.None},E=R?a.get(R):void 0,k=[...a.all()].filter(T=>T!==E);if(E){if(await lp(_),D.isCancellationRequested)return;await y(E.uri,E.version,D)}for(let T of k){if(await lp(_),D.isCancellationRequested)break;await y(T.uri,T.version,D)}}async function y(R,P,_){let E=await(await r.getProject(R)).getLanguageService().doValidation(R,_,k=>{e.sendDiagnostics({uri:R,diagnostics:k,version:P})});e.sendDiagnostics({uri:R,diagnostics:E,version:P})}function v(){return(n.initializeParams.initializationOptions?.diagnosticModel??up.DiagnosticModel.Push)===up.DiagnosticModel.Push}}lu.createServerBase=_N;function lp(e){return new Promise(t=>setTimeout(t,e))}});var ZD=S(tn=>{"use strict";var CN=tn&&tn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),wo=tn&&tn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&CN(t,e,n)};Object.defineProperty(tn,"__esModule",{value:!0});wo(Ro(),tn);wo(ap(),tn);wo(On(),tn);wo(el(),tn);wo(cd(),tn)});var tR=S(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.createSimpleServerProject=void 0;var eR=fr();async function DN(e,t,n,r){let i,o=await r(t,{});return{getLanguageService:s,getLanguageServiceDontCreate:()=>i,dispose(){i?.dispose()}};function s(){if(!i){let a=(0,eR.createFileRegistry)(o,!1,c=>{let u=e.documents.get(c);u?a.set(c,u.languageId,u.getSnapshot()):a.delete(c)});i=(0,eR.createLanguageService)({files:a},n,t)}return i}}du.createSimpleServerProject=DN});var fp=S(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.getWorkspaceFolder=Yn.createServiceEnvironment=Yn.createSimpleProjectProviderFactory=void 0;var dp=Nn(),RN=tR(),nR=_i();function PN(){return(e,t,n)=>{let r=new Map;return{getProject(i){let o=iR(i,e.workspaceFolders),s=r.get(o);if(!s){let a=rR(e,o);s=(0,RN.createSimpleServerProject)(e,a,t,n),r.set(o,s)}return s},async getProjects(){return await Promise.all([...r.values()])},reloadProjects(){for(let i of r.values())i.then(o=>o.dispose());r.clear(),e.reloadDiagnostics()}}}}Yn.createSimpleProjectProviderFactory=PN;function rR(e,t){return{workspaceFolder:t,fs:e.runtimeEnv.fs,locale:e.initializeParams.locale,clientCapabilities:e.initializeParams.capabilities,getConfiguration:e.configurationHost?.getConfiguration,onDidChangeConfiguration:e.configurationHost?.onDidChangeConfiguration,onDidChangeWatchedFiles:e.onDidChangeWatchedFiles,typescript:{fileNameToUri:nR.fileNameToUri,uriToFileName:nR.uriToFileName}}}Yn.createServiceEnvironment=rR;function iR(e,t){let n=dp.URI.parse(e);for(;;){if(t.uriHas(n.toString()))return n.toString();let r=dp.URI.parse(e).with({path:n.path.substring(0,n.path.lastIndexOf("/"))});if(r.path===n.path)break;n=r}for(let r of t.uriKeys())return r;return dp.URI.parse(e).with({path:"/"}).toString()}Yn.getWorkspaceFolder=iR});var sR=S(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.isFileInDir=void 0;var oR=wn();function wN(e,t){let n=oR.relative(t,e);return!!n&&!n.startsWith("..")&&!oR.isAbsolute(n)}fu.isFileInDir=wN});var aR=S(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.getInferredCompilerOptions=void 0;async function TN(e){let[t={},n={}]=await Promise.all([e?.getConfiguration?.("js/ts.implicitProjectConfig"),e?.getConfiguration?.("javascript.implicitProjectConfig")]),r=c(),i=u(),o=d(),s=l();return{...p("typescript"),allowJs:!0,allowSyntheticDefaultImports:!0,allowNonTsExtensions:!0,resolveJsonModule:!0,jsx:1};function c(){return t.checkJs??n.checkJs??!1}function u(){return t.experimentalDecorators??n.experimentalDecorators??!1}function d(){return t.strictNullChecks??!1}function l(){return t.strictFunctionTypes??!0}function p(f){let g={module:1,target:7,jsx:1};return r&&(g.checkJs=!0,f==="typescript"&&(g.allowJs=!0)),i&&(g.experimentalDecorators=!0),o&&(g.strictNullChecks=!0),s&&(g.strictFunctionTypes=!0),f==="typescript"&&(g.sourceMap=!0),g}}gu.getInferredCompilerOptions=TN});var lR=S(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.createTypeScriptServerProject=void 0;var cR=fr(),uR=gs(),EN=wn(),qN=On(),xN=cu(),To=_i();async function kN(e,t,n,r,i,o,s){let a,c=0,u,d=(0,uR.createSys)(e,i,(0,To.uriToFileName)(i.workspaceFolder)),l={getCurrentDirectory:()=>(0,To.uriToFileName)(i.workspaceFolder),getProjectVersion:()=>c.toString(),getScriptFileNames:()=>b,getScriptSnapshot:P=>{f.pathSet(P,!0);let _=r.documents.get((0,To.fileNameToUri)(P));if(_)return _.getSnapshot()},getCompilationSettings:()=>a.options,getLocalizedDiagnosticMessages:t?()=>t:void 0,getProjectReferences:()=>a.projectReferences,getLanguageId:P=>r.documents.get(P)?.languageId??(0,cR.resolveCommonLanguageId)(P)},p=await s(i,{typescript:{configFileName:typeof n=="string"?n:void 0,host:l,sys:d}}),f=(0,xN.createUriMap)(To.fileNameToUri),g=r.documents.onDidChangeContent(()=>{c++}),h=i.onDidChangeWatchedFiles?.(P=>{v(P.changes)}),b=await m(p);return{askedFiles:f,getLanguageService:y,getLanguageServiceDontCreate:()=>u,tryAddFile(P){b.includes(P)||(b.push(P),c++)},dispose:R,getParsedCommandLine:()=>a};async function m(P){return a=await ON(e,d,(0,To.uriToFileName)(i.workspaceFolder),n,P.map(_=>_.typescript?.extraFileExtensions??[]).flat()),a.fileNames}function y(){if(!u){let P=(0,uR.createLanguage)(e,d,p,typeof n=="string"?n:void 0,l,{fileNameToFileId:i.typescript.fileNameToUri,fileIdToFileName:i.typescript.uriToFileName});u=(0,cR.createLanguageService)(P,o,i)}return u}async function v(P){P.filter(D=>D.type===qN.FileChangeType.Created).length&&(b=await m(p)),c++}function R(){d.dispose(),u?.dispose(),h?.dispose(),g.dispose()}}pu.createTypeScriptServerProject=kN;async function ON(e,t,n,r,i){let o={errors:[],fileNames:[],options:{}},s,a=await t.sync();for(;s!==a;){s=a;try{if(typeof r=="string"){let c=e.readJsonConfigFile(r,t.readFile);o=e.parseJsonSourceFileConfigFileContent(c,t,EN.dirname(r),{},r,void 0,i)}else o=e.parseJsonConfigFileContent({files:[]},t,n,r,n+"/jsconfig.json",void 0,i);o.options.outDir=void 0,o.fileNames=o.fileNames.map(c=>c.replace(/\\/g,"/"))}catch{}a=await t.sync()}return o}});var gR=S(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.sortTSConfigs=Pi.createTypeScriptProjectProviderFactory=void 0;var hu=fr(),Cn=wn(),mu=On(),MN=Nn(),pp=sR(),gp=cu(),FN=aR(),yu=fp(),dR=lR(),Ct=_i(),fR=["tsconfig.json","jsconfig.json"];function AN(e,t){return(n,r,i)=>{let{fs:o}=n.runtimeEnv,s=(0,gp.createUriMap)(Ct.fileNameToUri),a=(0,gp.createUriMap)(Ct.fileNameToUri),c=new Set,u=new Set;return n.onDidChangeWatchedFiles(({changes:f})=>{let g=f.filter(h=>fR.includes(h.uri.substring(h.uri.lastIndexOf("/")+1)));for(let h of g)if(h.type===mu.FileChangeType.Created)c.add((0,Ct.uriToFileName)(h.uri));else if((h.type===mu.FileChangeType.Changed||h.type===mu.FileChangeType.Deleted)&&s.uriHas(h.uri)){h.type===mu.FileChangeType.Deleted&&c.delete((0,Ct.uriToFileName)(h.uri));let b=s.uriGet(h.uri);s.uriDelete(h.uri),b?.then(m=>m.dispose())}g.length?n.reloadDiagnostics():n.updateDiagnosticsAndSemanticTokens()}),{async getProject(f){let g=await d(MN.URI.parse(f));if(g)return await l(g);let h=(0,yu.getWorkspaceFolder)(f,n.workspaceFolders);return await p(f,h)},async getProjects(){return await Promise.all([...s.values(),...a.values()])},reloadProjects(){for(let f of[...s.values(),...a.values()])f.then(g=>g.dispose());s.clear(),a.clear(),n.reloadDiagnostics()}};async function d(f){let g=(0,Ct.uriToFileName)(f.toString()),h=Cn.dirname(g);for(;!u.has(h);){u.add(h);for(let _ of fR){let D=Cn.join(h,_);(await o.stat?.((0,Ct.fileNameToUri)(D)))?.type===hu.FileType.File&&c.add(D)}h=Cn.dirname(h)}return await b(),await y()??await m();async function b(){let _=[];for(let D of c)(0,pp.isFileInDir)((0,Ct.uriToFileName)(f.toString()),Cn.dirname(D))&&_.push(D);_=_.sort((D,E)=>hp((0,Ct.uriToFileName)(f.toString()),D,E)),_.length&&await P(_[0])}function m(){return v(async _=>(await s.pathGet(_))?.askedFiles.uriHas(f.toString())??!1)}function y(){return v(async _=>{let D=(0,gp.createUriMap)(Ct.fileNameToUri),E=await P(_);for(let k of E?.fileNames??[])D.pathSet(k,!0);return D.uriHas(f.toString())})}async function v(_){let D=new Set;for(let E of[...c].sort((k,T)=>hp((0,Ct.uriToFileName)(f.toString()),k,T))){let k=await s.pathGet(E);if(k){let T=await R(k.getParsedCommandLine(),E,[]);T=T.reverse();for(let q of T)for(let N=q.length-1;N>=0;N--){let F=q[N];if(!D.has(F)&&(D.add(F),await _(F)))return F}}}}async function R(_,D,E){if(_.projectReferences?.length){let k=[];for(let T of _.projectReferences){let q=T.path.replace(/\\/g,"/");if((await o.stat?.((0,Ct.fileNameToUri)(q)))?.type===hu.FileType.File){let F=Cn.join(q,"tsconfig.json"),x=Cn.join(q,"jsconfig.json");(await o.stat?.((0,Ct.fileNameToUri)(F)))?.type===hu.FileType.File?q=F:(await o.stat?.((0,Ct.fileNameToUri)(x)))?.type===hu.FileType.File&&(q=x)}let N=E.indexOf(q);if(N>=0)k.push(E.slice(0,Math.max(N,1)));else{let F=await P(q);if(F)for(let x of await R(F,q,[...E,D]))k.push(x)}}return k}else return[[...E,D]]}async function P(_){return(await l(_))?.getParsedCommandLine()}}function l(f){f=f.replace(/\\/g,"/");let g=s.pathGet(f);if(!g){let h=(0,yu.getWorkspaceFolder)((0,Ct.fileNameToUri)(f),n.workspaceFolders),b=(0,yu.createServiceEnvironment)(n,h);g=(0,dR.createTypeScriptServerProject)(e,t,f,n,b,r,i),s.pathSet(f,g)}return g}async function p(f,g){a.uriHas(g)||a.uriSet(g,(async()=>{let b=await(0,FN.getInferredCompilerOptions)(n.configurationHost),m=(0,yu.createServiceEnvironment)(n,g);return(0,dR.createTypeScriptServerProject)(e,t,b,n,m,r,i)})());let h=await a.uriGet(g.toString());return h.tryAddFile((0,Ct.uriToFileName)(f)),h}}}Pi.createTypeScriptProjectProviderFactory=AN;function hp(e,t,n){let r=(0,pp.isFileInDir)(e,Cn.dirname(t)),i=(0,pp.isFileInDir)(e,Cn.dirname(n));if(r!==i)return(i?1:0)-(r?1:0);let o=t.split("/").length,s=n.split("/").length;if(o===s){let a=Cn.basename(t)==="tsconfig.json"?1:0;return(Cn.basename(n)==="tsconfig.json"?1:0)-a}return s-o}Pi.sortTSConfigs=hp});var hR=S(yt=>{"use strict";var IN=yt&&yt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),vu=yt&&yt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&IN(t,e,n)};Object.defineProperty(yt,"__esModule",{value:!0});yt.loadTsdkByUrl=yt.createServer=yt.createConnection=void 0;var jN=fr(),mp=np(),pR=bD(),NN=YD(),yp=Ro();vu(np(),yt);vu(ZD(),yt);vu(fp(),yt);vu(gR(),yt);function LN(){let e=new mp.BrowserMessageReader(self),t=new mp.BrowserMessageWriter(self);return mp.createConnection(e,t)}yt.createConnection=LN;function $N(e){return(0,NN.createServerBase)(e,()=>({fs:{async stat(t){if(t.startsWith("http://")||t.startsWith("https://")){let n=await this.readFile(t);return n!==void 0?{type:jN.FileType.File,size:n.length,ctime:-1,mtime:-1}:void 0}return await e.sendRequest(yp.FsStatRequest.type,t)},async readFile(t){return t.startsWith("http://")||t.startsWith("https://")?await(0,pR.default)(t):await e.sendRequest(yp.FsReadFileRequest.type,t)??void 0},async readDirectory(t){return t.startsWith("http://")||t.startsWith("https://")?[]:await e.sendRequest(yp.FsReadDirectoryRequest.type,t)}}}))}yt.createServer=$N;async function WN(e,t){return{typescript:await n(),diagnosticMessages:await r()};async function n(){let i=globalThis.module;try{return globalThis.module={exports:{}},await import(`${e}/typescript.js`),globalThis.module.exports}finally{globalThis.module=i}}async function r(){try{let i=await(0,pR.default)(`${e}/${t}/diagnosticMessages.generated.json`);if(i)return JSON.parse(i)}catch{}}}yt.loadTsdkByUrl=WN});var mR=xo(jv(),1),Zn=xo(hR(),1),Eo=(0,Zn.createConnection)(),vp=(0,Zn.createServer)(Eo);Eo.listen();Eo.onInitialize(async e=>{let t=e.initializationOptions,n=await(0,Zn.loadTsdkByUrl)(t.typescript.tsdkUrl,"en");return vp.initialize(e,(0,Zn.createTypeScriptProjectProviderFactory)(n.typescript,n.diagnosticMessages),{watchFileExtensions:["js","cjs","mjs","ts","cts","mts","jsx","tsx","json"],getServicePlugins:()=>[(0,mR.create)(n.typescript)],getLanguagePlugins(){return t.globalModules?[{createVirtualCode:()=>{},updateVirtualCode:(i,o)=>o,typescript:{extraFileExtensions:[],getScript:()=>{},resolveLanguageServiceHost(i){let o=(t.globalModules??[]).map(a=>`/// <reference types="${a}" />`).join(`
`),s=n.typescript.ScriptSnapshot.fromString(o);return console.log(i),{...i,getScriptFileNames:()=>[...i.getScriptFileNames(),"/global.d.ts"],getScriptSnapshot:a=>a==="/global.d.ts"?s:i.getScriptSnapshot(a)}}}}]:[]}})});Eo.onInitialized(vp.initialized);Eo.onShutdown(vp.shutdown);})();
